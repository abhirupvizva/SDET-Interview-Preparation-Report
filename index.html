<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive SDET Interview Preparation Report</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --light-bg: #ecf0f1;
            --code-bg: #1e1e1e;
            --code-text: #dcdcdc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: #333;
            background-color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        nav.toc {
            background: var(--light-bg);
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 40px;
        }

        nav.toc h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
        }

        nav.toc ul {
            list-style: none;
            columns: 2;
        }

        nav.toc li {
            margin-bottom: 10px;
        }

        nav.toc a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 500;
        }

        nav.toc a:hover {
            text-decoration: underline;
        }

        section {
            margin-bottom: 60px;
            padding: 30px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h2 {
            color: var(--primary-color);
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--secondary-color);
        }

        h3 {
            color: var(--secondary-color);
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }

        h4 {
            color: var(--primary-color);
            font-size: 1.2em;
            margin: 25px 0 15px 0;
        }

        h5 {
            color: #555;
            font-size: 1.1em;
            margin: 20px 0 10px 0;
        }

        p {
            margin-bottom: 15px;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 8px;
        }

        .code-block {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.6;
        }

        .code-block .comment {
            color: #6a9955;
        }

        .code-block .keyword {
            color: #569cd6;
        }

        .code-block .string {
            color: #ce9178;
        }

        .code-block .function {
            color: #dcdcaa;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            color: var(--accent-color);
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .tip-box {
            background: #d4edda;
            border-left: 4px solid var(--success-color);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid var(--warning-color);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .important-box {
            background: #f8d7da;
            border-left: 4px solid var(--accent-color);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .interview-qa {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }

        .interview-qa .question {
            background: var(--primary-color);
            color: white;
            padding: 15px 20px;
            font-weight: bold;
        }

        .interview-qa .answer {
            padding: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background: var(--primary-color);
            color: white;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        .star-format {
            background: #e8f4fd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .star-format h5 {
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .match-strong {
            color: var(--success-color);
            font-weight: bold;
        }

        .match-partial {
            color: var(--warning-color);
            font-weight: bold;
        }

        .match-gap {
            color: var(--accent-color);
            font-weight: bold;
        }

        .checklist {
            list-style: none;
            margin-left: 0;
        }

        .checklist li::before {
            content: "âœ“ ";
            color: var(--success-color);
            font-weight: bold;
        }

        .timeline {
            border-left: 3px solid var(--secondary-color);
            padding-left: 30px;
            margin: 20px 0;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -38px;
            top: 5px;
            width: 15px;
            height: 15px;
            background: var(--secondary-color);
            border-radius: 50%;
        }

        .framework-diagram {
            background: #f5f5f5;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            font-family: monospace;
        }

        @media print {
            section {
                page-break-inside: avoid;
            }

            .code-block {
                white-space: pre-wrap;
            }
        }

        @media (max-width: 768px) {
            nav.toc ul {
                columns: 1;
            }

            header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>ğŸ¯ Comprehensive SDET Interview Preparation Report</h1>
        <p>Enterprise SaaS | Senior Level | 40,000+ Words Deep Dive</p>
        <p>Complete Guide to Mastering SDET Interviews</p>
    </header>

    <div class="container">
        <nav class="toc">
            <h2>ğŸ“‘ Table of Contents</h2>
            <ul>
                <li><a href="#section1">1. Resume-to-JD Mapping (SDET Lens)</a></li>
                <li><a href="#section2">2. Testing Strategy & Automation</a></li>
                <li><a href="#section3">3. Hands-On Testing Scenarios</a></li>
                <li><a href="#section4">4. SQL & Database Testing</a></li>
                <li><a href="#section5">5. Cloud Testing (AWS & Azure)</a></li>
                <li><a href="#section6">6. CI/CD & DevOps for SDETs</a></li>
                <li><a href="#section7">7. Behavioral Interview Preparation</a></li>
                <li><a href="#section8">8. Gap Analysis & Improvement Plan</a></li>
                <li><a href="#section9">9. Deep Dive: Framework Design</a></li>
                <li><a href="#section10">10. Advanced Interview Questions</a></li>
                <li><a href="#section11">11. Real-World Testing Scenarios</a></li>
                <li><a href="#section12">12. Quick Revision Guide</a></li>
            </ul>
        </nav>

        <!-- SECTION 1: Resume-to-JD Mapping -->
        <section id="section1">
            <h2>1. Resume-to-JD Mapping (SDET Lens)</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Objective</h3>
                <p>Transform your software engineering experience into compelling SDET narratives. Every development experience has a testing angle - learn to articulate it effectively.</p>
            </div>

            <h3>1.1 Understanding Common SDET JD Requirements</h3>

            <p>Before mapping, let's understand what enterprise SaaS companies typically look for in SDET roles:</p>

            <table>
                <tr>
                    <th>JD Requirement Category</th>
                    <th>Typical Keywords</th>
                    <th>Priority Level</th>
                </tr>
                <tr>
                    <td>Automation Framework Development</td>
                    <td>Selenium, Playwright, Cypress, TestNG, pytest, Framework Design</td>
                    <td><span class="match-strong">HIGH</span></td>
                </tr>
                <tr>
                    <td>API Testing</td>
                    <td>REST, GraphQL, Postman, RestAssured, API validation</td>
                    <td><span class="match-strong">HIGH</span></td>
                </tr>
                <tr>
                    <td>CI/CD Integration</td>
                    <td>Jenkins, Azure DevOps, GitHub Actions, Pipeline automation</td>
                    <td><span class="match-strong">HIGH</span></td>
                </tr>
                <tr>
                    <td>Programming Skills</td>
                    <td>Java, Python, JavaScript, TypeScript, C#</td>
                    <td><span class="match-strong">HIGH</span></td>
                </tr>
                <tr>
                    <td>Cloud Platforms</td>
                    <td>AWS, Azure, GCP, Kubernetes, Docker</td>
                    <td><span class="match-partial">MEDIUM-HIGH</span></td>
                </tr>
                <tr>
                    <td>Database Testing</td>
                    <td>SQL, NoSQL, Data validation, Database integrity</td>
                    <td><span class="match-partial">MEDIUM-HIGH</span></td>
                </tr>
                <tr>
                    <td>Performance Testing</td>
                    <td>JMeter, Gatling, LoadRunner, Performance analysis</td>
                    <td><span class="match-partial">MEDIUM</span></td>
                </tr>
                <tr>
                    <td>Agile/Scrum</td>
                    <td>Sprint planning, Story refinement, QA in Agile</td>
                    <td><span class="match-partial">MEDIUM</span></td>
                </tr>
            </table>

            <h3>1.2 Mapping Development Experience to SDET Requirements</h3>

            <h4>1.2.1 Backend Development â†’ API Testing Expertise</h4>

            <div class="interview-qa">
                <div class="question">How to Explain: "I developed RESTful APIs using Spring Boot"</div>
                <div class="answer">
                    <p><strong>SDET-Aligned Response:</strong></p>
                    <p>"While developing RESTful APIs with Spring Boot, I gained deep understanding of API contracts, request/response structures, and edge cases. This experience directly translates to my API testing expertise:</p>
                    <ul>
                        <li><strong>Contract Validation:</strong> I know exactly what makes an API contract valid - proper HTTP methods, status codes, headers, and payload structures</li>
                        <li><strong>Edge Case Identification:</strong> Having built APIs, I understand common failure points - null handling, boundary conditions, authentication edge cases</li>
                        <li><strong>Performance Considerations:</strong> I can identify APIs that might have N+1 query issues or inefficient database calls</li>
                        <li><strong>Security Testing Awareness:</strong> I understand common vulnerabilities like SQL injection, XSS, and improper authentication that I actively test for</li>
                    </ul>
                    <p>In my testing approach, I use RestAssured for Java-based API testing, implementing comprehensive test suites that cover happy paths, error scenarios, and boundary conditions."</p>
                </div>
            </div>

            <h4>1.2.2 Full-Stack Development â†’ End-to-End Testing</h4>

            <div class="interview-qa">
                <div class="question">How to Explain: "I built web applications using React and Node.js"</div>
                <div class="answer">
                    <p><strong>SDET-Aligned Response:</strong></p>
                    <p>"My full-stack development experience with React and Node.js gives me unique advantages in end-to-end testing:</p>
                    <ul>
                        <li><strong>DOM Understanding:</strong> I understand React's virtual DOM, component lifecycle, and state management, which helps me write more reliable selectors and understand async rendering issues</li>
                        <li><strong>Testing Strategy:</strong> I can identify the right testing layer - unit tests for isolated logic, integration tests for component interactions, and E2E tests for critical user flows</li>
                        <li><strong>Debugging Capabilities:</strong> When tests fail, I can quickly identify if it's a frontend rendering issue, API response problem, or timing issue</li>
                        <li><strong>Framework Selection:</strong> I chose Playwright for our E2E testing because of its auto-wait capabilities and cross-browser support, which aligns well with React's async rendering patterns</li>
                    </ul>
                    <p>I've implemented Page Object Model patterns in Playwright, creating maintainable test suites that reduced our test maintenance time by 40%."</p>
                </div>
            </div>

            <h4>1.2.3 Microservices Development â†’ Integration Testing</h4>

            <div class="interview-qa">
                <div class="question">How to Explain: "I worked with microservices architecture"</div>
                <div class="answer">
                    <p><strong>SDET-Aligned Response:</strong></p>
                    <p>"My experience with microservices architecture shaped my approach to integration testing:</p>
                    <ul>
                        <li><strong>Contract Testing:</strong> I implement Pact-based contract testing to ensure services communicate correctly without requiring all services to be running</li>
                        <li><strong>Service Virtualization:</strong> I use WireMock to stub external service dependencies, enabling isolated testing of individual services</li>
                        <li><strong>Event-Driven Testing:</strong> For message-based communication, I test Kafka/RabbitMQ message producers and consumers using embedded brokers in tests</li>
                        <li><strong>Distributed Tracing:</strong> I validate end-to-end flows across services using correlation IDs and distributed tracing tools</li>
                    </ul>
                    <p>In one project, I designed an integration testing strategy that reduced our inter-service bugs by 60% by implementing contract tests at service boundaries."</p>
                </div>
            </div>

            <h4>1.2.4 Database Development â†’ Data Validation Testing</h4>

            <div class="interview-qa">
                <div class="question">How to Explain: "I designed and optimized database schemas"</div>
                <div class="answer">
                    <p><strong>SDET-Aligned Response:</strong></p>
                    <p>"My database design experience directly enhances my data validation testing capabilities:</p>
                    <ul>
                        <li><strong>Schema Validation:</strong> I validate that application changes don't break database constraints, foreign key relationships, or indexing strategies</li>
                        <li><strong>Data Integrity Testing:</strong> I write SQL queries to verify data consistency across related tables after complex operations</li>
                        <li><strong>Migration Testing:</strong> I test database migrations in isolation before deployment, ensuring data preservation and schema correctness</li>
                        <li><strong>Performance Validation:</strong> I analyze query execution plans to catch performance regressions in database operations</li>
                    </ul>
                    <p>I've created automated data validation frameworks that compare expected vs actual data states, catching issues that would be missed by API-level testing alone."</p>
                </div>
            </div>

            <h3>1.3 Comprehensive JD Requirement Mapping Matrix</h3>

            <table>
                <tr>
                    <th>JD Requirement</th>
                    <th>Dev Experience Translation</th>
                    <th>SDET Interview Narrative</th>
                    <th>Match Level</th>
                </tr>
                <tr>
                    <td>5+ years automation experience</td>
                    <td>Unit testing, integration testing in development</td>
                    <td>"I've written thousands of automated tests as part of TDD/BDD practices, transitioning from developer-written tests to comprehensive test frameworks"</td>
                    <td><span class="match-strong">Strong</span></td>
                </tr>
                <tr>
                    <td>Selenium/Playwright expertise</td>
                    <td>Frontend development, DOM manipulation</td>
                    <td>"My frontend experience gives me deep understanding of DOM, async operations, and element interactions - core skills for effective UI automation"</td>
                    <td><span class="match-partial">Partial</span></td>
                </tr>
                <tr>
                    <td>API testing experience</td>
                    <td>Built and consumed REST APIs</td>
                    <td>"Having built APIs, I understand what to test - not just happy paths, but error handling, edge cases, and security vulnerabilities"</td>
                    <td><span class="match-strong">Strong</span></td>
                </tr>
                <tr>
                    <td>CI/CD pipeline management</td>
                    <td>Deployment automation, build processes</td>
                    <td>"I've integrated test suites into CI/CD pipelines, implementing quality gates and automated test execution on every commit"</td>
                    <td><span class="match-strong">Strong</span></td>
                </tr>
                <tr>
                    <td>Performance testing</td>
                    <td>Performance optimization work</td>
                    <td>"My performance optimization experience helps me identify what to test and interpret results - I've used JMeter and Gatling for load testing"</td>
                    <td><span class="match-partial">Partial</span></td>
                </tr>
                <tr>
                    <td>Cloud platform testing</td>
                    <td>AWS/Azure development and deployment</td>
                    <td>"I test cloud-deployed applications end-to-end, validating configurations, permissions, and infrastructure alongside application functionality"</td>
                    <td><span class="match-strong">Strong</span></td>
                </tr>
            </table>

            <h3>1.4 Identifying and Addressing Gaps</h3>

            <div class="warning-box">
                <h4>âš ï¸ Common Gaps for Developers Transitioning to SDET</h4>
                <ul>
                    <li><strong>Test Management Tools:</strong> Jira/Xray, TestRail, Azure Test Plans</li>
                    <li><strong>Dedicated UI Automation:</strong> Selenium Grid, Cross-browser testing at scale</li>
                    <li><strong>Mobile Testing:</strong> Appium, Mobile-specific testing strategies</li>
                    <li><strong>Security Testing:</strong> OWASP, Penetration testing basics</li>
                    <li><strong>Test Reporting:</strong> Allure, ExtentReports, Custom dashboards</li>
                </ul>
            </div>

            <h4>Gap Mitigation Strategies</h4>

            <div class="tip-box">
                <h5>ğŸ’¡ Strategy 1: Frame Gaps as Learning Opportunities</h5>
                <p>"While I haven't used TestRail extensively, I've worked with Jira for test case management and understand the importance of traceability. I'm confident I can quickly adopt any test management tool given my experience with similar systems."</p>
            </div>

            <div class="tip-box">
                <h5>ğŸ’¡ Strategy 2: Highlight Transferable Skills</h5>
                <p>"Although my Selenium experience is from writing developer-level tests, I understand browser automation deeply. I've recently expanded this by building a Playwright framework from scratch for a side project, implementing Page Object Model and custom waits."</p>
            </div>

            <div class="tip-box">
                <h5>ğŸ’¡ Strategy 3: Show Proactive Learning</h5>
                <p>"I've been upskilling in mobile testing with Appium. Here's a GitHub project where I've automated tests for an Android app, demonstrating my ability to quickly learn and apply new testing technologies."</p>
            </div>

            <h3>1.5 Power Phrases for SDET Interviews</h3>

            <p>Use these phrases to naturally transition development experience to SDET context:</p>

            <ul class="checklist">
                <li>"My development experience gives me a unique perspective on what to test..."</li>
                <li>"Having built similar systems, I know exactly where bugs hide..."</li>
                <li>"I approach testing with a developer's understanding of the codebase..."</li>
                <li>"My full-stack experience means I can debug issues across all layers..."</li>
                <li>"I've shifted from writing code to ensuring code quality at scale..."</li>
                <li>"The testing mindset is about breaking things systematically, which my development experience enables..."</li>
                <li>"I don't just test functionality; I understand the architecture enough to test behavior..."</li>
            </ul>

            <h3>1.6 Sample JD Analysis and Response Preparation</h3>

            <h4>Sample JD Requirement:</h4>
            <div class="code-block">
"We are looking for an SDET with:
- 5+ years experience in test automation
- Expertise in Selenium, Playwright, or Cypress
- Strong API testing skills (REST, GraphQL)
- Experience with CI/CD pipelines (Azure DevOps preferred)
- SQL proficiency for data validation
- Cloud testing experience (AWS/Azure)
- Familiarity with Agile/Scrum methodologies"
            </div>

            <h4>Point-by-Point Response Preparation:</h4>

            <div class="interview-qa">
                <div class="question">5+ years experience in test automation</div>
                <div class="answer">
                    <p><strong>Response Framework:</strong></p>
                    <p>"I have [X] years of experience where testing has been integral to my work. In my role as a developer, I practiced TDD/BDD and wrote comprehensive test suites. Over the past [Y] years, I've focused specifically on test automation, designing frameworks from the ground up.</p>
                    <p>My automation experience spans:</p>
                    <ul>
                        <li>Unit testing with JUnit/TestNG (thousands of tests)</li>
                        <li>Integration testing for microservices</li>
                        <li>API automation with RestAssured</li>
                        <li>UI automation with Playwright/Selenium</li>
                        <li>Performance testing with JMeter</li>
                    </ul>
                    <p>I've led test automation initiatives that improved release confidence and reduced regression testing time from 2 days to 4 hours."</p>
                </div>
            </div>

            <div class="interview-qa">
                <div class="question">Expertise in Selenium, Playwright, or Cypress</div>
                <div class="answer">
                    <p><strong>Response Framework:</strong></p>
                    <p>"I've worked extensively with Playwright, which I chose for its modern architecture and reliability. Here's my approach:</p>
                    <ul>
                        <li><strong>Framework Design:</strong> Built a Page Object Model framework with custom base classes, retry logic, and reporting</li>
                        <li><strong>Cross-browser Testing:</strong> Configured tests to run on Chrome, Firefox, and WebKit in parallel</li>
                        <li><strong>CI Integration:</strong> Integrated with Azure DevOps for nightly runs with screenshot capture on failure</li>
                        <li><strong>Performance Optimization:</strong> Implemented parallel execution reducing suite time from 2 hours to 20 minutes</li>
                    </ul>
                    <p>I also have experience with Selenium for legacy projects and understand the trade-offs between different tools. I'd be happy to dive deeper into any specific scenario."</p>
                </div>
            </div>
        </section>

        <!-- SECTION 2: Testing Strategy & Automation -->
        <section id="section2">
            <h2>2. Testing Strategy & Automation (JD-Aligned)</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Core Philosophy</h3>
                <p>A senior SDET doesn't just write tests - they design testing strategies that balance coverage, speed, and maintainability. This section covers how to articulate your testing philosophy and implementation approach.</p>
            </div>

            <h3>2.1 Automation Framework Development for SaaS Applications</h3>

            <h4>2.1.1 Framework Architecture Principles</h4>

            <div class="framework-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TEST AUTOMATION FRAMEWORK                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Test      â”‚  â”‚  Test Data  â”‚  â”‚    Configuration        â”‚ â”‚
â”‚  â”‚   Cases     â”‚  â”‚  Management â”‚  â”‚    Management           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                      â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              CORE FRAMEWORK LAYER                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Page Object â”‚  â”‚   Custom    â”‚  â”‚   Reporting &   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   Models    â”‚  â”‚   Waits     â”‚  â”‚   Logging       â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              DRIVER/CLIENT LAYER                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Playwright â”‚  â”‚ RestAssured â”‚  â”‚   Database      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   Driver    â”‚  â”‚   Client    â”‚  â”‚   Connector     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
            </div>

            <h4>2.1.2 Complete Framework Implementation</h4>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// BASE TEST CONFIGURATION - TestConfig.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.config;

<span class="keyword">import</span> java.io.FileInputStream;
<span class="keyword">import</span> java.io.IOException;
<span class="keyword">import</span> java.util.Properties;

<span class="keyword">public class</span> <span class="function">TestConfig</span> {
    <span class="keyword">private static</span> Properties properties;
    <span class="keyword">private static final</span> String CONFIG_PATH = <span class="string">"src/test/resources/config.properties"</span>;

    <span class="keyword">static</span> {
        <span class="keyword">try</span> {
            properties = <span class="keyword">new</span> Properties();
            FileInputStream fis = <span class="keyword">new</span> FileInputStream(CONFIG_PATH);
            properties.load(fis);
        } <span class="keyword">catch</span> (IOException e) {
            <span class="keyword">throw new</span> RuntimeException(<span class="string">"Failed to load config file"</span>, e);
        }
    }

    <span class="keyword">public static</span> String <span class="function">getBaseUrl</span>() {
        <span class="keyword">return</span> getProperty(<span class="string">"base.url"</span>);
    }

    <span class="keyword">public static</span> String <span class="function">getApiBaseUrl</span>() {
        <span class="keyword">return</span> getProperty(<span class="string">"api.base.url"</span>);
    }

    <span class="keyword">public static</span> String <span class="function">getBrowser</span>() {
        <span class="keyword">return</span> getProperty(<span class="string">"browser"</span>, <span class="string">"chrome"</span>);
    }

    <span class="keyword">public static boolean</span> <span class="function">isHeadless</span>() {
        <span class="keyword">return</span> Boolean.parseBoolean(getProperty(<span class="string">"headless"</span>, <span class="string">"false"</span>));
    }

    <span class="keyword">public static int</span> <span class="function">getTimeout</span>() {
        <span class="keyword">return</span> Integer.parseInt(getProperty(<span class="string">"timeout"</span>, <span class="string">"30"</span>));
    }

    <span class="keyword">public static</span> String <span class="function">getEnvironment</span>() {
        String env = System.getProperty(<span class="string">"env"</span>);
        <span class="keyword">return</span> env != <span class="keyword">null</span> ? env : getProperty(<span class="string">"environment"</span>, <span class="string">"qa"</span>);
    }

    <span class="keyword">private static</span> String <span class="function">getProperty</span>(String key) {
        String sysProperty = System.getProperty(key);
        <span class="keyword">return</span> sysProperty != <span class="keyword">null</span> ? sysProperty : properties.getProperty(key);
    }

    <span class="keyword">private static</span> String <span class="function">getProperty</span>(String key, String defaultValue) {
        String value = getProperty(key);
        <span class="keyword">return</span> value != <span class="keyword">null</span> ? value : defaultValue;
    }
}
</pre>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// PAGE OBJECT BASE CLASS - BasePage.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.pages;

<span class="keyword">import</span> com.microsoft.playwright.*;
<span class="keyword">import</span> com.sdet.framework.config.TestConfig;
<span class="keyword">import</span> com.sdet.framework.utils.WaitUtils;
<span class="keyword">import</span> org.slf4j.Logger;
<span class="keyword">import</span> org.slf4j.LoggerFactory;

<span class="keyword">public abstract class</span> <span class="function">BasePage</span> {
    <span class="keyword">protected</span> Page page;
    <span class="keyword">protected</span> WaitUtils waitUtils;
    <span class="keyword">protected final</span> Logger logger = LoggerFactory.getLogger(getClass());

    <span class="keyword">public</span> <span class="function">BasePage</span>(Page page) {
        <span class="keyword">this</span>.page = page;
        <span class="keyword">this</span>.waitUtils = <span class="keyword">new</span> WaitUtils(page);
    }

    <span class="comment">// Core interaction methods with built-in waits and logging</span>
    <span class="keyword">protected void</span> <span class="function">click</span>(String selector) {
        logger.info(<span class="string">"Clicking element: {}"</span>, selector);
        waitUtils.waitForClickable(selector);
        page.click(selector);
    }

    <span class="keyword">protected void</span> <span class="function">fill</span>(String selector, String text) {
        logger.info(<span class="string">"Filling element {} with: {}"</span>, selector, text);
        waitUtils.waitForVisible(selector);
        page.fill(selector, text);
    }

    <span class="keyword">protected void</span> <span class="function">clearAndFill</span>(String selector, String text) {
        logger.info(<span class="string">"Clearing and filling element {} with: {}"</span>, selector, text);
        waitUtils.waitForVisible(selector);
        page.locator(selector).clear();
        page.fill(selector, text);
    }

    <span class="keyword">protected</span> String <span class="function">getText</span>(String selector) {
        waitUtils.waitForVisible(selector);
        String text = page.textContent(selector);
        logger.info(<span class="string">"Got text from {}: {}"</span>, selector, text);
        <span class="keyword">return</span> text;
    }

    <span class="keyword">protected boolean</span> <span class="function">isVisible</span>(String selector) {
        <span class="keyword">try</span> {
            <span class="keyword">return</span> page.isVisible(selector);
        } <span class="keyword">catch</span> (Exception e) {
            <span class="keyword">return false</span>;
        }
    }

    <span class="keyword">protected void</span> <span class="function">selectOption</span>(String selector, String value) {
        logger.info(<span class="string">"Selecting option {} in: {}"</span>, value, selector);
        waitUtils.waitForVisible(selector);
        page.selectOption(selector, value);
    }

    <span class="keyword">protected void</span> <span class="function">hover</span>(String selector) {
        logger.info(<span class="string">"Hovering over element: {}"</span>, selector);
        waitUtils.waitForVisible(selector);
        page.hover(selector);
    }

    <span class="keyword">protected void</span> <span class="function">scrollTo</span>(String selector) {
        logger.info(<span class="string">"Scrolling to element: {}"</span>, selector);
        page.locator(selector).scrollIntoViewIfNeeded();
    }

    <span class="keyword">protected void</span> <span class="function">waitForNavigation</span>(Runnable action) {
        page.waitForNavigation(() -> action.run());
    }

    <span class="keyword">protected void</span> <span class="function">takeScreenshot</span>(String name) {
        String path = <span class="string">"screenshots/"</span> + name + <span class="string">"_"</span> + System.currentTimeMillis() + <span class="string">".png"</span>;
        page.screenshot(<span class="keyword">new</span> Page.ScreenshotOptions().setPath(Paths.get(path)));
        logger.info(<span class="string">"Screenshot saved: {}"</span>, path);
    }

    <span class="comment">// Abstract methods for page-specific implementation</span>
    <span class="keyword">public abstract boolean</span> <span class="function">isLoaded</span>();
    <span class="keyword">public abstract</span> String <span class="function">getPageTitle</span>();
}
</pre>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// WAIT UTILITIES - WaitUtils.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.utils;

<span class="keyword">import</span> com.microsoft.playwright.*;
<span class="keyword">import</span> com.sdet.framework.config.TestConfig;

<span class="keyword">public class</span> <span class="function">WaitUtils</span> {
    <span class="keyword">private</span> Page page;
    <span class="keyword">private int</span> defaultTimeout;

    <span class="keyword">public</span> <span class="function">WaitUtils</span>(Page page) {
        <span class="keyword">this</span>.page = page;
        <span class="keyword">this</span>.defaultTimeout = TestConfig.getTimeout() * 1000;
    }

    <span class="keyword">public void</span> <span class="function">waitForVisible</span>(String selector) {
        page.locator(selector).waitFor(<span class="keyword">new</span> Locator.WaitForOptions()
            .setState(WaitForSelectorState.VISIBLE)
            .setTimeout(defaultTimeout));
    }

    <span class="keyword">public void</span> <span class="function">waitForClickable</span>(String selector) {
        Locator locator = page.locator(selector);
        locator.waitFor(<span class="keyword">new</span> Locator.WaitForOptions()
            .setState(WaitForSelectorState.VISIBLE)
            .setTimeout(defaultTimeout));
        <span class="comment">// Additional check for element to be enabled</span>
        page.waitForFunction(<span class="string">"selector => { " +
            "const el = document.querySelector(selector); " +
            "return el && !el.disabled && el.offsetParent !== null; " +
            "}"</span>, selector);
    }

    <span class="keyword">public void</span> <span class="function">waitForHidden</span>(String selector) {
        page.locator(selector).waitFor(<span class="keyword">new</span> Locator.WaitForOptions()
            .setState(WaitForSelectorState.HIDDEN)
            .setTimeout(defaultTimeout));
    }

    <span class="keyword">public void</span> <span class="function">waitForNetworkIdle</span>() {
        page.waitForLoadState(LoadState.NETWORKIDLE);
    }

    <span class="keyword">public void</span> <span class="function">waitForDomContentLoaded</span>() {
        page.waitForLoadState(LoadState.DOMCONTENTLOADED);
    }

    <span class="keyword">public void</span> <span class="function">waitForText</span>(String selector, String expectedText) {
        page.locator(selector).waitFor();
        page.waitForFunction(
            <span class="string">"args => document.querySelector(args.selector).textContent.includes(args.text)"</span>,
            Map.of(<span class="string">"selector"</span>, selector, <span class="string">"text"</span>, expectedText)
        );
    }

    <span class="keyword">public void</span> <span class="function">waitForUrlContains</span>(String urlPart) {
        page.waitForURL(<span class="string">"**/*"</span> + urlPart + <span class="string">"*"</span>);
    }

    <span class="keyword">public void</span> <span class="function">waitForApiResponse</span>(String urlPattern, Runnable action) {
        page.waitForResponse(urlPattern, action);
    }

    <span class="keyword">public void</span> <span class="function">hardWait</span>(<span class="keyword">int</span> milliseconds) {
        <span class="comment">// Use sparingly - only for scenarios where dynamic waits don't work</span>
        <span class="keyword">try</span> {
            Thread.sleep(milliseconds);
        } <span class="keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}
</pre>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// LOGIN PAGE IMPLEMENTATION - LoginPage.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.pages;

<span class="keyword">import</span> com.microsoft.playwright.Page;

<span class="keyword">public class</span> <span class="function">LoginPage</span> <span class="keyword">extends</span> BasePage {

    <span class="comment">// Selectors - using data-testid for reliability</span>
    <span class="keyword">private static final</span> String USERNAME_INPUT = <span class="string">"[data-testid='username-input']"</span>;
    <span class="keyword">private static final</span> String PASSWORD_INPUT = <span class="string">"[data-testid='password-input']"</span>;
    <span class="keyword">private static final</span> String LOGIN_BUTTON = <span class="string">"[data-testid='login-button']"</span>;
    <span class="keyword">private static final</span> String ERROR_MESSAGE = <span class="string">"[data-testid='error-message']"</span>;
    <span class="keyword">private static final</span> String FORGOT_PASSWORD_LINK = <span class="string">"[data-testid='forgot-password']"</span>;
    <span class="keyword">private static final</span> String REMEMBER_ME_CHECKBOX = <span class="string">"[data-testid='remember-me']"</span>;
    <span class="keyword">private static final</span> String LOGIN_FORM = <span class="string">"[data-testid='login-form']"</span>;

    <span class="keyword">public</span> <span class="function">LoginPage</span>(Page page) {
        <span class="keyword">super</span>(page);
    }

    <span class="keyword">public</span> LoginPage <span class="function">enterUsername</span>(String username) {
        clearAndFill(USERNAME_INPUT, username);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> LoginPage <span class="function">enterPassword</span>(String password) {
        clearAndFill(PASSWORD_INPUT, password);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> LoginPage <span class="function">checkRememberMe</span>() {
        <span class="keyword">if</span> (!page.isChecked(REMEMBER_ME_CHECKBOX)) {
            click(REMEMBER_ME_CHECKBOX);
        }
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> DashboardPage <span class="function">clickLoginExpectingSuccess</span>() {
        waitForNavigation(() -> click(LOGIN_BUTTON));
        <span class="keyword">return new</span> DashboardPage(page);
    }

    <span class="keyword">public</span> LoginPage <span class="function">clickLoginExpectingError</span>() {
        click(LOGIN_BUTTON);
        waitUtils.waitForVisible(ERROR_MESSAGE);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> DashboardPage <span class="function">loginAs</span>(String username, String password) {
        logger.info(<span class="string">"Logging in as: {}"</span>, username);
        <span class="keyword">return</span> enterUsername(username)
            .enterPassword(password)
            .clickLoginExpectingSuccess();
    }

    <span class="keyword">public</span> String <span class="function">getErrorMessage</span>() {
        <span class="keyword">return</span> getText(ERROR_MESSAGE);
    }

    <span class="keyword">public</span> ForgotPasswordPage <span class="function">clickForgotPassword</span>() {
        click(FORGOT_PASSWORD_LINK);
        <span class="keyword">return new</span> ForgotPasswordPage(page);
    }

    <span class="keyword">public boolean</span> <span class="function">isLoginButtonEnabled</span>() {
        <span class="keyword">return</span> page.isEnabled(LOGIN_BUTTON);
    }

    @Override
    <span class="keyword">public boolean</span> <span class="function">isLoaded</span>() {
        <span class="keyword">return</span> isVisible(LOGIN_FORM) && isVisible(LOGIN_BUTTON);
    }

    @Override
    <span class="keyword">public</span> String <span class="function">getPageTitle</span>() {
        <span class="keyword">return</span> page.title();
    }
}
</pre>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// API CLIENT BASE - ApiClient.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.api;

<span class="keyword">import</span> io.restassured.RestAssured;
<span class="keyword">import</span> io.restassured.http.ContentType;
<span class="keyword">import</span> io.restassured.response.Response;
<span class="keyword">import</span> io.restassured.specification.RequestSpecification;
<span class="keyword">import</span> com.sdet.framework.config.TestConfig;
<span class="keyword">import</span> org.slf4j.Logger;
<span class="keyword">import</span> org.slf4j.LoggerFactory;

<span class="keyword">import</span> java.util.Map;

<span class="keyword">public class</span> <span class="function">ApiClient</span> {
    <span class="keyword">private</span> String baseUrl;
    <span class="keyword">private</span> String authToken;
    <span class="keyword">protected final</span> Logger logger = LoggerFactory.getLogger(getClass());

    <span class="keyword">public</span> <span class="function">ApiClient</span>() {
        <span class="keyword">this</span>.baseUrl = TestConfig.getApiBaseUrl();
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
    }

    <span class="keyword">public void</span> <span class="function">setAuthToken</span>(String token) {
        <span class="keyword">this</span>.authToken = token;
    }

    <span class="keyword">protected</span> RequestSpecification <span class="function">getBaseRequest</span>() {
        RequestSpecification request = RestAssured.given()
            .baseUri(baseUrl)
            .contentType(ContentType.JSON)
            .accept(ContentType.JSON);

        <span class="keyword">if</span> (authToken != <span class="keyword">null</span>) {
            request.header(<span class="string">"Authorization"</span>, <span class="string">"Bearer "</span> + authToken);
        }

        <span class="keyword">return</span> request;
    }

    <span class="keyword">public</span> Response <span class="function">get</span>(String endpoint) {
        logger.info(<span class="string">"GET request to: {}"</span>, endpoint);
        <span class="keyword">return</span> getBaseRequest()
            .get(endpoint)
            .then()
            .extract()
            .response();
    }

    <span class="keyword">public</span> Response <span class="function">get</span>(String endpoint, Map<String, String> queryParams) {
        logger.info(<span class="string">"GET request to: {} with params: {}"</span>, endpoint, queryParams);
        <span class="keyword">return</span> getBaseRequest()
            .queryParams(queryParams)
            .get(endpoint)
            .then()
            .extract()
            .response();
    }

    <span class="keyword">public</span> Response <span class="function">post</span>(String endpoint, Object body) {
        logger.info(<span class="string">"POST request to: {}"</span>, endpoint);
        <span class="keyword">return</span> getBaseRequest()
            .body(body)
            .post(endpoint)
            .then()
            .extract()
            .response();
    }

    <span class="keyword">public</span> Response <span class="function">put</span>(String endpoint, Object body) {
        logger.info(<span class="string">"PUT request to: {}"</span>, endpoint);
        <span class="keyword">return</span> getBaseRequest()
            .body(body)
            .put(endpoint)
            .then()
            .extract()
            .response();
    }

    <span class="keyword">public</span> Response <span class="function">patch</span>(String endpoint, Object body) {
        logger.info(<span class="string">"PATCH request to: {}"</span>, endpoint);
        <span class="keyword">return</span> getBaseRequest()
            .body(body)
            .patch(endpoint)
            .then()
            .extract()
            .response();
    }

    <span class="keyword">public</span> Response <span class="function">delete</span>(String endpoint) {
        logger.info(<span class="string">"DELETE request to: {}"</span>, endpoint);
        <span class="keyword">return</span> getBaseRequest()
            .delete(endpoint)
            .then()
            .extract()
            .response();
    }

    <span class="keyword">public</span> Response <span class="function">postFormData</span>(String endpoint, Map<String, String> formData) {
        logger.info(<span class="string">"POST form data to: {}"</span>, endpoint);
        <span class="keyword">return</span> getBaseRequest()
            .contentType(ContentType.URLENC)
            .formParams(formData)
            .post(endpoint)
            .then()
            .extract()
            .response();
    }

    <span class="keyword">public</span> Response <span class="function">uploadFile</span>(String endpoint, String fieldName, File file) {
        logger.info(<span class="string">"Uploading file to: {}"</span>, endpoint);
        <span class="keyword">return</span> getBaseRequest()
            .contentType(ContentType.MULTIPART)
            .multiPart(fieldName, file)
            .post(endpoint)
            .then()
            .extract()
            .response();
    }
}
</pre>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// USER API SERVICE - UserApiService.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.api.services;

<span class="keyword">import</span> com.sdet.framework.api.ApiClient;
<span class="keyword">import</span> com.sdet.framework.models.User;
<span class="keyword">import</span> com.sdet.framework.models.LoginRequest;
<span class="keyword">import</span> com.sdet.framework.models.LoginResponse;
<span class="keyword">import</span> io.restassured.response.Response;

<span class="keyword">import</span> java.util.List;

<span class="keyword">public class</span> <span class="function">UserApiService</span> <span class="keyword">extends</span> ApiClient {

    <span class="keyword">private static final</span> String USERS_ENDPOINT = <span class="string">"/api/v1/users"</span>;
    <span class="keyword">private static final</span> String LOGIN_ENDPOINT = <span class="string">"/api/v1/auth/login"</span>;
    <span class="keyword">private static final</span> String USER_BY_ID = <span class="string">"/api/v1/users/{id}"</span>;

    <span class="keyword">public</span> Response <span class="function">getAllUsers</span>() {
        <span class="keyword">return</span> get(USERS_ENDPOINT);
    }

    <span class="keyword">public</span> List<User> <span class="function">getAllUsersAsList</span>() {
        <span class="keyword">return</span> getAllUsers()
            .then()
            .statusCode(200)
            .extract()
            .jsonPath()
            .getList(<span class="string">"data"</span>, User.class);
    }

    <span class="keyword">public</span> Response <span class="function">getUserById</span>(String userId) {
        <span class="keyword">return</span> get(USER_BY_ID.replace(<span class="string">"{id}"</span>, userId));
    }

    <span class="keyword">public</span> User <span class="function">getUserByIdAsObject</span>(String userId) {
        <span class="keyword">return</span> getUserById(userId)
            .then()
            .statusCode(200)
            .extract()
            .as(User.class);
    }

    <span class="keyword">public</span> Response <span class="function">createUser</span>(User user) {
        <span class="keyword">return</span> post(USERS_ENDPOINT, user);
    }

    <span class="keyword">public</span> Response <span class="function">updateUser</span>(String userId, User user) {
        <span class="keyword">return</span> put(USER_BY_ID.replace(<span class="string">"{id}"</span>, userId), user);
    }

    <span class="keyword">public</span> Response <span class="function">deleteUser</span>(String userId) {
        <span class="keyword">return</span> delete(USER_BY_ID.replace(<span class="string">"{id}"</span>, userId));
    }

    <span class="keyword">public</span> LoginResponse <span class="function">login</span>(String email, String password) {
        LoginRequest request = <span class="keyword">new</span> LoginRequest(email, password);
        Response response = post(LOGIN_ENDPOINT, request);

        LoginResponse loginResponse = response.then()
            .statusCode(200)
            .extract()
            .as(LoginResponse.class);

        <span class="comment">// Set token for subsequent requests</span>
        setAuthToken(loginResponse.getToken());

        <span class="keyword">return</span> loginResponse;
    }

    <span class="keyword">public</span> Response <span class="function">loginAndGetResponse</span>(String email, String password) {
        <span class="keyword">return</span> post(LOGIN_ENDPOINT, <span class="keyword">new</span> LoginRequest(email, password));
    }
}
</pre>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// TEST DATA BUILDER - UserBuilder.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.builders;

<span class="keyword">import</span> com.sdet.framework.models.User;
<span class="keyword">import</span> com.github.javafaker.Faker;

<span class="keyword">public class</span> <span class="function">UserBuilder</span> {
    <span class="keyword">private</span> User user;
    <span class="keyword">private static final</span> Faker faker = <span class="keyword">new</span> Faker();

    <span class="keyword">public</span> <span class="function">UserBuilder</span>() {
        <span class="keyword">this</span>.user = <span class="keyword">new</span> User();
    }

    <span class="keyword">public static</span> UserBuilder <span class="function">aUser</span>() {
        <span class="keyword">return new</span> UserBuilder();
    }

    <span class="keyword">public</span> UserBuilder <span class="function">withDefaults</span>() {
        user.setFirstName(faker.name().firstName());
        user.setLastName(faker.name().lastName());
        user.setEmail(faker.internet().emailAddress());
        user.setPhone(faker.phoneNumber().cellPhone());
        user.setRole(<span class="string">"USER"</span>);
        user.setStatus(<span class="string">"ACTIVE"</span>);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> UserBuilder <span class="function">withFirstName</span>(String firstName) {
        user.setFirstName(firstName);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> UserBuilder <span class="function">withLastName</span>(String lastName) {
        user.setLastName(lastName);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> UserBuilder <span class="function">withEmail</span>(String email) {
        user.setEmail(email);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> UserBuilder <span class="function">withRole</span>(String role) {
        user.setRole(role);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> UserBuilder <span class="function">withStatus</span>(String status) {
        user.setStatus(status);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> UserBuilder <span class="function">asAdmin</span>() {
        user.setRole(<span class="string">"ADMIN"</span>);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> UserBuilder <span class="function">asInactive</span>() {
        user.setStatus(<span class="string">"INACTIVE"</span>);
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> User <span class="function">build</span>() {
        <span class="keyword">return</span> user;
    }
}

<span class="comment">// Usage example:</span>
User newUser = UserBuilder.aUser()
    .withDefaults()
    .withEmail(<span class="string">"custom@email.com"</span>)
    .asAdmin()
    .build();
</pre>
            </div>

            <h4>2.1.3 Test Base Class with Complete Setup</h4>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// BASE TEST CLASS - BaseTest.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.tests;

<span class="keyword">import</span> com.microsoft.playwright.*;
<span class="keyword">import</span> com.sdet.framework.config.TestConfig;
<span class="keyword">import</span> com.sdet.framework.utils.AllureUtils;
<span class="keyword">import</span> io.qameta.allure.Allure;
<span class="keyword">import</span> org.testng.ITestResult;
<span class="keyword">import</span> org.testng.annotations.*;
<span class="keyword">import</span> org.slf4j.Logger;
<span class="keyword">import</span> org.slf4j.LoggerFactory;

<span class="keyword">import</span> java.nio.file.Paths;

<span class="keyword">public class</span> <span class="function">BaseTest</span> {
    <span class="keyword">protected static</span> Playwright playwright;
    <span class="keyword">protected static</span> Browser browser;
    <span class="keyword">protected</span> BrowserContext context;
    <span class="keyword">protected</span> Page page;
    <span class="keyword">protected final</span> Logger logger = LoggerFactory.getLogger(getClass());

    @BeforeSuite
    <span class="keyword">public void</span> <span class="function">globalSetup</span>() {
        logger.info(<span class="string">"Initializing Playwright and Browser"</span>);
        playwright = Playwright.create();

        BrowserType.LaunchOptions launchOptions = <span class="keyword">new</span> BrowserType.LaunchOptions()
            .setHeadless(TestConfig.isHeadless())
            .setSlowMo(50); <span class="comment">// Slow down for debugging if needed</span>

        String browserType = TestConfig.getBrowser().toLowerCase();
        <span class="keyword">switch</span> (browserType) {
            <span class="keyword">case</span> <span class="string">"firefox"</span>:
                browser = playwright.firefox().launch(launchOptions);
                <span class="keyword">break</span>;
            <span class="keyword">case</span> <span class="string">"webkit"</span>:
                browser = playwright.webkit().launch(launchOptions);
                <span class="keyword">break</span>;
            <span class="keyword">default</span>:
                browser = playwright.chromium().launch(launchOptions);
        }

        logger.info(<span class="string">"Browser initialized: {} (headless: {})"</span>,
            browserType, TestConfig.isHeadless());
    }

    @BeforeMethod
    <span class="keyword">public void</span> <span class="function">setUp</span>() {
        logger.info(<span class="string">"Setting up test context"</span>);

        <span class="comment">// Create isolated browser context for each test</span>
        Browser.NewContextOptions contextOptions = <span class="keyword">new</span> Browser.NewContextOptions()
            .setViewportSize(1920, 1080)
            .setRecordVideoDir(Paths.get(<span class="string">"videos/"</span>));

        context = browser.newContext(contextOptions);

        <span class="comment">// Enable tracing for debugging</span>
        context.tracing().start(<span class="keyword">new</span> Tracing.StartOptions()
            .setScreenshots(<span class="keyword">true</span>)
            .setSnapshots(<span class="keyword">true</span>));

        page = context.newPage();

        <span class="comment">// Set default timeout</span>
        page.setDefaultTimeout(TestConfig.getTimeout() * 1000);
        page.setDefaultNavigationTimeout(TestConfig.getTimeout() * 1000);
    }

    @AfterMethod
    <span class="keyword">public void</span> <span class="function">tearDown</span>(ITestResult result) {
        logger.info(<span class="string">"Tearing down test: {} - Status: {}"</span>,
            result.getName(),
            result.isSuccess() ? <span class="string">"PASSED"</span> : <span class="string">"FAILED"</span>);

        <span class="keyword">if</span> (!result.isSuccess()) {
            <span class="comment">// Capture screenshot on failure</span>
            <span class="keyword">byte</span>[] screenshot = page.screenshot(<span class="keyword">new</span> Page.ScreenshotOptions()
                .setFullPage(<span class="keyword">true</span>));
            Allure.addAttachment(<span class="string">"Failure Screenshot"</span>,
                <span class="string">"image/png"</span>,
                <span class="keyword">new</span> ByteArrayInputStream(screenshot),
                <span class="string">"png"</span>);

            <span class="comment">// Save trace for debugging</span>
            context.tracing().stop(<span class="keyword">new</span> Tracing.StopOptions()
                .setPath(Paths.get(<span class="string">"traces/"</span> + result.getName() + <span class="string">".zip"</span>)));
        }

        <span class="keyword">if</span> (context != <span class="keyword">null</span>) {
            context.close();
        }
    }

    @AfterSuite
    <span class="keyword">public void</span> <span class="function">globalTeardown</span>() {
        logger.info(<span class="string">"Closing browser and Playwright"</span>);
        <span class="keyword">if</span> (browser != <span class="keyword">null</span>) {
            browser.close();
        }
        <span class="keyword">if</span> (playwright != <span class="keyword">null</span>) {
            playwright.close();
        }
    }

    <span class="keyword">protected void</span> <span class="function">navigateTo</span>(String path) {
        String url = TestConfig.getBaseUrl() + path;
        logger.info(<span class="string">"Navigating to: {}"</span>, url);
        page.navigate(url);
    }

    <span class="keyword">protected void</span> <span class="function">navigateToBaseUrl</span>() {
        navigateTo(<span class="string">""</span>);
    }
}
</pre>
            </div>

            <h3>2.2 API Testing Strategies</h3>

            <h4>2.2.1 Complete API Test Example</h4>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// COMPREHENSIVE API TESTS - UserApiTest.java
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.tests.api;

<span class="keyword">import</span> com.sdet.framework.api.services.UserApiService;
<span class="keyword">import</span> com.sdet.framework.builders.UserBuilder;
<span class="keyword">import</span> com.sdet.framework.models.User;
<span class="keyword">import</span> io.qameta.allure.*;
<span class="keyword">import</span> io.restassured.response.Response;
<span class="keyword">import</span> org.testng.annotations.*;
<span class="keyword">import static</span> org.hamcrest.Matchers.*;
<span class="keyword">import static</span> org.testng.Assert.*;

@Epic(<span class="string">"User Management API"</span>)
@Feature(<span class="string">"User CRUD Operations"</span>)
<span class="keyword">public class</span> <span class="function">UserApiTest</span> {

    <span class="keyword">private</span> UserApiService userApi;
    <span class="keyword">private</span> String createdUserId;

    @BeforeClass
    <span class="keyword">public void</span> <span class="function">setUp</span>() {
        userApi = <span class="keyword">new</span> UserApiService();
        <span class="comment">// Login and get token</span>
        userApi.login(<span class="string">"admin@test.com"</span>, <span class="string">"AdminPass123!"</span>);
    }

    <span class="comment">// ==========================================
    // HAPPY PATH TESTS
    // ==========================================</span>

    @Test(priority = 1)
    @Story(<span class="string">"Create User"</span>)
    @Severity(SeverityLevel.CRITICAL)
    @Description(<span class="string">"Verify that a new user can be created successfully"</span>)
    <span class="keyword">public void</span> <span class="function">testCreateUser_Success</span>() {
        User newUser = UserBuilder.aUser()
            .withDefaults()
            .build();

        Response response = userApi.createUser(newUser);

        response.then()
            .statusCode(201)
            .body(<span class="string">"data.firstName"</span>, equalTo(newUser.getFirstName()))
            .body(<span class="string">"data.lastName"</span>, equalTo(newUser.getLastName()))
            .body(<span class="string">"data.email"</span>, equalTo(newUser.getEmail()))
            .body(<span class="string">"data.id"</span>, notNullValue())
            .body(<span class="string">"data.createdAt"</span>, notNullValue());

        <span class="comment">// Store ID for cleanup</span>
        createdUserId = response.jsonPath().getString(<span class="string">"data.id"</span>);
        assertNotNull(createdUserId, <span class="string">"Created user should have an ID"</span>);
    }

    @Test(priority = 2, dependsOnMethods = <span class="string">"testCreateUser_Success"</span>)
    @Story(<span class="string">"Get User"</span>)
    @Description(<span class="string">"Verify that a user can be retrieved by ID"</span>)
    <span class="keyword">public void</span> <span class="function">testGetUserById_Success</span>() {
        Response response = userApi.getUserById(createdUserId);

        response.then()
            .statusCode(200)
            .body(<span class="string">"data.id"</span>, equalTo(createdUserId))
            .body(<span class="string">"data.email"</span>, notNullValue())
            .body(<span class="string">"data.status"</span>, equalTo(<span class="string">"ACTIVE"</span>));
    }

    @Test(priority = 3)
    @Story(<span class="string">"List Users"</span>)
    @Description(<span class="string">"Verify that all users can be retrieved with pagination"</span>)
    <span class="keyword">public void</span> <span class="function">testGetAllUsers_WithPagination</span>() {
        Response response = userApi.get(<span class="string">"/api/v1/users?page=1&size=10"</span>);

        response.then()
            .statusCode(200)
            .body(<span class="string">"data"</span>, hasSize(lessThanOrEqualTo(10)))
            .body(<span class="string">"pagination.page"</span>, equalTo(1))
            .body(<span class="string">"pagination.size"</span>, equalTo(10))
            .body(<span class="string">"pagination.totalPages"</span>, greaterThan(0))
            .body(<span class="string">"pagination.totalElements"</span>, greaterThan(0));
    }

    @Test(priority = 4, dependsOnMethods = <span class="string">"testCreateUser_Success"</span>)
    @Story(<span class="string">"Update User"</span>)
    @Description(<span class="string">"Verify that user details can be updated"</span>)
    <span class="keyword">public void</span> <span class="function">testUpdateUser_Success</span>() {
        User updateData = UserBuilder.aUser()
            .withFirstName(<span class="string">"UpdatedFirstName"</span>)
            .withLastName(<span class="string">"UpdatedLastName"</span>)
            .build();

        Response response = userApi.updateUser(createdUserId, updateData);

        response.then()
            .statusCode(200)
            .body(<span class="string">"data.firstName"</span>, equalTo(<span class="string">"UpdatedFirstName"</span>))
            .body(<span class="string">"data.lastName"</span>, equalTo(<span class="string">"UpdatedLastName"</span>))
            .body(<span class="string">"data.updatedAt"</span>, notNullValue());
    }

    <span class="comment">// ==========================================
    // ERROR HANDLING TESTS
    // ==========================================</span>

    @Test
    @Story(<span class="string">"Create User"</span>)
    @Severity(SeverityLevel.NORMAL)
    @Description(<span class="string">"Verify validation error for duplicate email"</span>)
    <span class="keyword">public void</span> <span class="function">testCreateUser_DuplicateEmail</span>() {
        User existingUser = UserBuilder.aUser()
            .withDefaults()
            .withEmail(<span class="string">"existing@test.com"</span>)
            .build();

        <span class="comment">// Create first user</span>
        userApi.createUser(existingUser);

        <span class="comment">// Try to create with same email</span>
        Response response = userApi.createUser(existingUser);

        response.then()
            .statusCode(409)
            .body(<span class="string">"error.code"</span>, equalTo(<span class="string">"DUPLICATE_EMAIL"</span>))
            .body(<span class="string">"error.message"</span>, containsString(<span class="string">"email already exists"</span>));
    }

    @Test
    @Story(<span class="string">"Create User"</span>)
    @Description(<span class="string">"Verify validation errors for invalid input"</span>)
    <span class="keyword">public void</span> <span class="function">testCreateUser_InvalidEmail</span>() {
        User invalidUser = UserBuilder.aUser()
            .withDefaults()
            .withEmail(<span class="string">"invalid-email-format"</span>)
            .build();

        Response response = userApi.createUser(invalidUser);

        response.then()
            .statusCode(400)
            .body(<span class="string">"errors"</span>, hasSize(greaterThan(0)))
            .body(<span class="string">"errors[0].field"</span>, equalTo(<span class="string">"email"</span>))
            .body(<span class="string">"errors[0].message"</span>, containsString(<span class="string">"valid email"</span>));
    }

    @Test
    @Story(<span class="string">"Get User"</span>)
    @Description(<span class="string">"Verify 404 for non-existent user"</span>)
    <span class="keyword">public void</span> <span class="function">testGetUser_NotFound</span>() {
        Response response = userApi.getUserById(<span class="string">"non-existent-id-12345"</span>);

        response.then()
            .statusCode(404)
            .body(<span class="string">"error.code"</span>, equalTo(<span class="string">"USER_NOT_FOUND"</span>));
    }

    <span class="comment">// ==========================================
    // BOUNDARY & EDGE CASE TESTS
    // ==========================================</span>

    @Test
    @Story(<span class="string">"Create User"</span>)
    @Description(<span class="string">"Verify maximum length handling for fields"</span>)
    <span class="keyword">public void</span> <span class="function">testCreateUser_MaxLengthFields</span>() {
        String maxLengthName = <span class="string">"A"</span>.repeat(255); <span class="comment">// Max allowed length</span>

        User user = UserBuilder.aUser()
            .withDefaults()
            .withFirstName(maxLengthName)
            .build();

        Response response = userApi.createUser(user);

        response.then()
            .statusCode(201)
            .body(<span class="string">"data.firstName"</span>, equalTo(maxLengthName));
    }

    @Test
    @Story(<span class="string">"Create User"</span>)
    @Description(<span class="string">"Verify rejection of fields exceeding max length"</span>)
    <span class="keyword">public void</span> <span class="function">testCreateUser_ExceedMaxLength</span>() {
        String tooLongName = <span class="string">"A"</span>.repeat(256); <span class="comment">// Exceeds max</span>

        User user = UserBuilder.aUser()
            .withDefaults()
            .withFirstName(tooLongName)
            .build();

        Response response = userApi.createUser(user);

        response.then()
            .statusCode(400)
            .body(<span class="string">"errors[0].field"</span>, equalTo(<span class="string">"firstName"</span>));
    }

    @Test
    @Story(<span class="string">"Create User"</span>)
    @Description(<span class="string">"Verify special characters handling"</span>)
    <span class="keyword">public void</span> <span class="function">testCreateUser_SpecialCharacters</span>() {
        User user = UserBuilder.aUser()
            .withDefaults()
            .withFirstName(<span class="string">"JosÃ© MarÃ­a"</span>)
            .withLastName(<span class="string">"O'Connor"</span>)
            .build();

        Response response = userApi.createUser(user);

        response.then()
            .statusCode(201)
            .body(<span class="string">"data.firstName"</span>, equalTo(<span class="string">"JosÃ© MarÃ­a"</span>))
            .body(<span class="string">"data.lastName"</span>, equalTo(<span class="string">"O'Connor"</span>));
    }

    <span class="comment">// ==========================================
    // SECURITY TESTS
    // ==========================================</span>

    @Test
    @Story(<span class="string">"Authorization"</span>)
    @Severity(SeverityLevel.BLOCKER)
    @Description(<span class="string">"Verify unauthorized access is rejected"</span>)
    <span class="keyword">public void</span> <span class="function">testUnauthorizedAccess</span>() {
        UserApiService unauthApi = <span class="keyword">new</span> UserApiService();
        <span class="comment">// Don't login - no token</span>

        Response response = unauthApi.getAllUsers();

        response.then()
            .statusCode(401)
            .body(<span class="string">"error.code"</span>, equalTo(<span class="string">"UNAUTHORIZED"</span>));
    }

    @Test
    @Story(<span class="string">"Authorization"</span>)
    @Description(<span class="string">"Verify expired token is rejected"</span>)
    <span class="keyword">public void</span> <span class="function">testExpiredToken</span>() {
        UserApiService api = <span class="keyword">new</span> UserApiService();
        api.setAuthToken(<span class="string">"expired.jwt.token"</span>);

        Response response = api.getAllUsers();

        response.then()
            .statusCode(401);
    }

    @Test
    @Story(<span class="string">"Security"</span>)
    @Description(<span class="string">"Verify SQL injection is prevented"</span>)
    <span class="keyword">public void</span> <span class="function">testSqlInjectionPrevention</span>() {
        User maliciousUser = UserBuilder.aUser()
            .withDefaults()
            .withFirstName(<span class="string">"'; DROP TABLE users; --"</span>)
            .build();

        Response response = userApi.createUser(maliciousUser);

        <span class="comment">// Should either sanitize or reject, not error out</span>
        assertTrue(response.statusCode() == 201 || response.statusCode() == 400,
            <span class="string">"Should handle SQL injection safely"</span>);
    }

    <span class="comment">// ==========================================
    // PERFORMANCE TESTS
    // ==========================================</span>

    @Test
    @Story(<span class="string">"Performance"</span>)
    @Description(<span class="string">"Verify API response time is within limits"</span>)
    <span class="keyword">public void</span> <span class="function">testResponseTime</span>() {
        Response response = userApi.getAllUsers();

        <span class="keyword">long</span> responseTime = response.getTime();
        assertTrue(responseTime < 2000,
            <span class="string">"Response time should be under 2 seconds but was: "</span> + responseTime);
    }

    @AfterClass
    <span class="keyword">public void</span> <span class="function">cleanup</span>() {
        <span class="keyword">if</span> (createdUserId != <span class="keyword">null</span>) {
            userApi.deleteUser(createdUserId);
        }
    }
}
</pre>
            </div>

            <h3>2.3 Integration Testing Strategies</h3>

            <h4>2.3.1 Contract Testing with Pact</h4>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// CONSUMER CONTRACT TEST
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.tests.contract;

<span class="keyword">import</span> au.com.dius.pact.consumer.dsl.PactDslWithProvider;
<span class="keyword">import</span> au.com.dius.pact.consumer.dsl.PactDslJsonBody;
<span class="keyword">import</span> au.com.dius.pact.consumer.junit5.PactConsumerTestExt;
<span class="keyword">import</span> au.com.dius.pact.consumer.junit5.PactTestFor;
<span class="keyword">import</span> au.com.dius.pact.core.model.RequestResponsePact;
<span class="keyword">import</span> au.com.dius.pact.core.model.annotations.Pact;
<span class="keyword">import</span> org.junit.jupiter.api.Test;
<span class="keyword">import</span> org.junit.jupiter.api.extension.ExtendWith;

<span class="keyword">import static</span> org.junit.jupiter.api.Assertions.*;

@ExtendWith(PactConsumerTestExt.class)
@PactTestFor(providerName = <span class="string">"UserService"</span>)
<span class="keyword">public class</span> <span class="function">UserServiceContractTest</span> {

    @Pact(consumer = <span class="string">"OrderService"</span>)
    <span class="keyword">public</span> RequestResponsePact <span class="function">getUserByIdPact</span>(PactDslWithProvider builder) {
        <span class="keyword">return</span> builder
            .given(<span class="string">"User with ID 123 exists"</span>)
            .uponReceiving(<span class="string">"A request to get user by ID"</span>)
                .path(<span class="string">"/api/v1/users/123"</span>)
                .method(<span class="string">"GET"</span>)
            .willRespondWith()
                .status(200)
                .body(<span class="keyword">new</span> PactDslJsonBody()
                    .stringType(<span class="string">"id"</span>, <span class="string">"123"</span>)
                    .stringType(<span class="string">"firstName"</span>, <span class="string">"John"</span>)
                    .stringType(<span class="string">"lastName"</span>, <span class="string">"Doe"</span>)
                    .stringType(<span class="string">"email"</span>, <span class="string">"john@example.com"</span>)
                    .stringType(<span class="string">"status"</span>, <span class="string">"ACTIVE"</span>))
            .toPact();
    }

    @Pact(consumer = <span class="string">"OrderService"</span>)
    <span class="keyword">public</span> RequestResponsePact <span class="function">getUserNotFoundPact</span>(PactDslWithProvider builder) {
        <span class="keyword">return</span> builder
            .given(<span class="string">"User with ID 999 does not exist"</span>)
            .uponReceiving(<span class="string">"A request for non-existent user"</span>)
                .path(<span class="string">"/api/v1/users/999"</span>)
                .method(<span class="string">"GET"</span>)
            .willRespondWith()
                .status(404)
                .body(<span class="keyword">new</span> PactDslJsonBody()
                    .stringType(<span class="string">"error.code"</span>, <span class="string">"USER_NOT_FOUND"</span>)
                    .stringType(<span class="string">"error.message"</span>, <span class="string">"User not found"</span>))
            .toPact();
    }

    @Test
    @PactTestFor(pactMethod = <span class="string">"getUserByIdPact"</span>)
    <span class="keyword">void</span> <span class="function">testGetUserById</span>(MockServer mockServer) {
        UserApiClient client = <span class="keyword">new</span> UserApiClient(mockServer.getUrl());
        User user = client.getUserById(<span class="string">"123"</span>);

        assertNotNull(user);
        assertEquals(<span class="string">"123"</span>, user.getId());
        assertEquals(<span class="string">"John"</span>, user.getFirstName());
        assertEquals(<span class="string">"ACTIVE"</span>, user.getStatus());
    }

    @Test
    @PactTestFor(pactMethod = <span class="string">"getUserNotFoundPact"</span>)
    <span class="keyword">void</span> <span class="function">testGetUserNotFound</span>(MockServer mockServer) {
        UserApiClient client = <span class="keyword">new</span> UserApiClient(mockServer.getUrl());

        assertThrows(UserNotFoundException.class, () -> {
            client.getUserById(<span class="string">"999"</span>);
        });
    }
}
</pre>
            </div>

            <h4>2.3.2 Service Virtualization with WireMock</h4>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// WIREMOCK SERVICE VIRTUALIZATION
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.tests.integration;

<span class="keyword">import</span> com.github.tomakehurst.wiremock.WireMockServer;
<span class="keyword">import</span> com.github.tomakehurst.wiremock.client.WireMock;
<span class="keyword">import static</span> com.github.tomakehurst.wiremock.client.WireMock.*;
<span class="keyword">import</span> org.junit.jupiter.api.*;

<span class="keyword">public class</span> <span class="function">PaymentServiceIntegrationTest</span> {

    <span class="keyword">private static</span> WireMockServer wireMockServer;
    <span class="keyword">private</span> OrderService orderService;

    @BeforeAll
    <span class="keyword">static void</span> <span class="function">setupWireMock</span>() {
        wireMockServer = <span class="keyword">new</span> WireMockServer(8089);
        wireMockServer.start();
        WireMock.configureFor(<span class="string">"localhost"</span>, 8089);
    }

    @BeforeEach
    <span class="keyword">void</span> <span class="function">setUp</span>() {
        wireMockServer.resetAll();
        orderService = <span class="keyword">new</span> OrderService(<span class="string">"http://localhost:8089"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Should process order when payment succeeds"</span>)
    <span class="keyword">void</span> <span class="function">testOrderProcessing_PaymentSuccess</span>() {
        <span class="comment">// Stub payment service</span>
        stubFor(post(urlEqualTo(<span class="string">"/api/payments"</span>))
            .withRequestBody(matchingJsonPath(<span class="string">"$.amount"</span>, equalTo(<span class="string">"100.00"</span>)))
            .willReturn(aResponse()
                .withStatus(200)
                .withHeader(<span class="string">"Content-Type"</span>, <span class="string">"application/json"</span>)
                .withBody(<span class="string">"""
                    {
                        "transactionId": "TXN123",
                        "status": "SUCCESS",
                        "timestamp": "2024-01-15T10:30:00Z"
                    }
                    """</span>)));

        <span class="comment">// Test order processing</span>
        Order order = <span class="keyword">new</span> Order(<span class="string">"ORD123"</span>, 100.00);
        OrderResult result = orderService.processOrder(order);

        assertEquals(<span class="string">"COMPLETED"</span>, result.getStatus());
        assertEquals(<span class="string">"TXN123"</span>, result.getPaymentTransactionId());

        <span class="comment">// Verify payment service was called correctly</span>
        verify(postRequestedFor(urlEqualTo(<span class="string">"/api/payments"</span>))
            .withHeader(<span class="string">"Content-Type"</span>, equalTo(<span class="string">"application/json"</span>))
            .withRequestBody(matchingJsonPath(<span class="string">"$.orderId"</span>, equalTo(<span class="string">"ORD123"</span>))));
    }

    @Test
    @DisplayName(<span class="string">"Should handle payment service timeout"</span>)
    <span class="keyword">void</span> <span class="function">testOrderProcessing_PaymentTimeout</span>() {
        <span class="comment">// Stub with delay to simulate timeout</span>
        stubFor(post(urlEqualTo(<span class="string">"/api/payments"</span>))
            .willReturn(aResponse()
                .withStatus(200)
                .withFixedDelay(5000))); <span class="comment">// 5 second delay</span>

        Order order = <span class="keyword">new</span> Order(<span class="string">"ORD456"</span>, 50.00);

        assertThrows(PaymentTimeoutException.class, () -> {
            orderService.processOrder(order);
        });
    }

    @Test
    @DisplayName(<span class="string">"Should retry on payment service temporary failure"</span>)
    <span class="keyword">void</span> <span class="function">testOrderProcessing_RetryOnFailure</span>() {
        <span class="comment">// First two calls fail, third succeeds</span>
        stubFor(post(urlEqualTo(<span class="string">"/api/payments"</span>))
            .inScenario(<span class="string">"Retry Scenario"</span>)
            .whenScenarioStateIs(Scenario.STARTED)
            .willReturn(aResponse().withStatus(503))
            .willSetStateTo(<span class="string">"First Failure"</span>));

        stubFor(post(urlEqualTo(<span class="string">"/api/payments"</span>))
            .inScenario(<span class="string">"Retry Scenario"</span>)
            .whenScenarioStateIs(<span class="string">"First Failure"</span>)
            .willReturn(aResponse().withStatus(503))
            .willSetStateTo(<span class="string">"Second Failure"</span>));

        stubFor(post(urlEqualTo(<span class="string">"/api/payments"</span>))
            .inScenario(<span class="string">"Retry Scenario"</span>)
            .whenScenarioStateIs(<span class="string">"Second Failure"</span>)
            .willReturn(aResponse()
                .withStatus(200)
                .withBody(<span class="string">"{\"transactionId\": \"TXN789\", \"status\": \"SUCCESS\"}"</span>)));

        Order order = <span class="keyword">new</span> Order(<span class="string">"ORD789"</span>, 75.00);
        OrderResult result = orderService.processOrder(order);

        assertEquals(<span class="string">"COMPLETED"</span>, result.getStatus());

        <span class="comment">// Verify 3 attempts were made</span>
        verify(3, postRequestedFor(urlEqualTo(<span class="string">"/api/payments"</span>)));
    }

    @AfterAll
    <span class="keyword">static void</span> <span class="function">tearDown</span>() {
        wireMockServer.stop();
    }
}
</pre>
            </div>
        </section>

        <!-- SECTION 3: Hands-On Testing Scenarios -->
        <section id="section3">
            <h2>3. Hands-On Testing Scenarios (Practical)</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Real Interview Scenarios</h3>
                <p>This section provides step-by-step explanations for common testing scenarios you'll encounter in SDET interviews. Each scenario includes what tools to use, why, and how to explain your approach.</p>
            </div>

            <h3>3.1 Testing a SaaS-Based Web Application End-to-End</h3>

            <h4>3.1.1 Scenario: E-Commerce Checkout Flow</h4>

            <div class="interview-qa">
                <div class="question">Interview Question: "Walk me through how you would test an e-commerce checkout flow end-to-end."</div>
                <div class="answer">
                    <p><strong>Complete Answer Framework:</strong></p>

                    <p><strong>1. Understanding the Flow:</strong></p>
                    <p>"First, I'd map out the complete user journey:"</p>
                    <ul>
                        <li>User browses products â†’ adds to cart â†’ views cart â†’ proceeds to checkout</li>
                        <li>Enters shipping info â†’ selects payment method â†’ enters payment details</li>
                        <li>Reviews order â†’ places order â†’ receives confirmation</li>
                    </ul>

                    <p><strong>2. Test Strategy (Testing Pyramid):</strong></p>
                    <ul>
                        <li><strong>Unit Tests:</strong> Cart calculations, discount logic, validation rules</li>
                        <li><strong>API Tests:</strong> Cart API, Inventory API, Payment Gateway API, Order API</li>
                        <li><strong>Integration Tests:</strong> Cart-to-Order flow, Payment processing, Inventory updates</li>
                        <li><strong>E2E Tests:</strong> Critical happy path, Guest checkout, Registered user checkout</li>
                    </ul>

                    <p><strong>3. Tool Selection:</strong></p>
                    <ul>
                        <li><strong>Playwright:</strong> For UI automation - chosen for reliability and modern async handling</li>
                        <li><strong>RestAssured:</strong> For API testing - comprehensive validation capabilities</li>
                        <li><strong>Database Validation:</strong> Direct SQL queries to verify order persistence</li>
                        <li><strong>Allure Reports:</strong> For comprehensive test reporting</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// E-COMMERCE CHECKOUT E2E TEST
// ============================================</span>

<span class="keyword">package</span> com.sdet.tests.e2e;

<span class="keyword">import</span> com.sdet.framework.pages.*;
<span class="keyword">import</span> com.sdet.framework.api.services.*;
<span class="keyword">import</span> com.sdet.framework.database.OrderRepository;
<span class="keyword">import</span> io.qameta.allure.*;
<span class="keyword">import</span> org.testng.annotations.*;
<span class="keyword">import static</span> org.testng.Assert.*;

@Epic(<span class="string">"E-Commerce"</span>)
@Feature(<span class="string">"Checkout Flow"</span>)
<span class="keyword">public class</span> <span class="function">CheckoutE2ETest</span> <span class="keyword">extends</span> BaseTest {

    <span class="keyword">private</span> ProductPage productPage;
    <span class="keyword">private</span> CartPage cartPage;
    <span class="keyword">private</span> CheckoutPage checkoutPage;
    <span class="keyword">private</span> OrderConfirmationPage confirmationPage;

    <span class="keyword">private</span> InventoryApiService inventoryApi;
    <span class="keyword">private</span> OrderApiService orderApi;
    <span class="keyword">private</span> OrderRepository orderRepo;

    @BeforeMethod
    <span class="keyword">public void</span> <span class="function">setUpTest</span>() {
        inventoryApi = <span class="keyword">new</span> InventoryApiService();
        orderApi = <span class="keyword">new</span> OrderApiService();
        orderRepo = <span class="keyword">new</span> OrderRepository();

        navigateToBaseUrl();
        productPage = <span class="keyword">new</span> ProductPage(page);
    }

    @Test
    @Story(<span class="string">"Happy Path Checkout"</span>)
    @Severity(SeverityLevel.BLOCKER)
    @Description(<span class="string">"Complete checkout flow for registered user"</span>)
    <span class="keyword">public void</span> <span class="function">testCompleteCheckout_RegisteredUser</span>() {
        <span class="comment">// ARRANGE - Set up test data</span>
        String productId = <span class="string">"PROD-001"</span>;
        <span class="keyword">int</span> initialStock = inventoryApi.getStockLevel(productId);
        String testEmail = <span class="string">"test_"</span> + System.currentTimeMillis() + <span class="string">"@test.com"</span>;

        <span class="comment">// Step 1: Login as registered user</span>
        step(<span class="string">"Login as registered user"</span>);
        LoginPage loginPage = <span class="keyword">new</span> LoginPage(page);
        DashboardPage dashboard = loginPage.loginAs(<span class="string">"testuser@example.com"</span>, <span class="string">"Password123"</span>);
        assertTrue(dashboard.isLoaded(), <span class="string">"Dashboard should be loaded after login"</span>);

        <span class="comment">// Step 2: Browse and add product to cart</span>
        step(<span class="string">"Add product to cart"</span>);
        productPage = dashboard.navigateToProducts();
        productPage.searchProduct(<span class="string">"Laptop"</span>);
        ProductDetailsPage productDetails = productPage.selectProduct(productId);
        productDetails.selectQuantity(2);
        cartPage = productDetails.addToCart();

        <span class="comment">// Verify cart via UI and API</span>
        assertEquals(cartPage.getCartItemCount(), 2, <span class="string">"Cart should have 2 items"</span>);
        CartResponse cartApi = orderApi.getCart();
        assertEquals(cartApi.getItems().size(), 1, <span class="string">"API cart should have 1 product"</span>);
        assertEquals(cartApi.getItems().get(0).getQuantity(), 2, <span class="string">"API quantity should be 2"</span>);

        <span class="comment">// Step 3: Proceed to checkout</span>
        step(<span class="string">"Proceed to checkout"</span>);
        checkoutPage = cartPage.proceedToCheckout();
        assertTrue(checkoutPage.isLoaded(), <span class="string">"Checkout page should be loaded"</span>);

        <span class="comment">// Step 4: Enter shipping information</span>
        step(<span class="string">"Enter shipping information"</span>);
        checkoutPage.enterShippingAddress(
            <span class="string">"John Doe"</span>,
            <span class="string">"123 Test Street"</span>,
            <span class="string">"Test City"</span>,
            <span class="string">"TC"</span>,
            <span class="string">"12345"</span>
        );
        checkoutPage.selectShippingMethod(<span class="string">"Standard"</span>);

        <span class="comment">// Step 5: Enter payment information</span>
        step(<span class="string">"Enter payment information"</span>);
        checkoutPage.enterPaymentDetails(
            <span class="string">"4111111111111111"</span>,
            <span class="string">"12/25"</span>,
            <span class="string">"123"</span>,
            <span class="string">"John Doe"</span>
        );

        <span class="comment">// Step 6: Review and place order</span>
        step(<span class="string">"Review and place order"</span>);
        OrderSummary summary = checkoutPage.getOrderSummary();
        assertNotNull(summary.getSubtotal(), <span class="string">"Subtotal should be displayed"</span>);
        assertNotNull(summary.getTax(), <span class="string">"Tax should be calculated"</span>);
        assertNotNull(summary.getTotal(), <span class="string">"Total should be displayed"</span>);

        confirmationPage = checkoutPage.placeOrder();

        <span class="comment">// ASSERT - Verify order creation</span>
        step(<span class="string">"Verify order confirmation"</span>);
        assertTrue(confirmationPage.isOrderConfirmed(), <span class="string">"Order should be confirmed"</span>);
        String orderId = confirmationPage.getOrderId();
        assertNotNull(orderId, <span class="string">"Order ID should be generated"</span>);

        <span class="comment">// Verify via API</span>
        OrderResponse orderResponse = orderApi.getOrder(orderId);
        assertEquals(orderResponse.getStatus(), <span class="string">"CONFIRMED"</span>, <span class="string">"API order status should be CONFIRMED"</span>);

        <span class="comment">// Verify in database</span>
        Order dbOrder = orderRepo.findById(orderId);
        assertNotNull(dbOrder, <span class="string">"Order should exist in database"</span>);
        assertEquals(dbOrder.getStatus(), <span class="string">"CONFIRMED"</span>);

        <span class="comment">// Verify inventory was updated</span>
        <span class="keyword">int</span> newStock = inventoryApi.getStockLevel(productId);
        assertEquals(newStock, initialStock - 2, <span class="string">"Stock should be reduced by 2"</span>);
    }

    @Test
    @Story(<span class="string">"Error Handling"</span>)
    @Description(<span class="string">"Verify handling of out-of-stock during checkout"</span>)
    <span class="keyword">public void</span> <span class="function">testCheckout_OutOfStock</span>() {
        <span class="comment">// Setup - Use a product with low stock</span>
        String lowStockProduct = <span class="string">"PROD-LOW-001"</span>;
        inventoryApi.setStockLevel(lowStockProduct, 1);

        <span class="comment">// Add more than available to cart</span>
        productPage.addProductToCart(lowStockProduct, 5);
        cartPage = productPage.viewCart();

        <span class="comment">// Attempt checkout</span>
        checkoutPage = cartPage.proceedToCheckout();

        <span class="comment">// Verify error handling</span>
        assertTrue(checkoutPage.hasStockWarning(),
            <span class="string">"Should display stock warning"</span>);
        assertEquals(checkoutPage.getStockWarningMessage(),
            <span class="string">"Only 1 item available"</span>);

        <span class="comment">// Verify user can adjust quantity</span>
        checkoutPage.adjustQuantity(lowStockProduct, 1);
        assertFalse(checkoutPage.hasStockWarning(),
            <span class="string">"Warning should disappear after adjustment"</span>);
    }

    @Test
    @Story(<span class="string">"Payment Failure"</span>)
    @Description(<span class="string">"Verify handling of declined payment"</span>)
    <span class="keyword">public void</span> <span class="function">testCheckout_PaymentDeclined</span>() {
        <span class="comment">// Add product to cart</span>
        productPage.addProductToCart(<span class="string">"PROD-001"</span>, 1);
        cartPage = productPage.viewCart();
        checkoutPage = cartPage.proceedToCheckout();

        <span class="comment">// Fill shipping info</span>
        checkoutPage.enterShippingAddress(
            <span class="string">"John Doe"</span>, <span class="string">"123 Test St"</span>, <span class="string">"City"</span>, <span class="string">"ST"</span>, <span class="string">"12345"</span>
        );

        <span class="comment">// Use test card that triggers decline</span>
        checkoutPage.enterPaymentDetails(
            <span class="string">"4000000000000002"</span>, <span class="comment">// Decline card</span>
            <span class="string">"12/25"</span>,
            <span class="string">"123"</span>,
            <span class="string">"John Doe"</span>
        );

        checkoutPage.clickPlaceOrder();

        <span class="comment">// Verify error handling</span>
        assertTrue(checkoutPage.hasPaymentError(),
            <span class="string">"Payment error should be displayed"</span>);
        assertThat(checkoutPage.getPaymentErrorMessage(),
            containsString(<span class="string">"declined"</span>));

        <span class="comment">// Verify user can retry with different card</span>
        assertTrue(checkoutPage.isPaymentFormEditable(),
            <span class="string">"User should be able to edit payment"</span>);

        <span class="comment">// Verify no order was created</span>
        assertEquals(orderRepo.getOrderCountForUser(<span class="string">"testuser@example.com"</span>), 0,
            <span class="string">"No order should be created for failed payment"</span>);
    }

    <span class="keyword">private void</span> <span class="function">step</span>(String description) {
        Allure.step(description);
        logger.info(<span class="string">"STEP: {}"</span>, description);
    }
}
</pre>
            </div>

            <h3>3.2 Testing Microservices</h3>

            <h4>3.2.1 Complete Microservices Testing Strategy</h4>

            <div class="interview-qa">
                <div class="question">Interview Question: "How would you test a microservices-based order management system?"</div>
                <div class="answer">
                    <p><strong>Comprehensive Answer:</strong></p>

                    <p>"For a microservices architecture, I follow a multi-layered testing approach:"</p>

                    <p><strong>Layer 1: Unit Testing (Each Service)</strong></p>
                    <ul>
                        <li>Test business logic in isolation</li>
                        <li>Mock external dependencies</li>
                        <li>Aim for 80%+ code coverage</li>
                    </ul>

                    <p><strong>Layer 2: Component Testing</strong></p>
                    <ul>
                        <li>Test service with in-memory database</li>
                        <li>Use embedded message brokers</li>
                        <li>Verify service behavior in isolation</li>
                    </ul>

                    <p><strong>Layer 3: Contract Testing</strong></p>
                    <ul>
                        <li>Consumer-driven contracts with Pact</li>
                        <li>Ensure API compatibility between services</li>
                        <li>Run contract tests in CI/CD pipeline</li>
                    </ul>

                    <p><strong>Layer 4: Integration Testing</strong></p>
                    <ul>
                        <li>Test actual service-to-service communication</li>
                        <li>Use Docker Compose for local testing</li>
                        <li>Validate message flow through Kafka/RabbitMQ</li>
                    </ul>

                    <p><strong>Layer 5: End-to-End Testing</strong></p>
                    <ul>
                        <li>Test complete business flows</li>
                        <li>Run against staging environment</li>
                        <li>Limit to critical paths only</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// MICROSERVICES INTEGRATION TEST
// Order Service + Inventory Service + Payment Service
// ============================================</span>

<span class="keyword">package</span> com.sdet.tests.integration;

<span class="keyword">import</span> org.junit.jupiter.api.*;
<span class="keyword">import</span> org.testcontainers.containers.*;
<span class="keyword">import</span> org.testcontainers.junit.jupiter.*;
<span class="keyword">import</span> org.testcontainers.utility.DockerImageName;

@Testcontainers
@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
<span class="keyword">public class</span> <span class="function">OrderFlowIntegrationTest</span> {

    <span class="comment">// Container definitions</span>
    @Container
    <span class="keyword">static</span> GenericContainer<?> orderService = <span class="keyword">new</span> GenericContainer<>(
        DockerImageName.parse(<span class="string">"order-service:latest"</span>))
        .withExposedPorts(8080)
        .withEnv(<span class="string">"SPRING_PROFILES_ACTIVE"</span>, <span class="string">"test"</span>);

    @Container
    <span class="keyword">static</span> GenericContainer<?> inventoryService = <span class="keyword">new</span> GenericContainer<>(
        DockerImageName.parse(<span class="string">"inventory-service:latest"</span>))
        .withExposedPorts(8081);

    @Container
    <span class="keyword">static</span> GenericContainer<?> paymentService = <span class="keyword">new</span> GenericContainer<>(
        DockerImageName.parse(<span class="string">"payment-service:latest"</span>))
        .withExposedPorts(8082);

    @Container
    <span class="keyword">static</span> KafkaContainer kafka = <span class="keyword">new</span> KafkaContainer(
        DockerImageName.parse(<span class="string">"confluentinc/cp-kafka:latest"</span>));

    @Container
    <span class="keyword">static</span> PostgreSQLContainer<?> postgres = <span class="keyword">new</span> PostgreSQLContainer<>(
        <span class="string">"postgres:13"</span>)
        .withDatabaseName(<span class="string">"testdb"</span>)
        .withUsername(<span class="string">"test"</span>)
        .withPassword(<span class="string">"test"</span>);

    <span class="keyword">private</span> OrderApiClient orderApi;
    <span class="keyword">private</span> InventoryApiClient inventoryApi;
    <span class="keyword">private</span> KafkaConsumer<String, String> orderEventConsumer;

    @BeforeAll
    <span class="keyword">static void</span> <span class="function">setupNetwork</span>() {
        <span class="comment">// Configure services to communicate</span>
        Network network = Network.newNetwork();
        orderService.withNetwork(network);
        inventoryService.withNetwork(network);
        paymentService.withNetwork(network);
        kafka.withNetwork(network);
        postgres.withNetwork(network);
    }

    @BeforeEach
    <span class="keyword">void</span> <span class="function">setUp</span>() {
        String orderBaseUrl = <span class="string">"http://localhost:"</span> + orderService.getMappedPort(8080);
        String inventoryBaseUrl = <span class="string">"http://localhost:"</span> + inventoryService.getMappedPort(8081);

        orderApi = <span class="keyword">new</span> OrderApiClient(orderBaseUrl);
        inventoryApi = <span class="keyword">new</span> InventoryApiClient(inventoryBaseUrl);

        <span class="comment">// Setup Kafka consumer</span>
        Properties props = <span class="keyword">new</span> Properties();
        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafka.getBootstrapServers());
        props.put(ConsumerConfig.GROUP_ID_CONFIG, <span class="string">"test-consumer"</span>);
        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);
        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);
        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, <span class="string">"earliest"</span>);

        orderEventConsumer = <span class="keyword">new</span> KafkaConsumer<>(props);
        orderEventConsumer.subscribe(Collections.singletonList(<span class="string">"order-events"</span>));
    }

    @Test
    @Order(1)
    @DisplayName(<span class="string">"Create order triggers inventory reservation and payment"</span>)
    <span class="keyword">void</span> <span class="function">testOrderCreation_FullFlow</span>() {
        <span class="comment">// ARRANGE - Set up inventory</span>
        String productId = <span class="string">"PROD-001"</span>;
        inventoryApi.setStock(productId, 100);

        CreateOrderRequest orderRequest = CreateOrderRequest.builder()
            .customerId(<span class="string">"CUST-001"</span>)
            .items(List.of(
                <span class="keyword">new</span> OrderItem(productId, 5, 29.99)
            ))
            .shippingAddress(<span class="keyword">new</span> Address(<span class="string">"123 Test St"</span>, <span class="string">"City"</span>, <span class="string">"12345"</span>))
            .paymentMethod(<span class="keyword">new</span> PaymentMethod(<span class="string">"CARD"</span>, <span class="string">"**** 1111"</span>))
            .build();

        <span class="comment">// ACT - Create order</span>
        CreateOrderResponse response = orderApi.createOrder(orderRequest);
        String orderId = response.getOrderId();

        <span class="comment">// ASSERT - Verify order creation</span>
        assertNotNull(orderId);
        assertEquals(<span class="string">"PENDING"</span>, response.getStatus());

        <span class="comment">// Wait for async processing and verify inventory reservation</span>
        await().atMost(10, SECONDS).untilAsserted(() -> {
            InventoryResponse inventory = inventoryApi.getStock(productId);
            assertEquals(95, inventory.getAvailable());
            assertEquals(5, inventory.getReserved());
        });

        <span class="comment">// Verify Kafka events</span>
        List<ConsumerRecord<String, String>> records = pollKafkaRecords(5000);

        assertTrue(records.stream()
            .anyMatch(r -> r.value().contains(<span class="string">"ORDER_CREATED"</span>)),
            <span class="string">"ORDER_CREATED event should be published"</span>);

        assertTrue(records.stream()
            .anyMatch(r -> r.value().contains(<span class="string">"INVENTORY_RESERVED"</span>)),
            <span class="string">"INVENTORY_RESERVED event should be published"</span>);

        <span class="comment">// Wait for payment processing</span>
        await().atMost(15, SECONDS).untilAsserted(() -> {
            OrderResponse order = orderApi.getOrder(orderId);
            assertEquals(<span class="string">"CONFIRMED"</span>, order.getStatus());
        });

        <span class="comment">// Verify final state</span>
        OrderResponse finalOrder = orderApi.getOrder(orderId);
        assertEquals(<span class="string">"CONFIRMED"</span>, finalOrder.getStatus());
        assertNotNull(finalOrder.getPaymentTransactionId());
    }

    @Test
    @Order(2)
    @DisplayName(<span class="string">"Order cancellation releases inventory"</span>)
    <span class="keyword">void</span> <span class="function">testOrderCancellation_ReleasesInventory</span>() {
        <span class="comment">// Create order first</span>
        String productId = <span class="string">"PROD-002"</span>;
        inventoryApi.setStock(productId, 50);

        CreateOrderRequest request = CreateOrderRequest.builder()
            .customerId(<span class="string">"CUST-002"</span>)
            .items(List.of(<span class="keyword">new</span> OrderItem(productId, 10, 19.99)))
            .build();

        CreateOrderResponse createResponse = orderApi.createOrder(request);
        String orderId = createResponse.getOrderId();

        <span class="comment">// Wait for reservation</span>
        await().atMost(10, SECONDS).untilAsserted(() -> {
            assertEquals(40, inventoryApi.getStock(productId).getAvailable());
        });

        <span class="comment">// Cancel order</span>
        CancelOrderResponse cancelResponse = orderApi.cancelOrder(orderId, <span class="string">"Customer request"</span>);
        assertEquals(<span class="string">"CANCELLED"</span>, cancelResponse.getStatus());

        <span class="comment">// Verify inventory released</span>
        await().atMost(10, SECONDS).untilAsserted(() -> {
            InventoryResponse inventory = inventoryApi.getStock(productId);
            assertEquals(50, inventory.getAvailable());
            assertEquals(0, inventory.getReserved());
        });
    }

    @Test
    @Order(3)
    @DisplayName(<span class="string">"Payment failure triggers order failure and inventory release"</span>)
    <span class="keyword">void</span> <span class="function">testPaymentFailure_OrderRollback</span>() {
        String productId = <span class="string">"PROD-003"</span>;
        inventoryApi.setStock(productId, 20);

        <span class="comment">// Create order with failing payment method</span>
        CreateOrderRequest request = CreateOrderRequest.builder()
            .customerId(<span class="string">"CUST-003"</span>)
            .items(List.of(<span class="keyword">new</span> OrderItem(productId, 3, 49.99)))
            .paymentMethod(<span class="keyword">new</span> PaymentMethod(<span class="string">"CARD"</span>, <span class="string">"**** 0002"</span>)) <span class="comment">// Test card that fails</span>
            .build();

        CreateOrderResponse response = orderApi.createOrder(request);
        String orderId = response.getOrderId();

        <span class="comment">// Wait for payment failure and rollback</span>
        await().atMost(20, SECONDS).untilAsserted(() -> {
            OrderResponse order = orderApi.getOrder(orderId);
            assertEquals(<span class="string">"PAYMENT_FAILED"</span>, order.getStatus());
        });

        <span class="comment">// Verify inventory was released</span>
        InventoryResponse inventory = inventoryApi.getStock(productId);
        assertEquals(20, inventory.getAvailable(), <span class="string">"All inventory should be released"</span>);
        assertEquals(0, inventory.getReserved());
    }

    <span class="keyword">private</span> List<ConsumerRecord<String, String>> <span class="function">pollKafkaRecords</span>(<span class="keyword">long</span> timeoutMs) {
        List<ConsumerRecord<String, String>> records = <span class="keyword">new</span> ArrayList<>();
        ConsumerRecords<String, String> polled = orderEventConsumer.poll(Duration.ofMillis(timeoutMs));
        polled.forEach(records::add);
        <span class="keyword">return</span> records;
    }

    @AfterEach
    <span class="keyword">void</span> <span class="function">tearDown</span>() {
        <span class="keyword">if</span> (orderEventConsumer != <span class="keyword">null</span>) {
            orderEventConsumer.close();
        }
    }
}
</pre>
            </div>

            <h3>3.3 Validating Cloud-Based Deployments</h3>

            <h4>3.3.1 AWS Deployment Validation</h4>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// AWS DEPLOYMENT VALIDATION TESTS
// ============================================</span>

<span class="keyword">package</span> com.sdet.tests.cloud;

<span class="keyword">import</span> software.amazon.awssdk.services.ec2.Ec2Client;
<span class="keyword">import</span> software.amazon.awssdk.services.ecs.EcsClient;
<span class="keyword">import</span> software.amazon.awssdk.services.cloudwatch.CloudWatchClient;
<span class="keyword">import</span> software.amazon.awssdk.services.s3.S3Client;
<span class="keyword">import</span> software.amazon.awssdk.services.rds.RdsClient;
<span class="keyword">import</span> org.junit.jupiter.api.*;
<span class="keyword">import static</span> org.junit.jupiter.api.Assertions.*;

<span class="keyword">public class</span> <span class="function">AwsDeploymentValidationTest</span> {

    <span class="keyword">private</span> Ec2Client ec2Client;
    <span class="keyword">private</span> EcsClient ecsClient;
    <span class="keyword">private</span> CloudWatchClient cloudWatchClient;
    <span class="keyword">private</span> S3Client s3Client;
    <span class="keyword">private</span> RdsClient rdsClient;

    <span class="keyword">private static final</span> String CLUSTER_NAME = <span class="string">"production-cluster"</span>;
    <span class="keyword">private static final</span> String SERVICE_NAME = <span class="string">"order-service"</span>;
    <span class="keyword">private static final</span> String ENVIRONMENT = <span class="string">"production"</span>;

    @BeforeEach
    <span class="keyword">void</span> <span class="function">setUp</span>() {
        ec2Client = Ec2Client.create();
        ecsClient = EcsClient.create();
        cloudWatchClient = CloudWatchClient.create();
        s3Client = S3Client.create();
        rdsClient = RdsClient.create();
    }

    @Test
    @DisplayName(<span class="string">"Verify ECS service is running with expected task count"</span>)
    <span class="keyword">void</span> <span class="function">testEcsServiceHealth</span>() {
        DescribeServicesResponse response = ecsClient.describeServices(
            DescribeServicesRequest.builder()
                .cluster(CLUSTER_NAME)
                .services(SERVICE_NAME)
                .build()
        );

        Service service = response.services().get(0);

        <span class="comment">// Verify service is active</span>
        assertEquals(<span class="string">"ACTIVE"</span>, service.status(), <span class="string">"Service should be ACTIVE"</span>);

        <span class="comment">// Verify desired count matches running count</span>
        assertEquals(service.desiredCount(), service.runningCount(),
            <span class="string">"All desired tasks should be running"</span>);

        <span class="comment">// Verify no pending deployments</span>
        assertTrue(service.deployments().size() == 1,
            <span class="string">"Should have single active deployment"</span>);

        <span class="comment">// Verify deployment is complete</span>
        Deployment deployment = service.deployments().get(0);
        assertEquals(deployment.desiredCount(), deployment.runningCount(),
            <span class="string">"Deployment should be complete"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify RDS database is available"</span>)
    <span class="keyword">void</span> <span class="function">testRdsAvailability</span>() {
        DescribeDBInstancesResponse response = rdsClient.describeDBInstances(
            DescribeDBInstancesRequest.builder()
                .dbInstanceIdentifier(<span class="string">"production-db"</span>)
                .build()
        );

        DBInstance dbInstance = response.dbInstances().get(0);

        assertEquals(<span class="string">"available"</span>, dbInstance.dbInstanceStatus(),
            <span class="string">"Database should be available"</span>);

        assertTrue(dbInstance.multiAZ(), <span class="string">"Production DB should be multi-AZ"</span>);

        <span class="comment">// Verify backup configuration</span>
        assertTrue(dbInstance.backupRetentionPeriod() >= 7,
            <span class="string">"Backup retention should be at least 7 days"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify S3 bucket configuration"</span>)
    <span class="keyword">void</span> <span class="function">testS3BucketConfiguration</span>() {
        String bucketName = <span class="string">"production-assets-bucket"</span>;

        <span class="comment">// Verify bucket exists</span>
        HeadBucketResponse headResponse = s3Client.headBucket(
            HeadBucketRequest.builder().bucket(bucketName).build()
        );
        assertNotNull(headResponse, <span class="string">"Bucket should exist"</span>);

        <span class="comment">// Verify versioning is enabled</span>
        GetBucketVersioningResponse versioningResponse = s3Client.getBucketVersioning(
            GetBucketVersioningRequest.builder().bucket(bucketName).build()
        );
        assertEquals(BucketVersioningStatus.ENABLED, versioningResponse.status(),
            <span class="string">"Versioning should be enabled"</span>);

        <span class="comment">// Verify encryption is enabled</span>
        GetBucketEncryptionResponse encryptionResponse = s3Client.getBucketEncryption(
            GetBucketEncryptionRequest.builder().bucket(bucketName).build()
        );
        assertNotNull(encryptionResponse.serverSideEncryptionConfiguration(),
            <span class="string">"Encryption should be configured"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify CloudWatch alarms are configured"</span>)
    <span class="keyword">void</span> <span class="function">testCloudWatchAlarms</span>() {
        DescribeAlarmsResponse response = cloudWatchClient.describeAlarms(
            DescribeAlarmsRequest.builder()
                .alarmNamePrefix(ENVIRONMENT + <span class="string">"-"</span>)
                .build()
        );

        List<MetricAlarm> alarms = response.metricAlarms();

        <span class="comment">// Verify critical alarms exist</span>
        assertTrue(alarms.stream().anyMatch(a -> a.alarmName().contains(<span class="string">"cpu"</span>)),
            <span class="string">"CPU alarm should be configured"</span>);
        assertTrue(alarms.stream().anyMatch(a -> a.alarmName().contains(<span class="string">"memory"</span>)),
            <span class="string">"Memory alarm should be configured"</span>);
        assertTrue(alarms.stream().anyMatch(a -> a.alarmName().contains(<span class="string">"error-rate"</span>)),
            <span class="string">"Error rate alarm should be configured"</span>);

        <span class="comment">// Verify all alarms are OK</span>
        <span class="keyword">long</span> alarmsInAlarmState = alarms.stream()
            .filter(a -> a.stateValue() == StateValue.ALARM)
            .count();
        assertEquals(0, alarmsInAlarmState, <span class="string">"No alarms should be in ALARM state"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify load balancer health"</span>)
    <span class="keyword">void</span> <span class="function">testLoadBalancerHealth</span>() {
        ElasticLoadBalancingV2Client elbClient = ElasticLoadBalancingV2Client.create();

        <span class="comment">// Get target group health</span>
        DescribeTargetHealthResponse response = elbClient.describeTargetHealth(
            DescribeTargetHealthRequest.builder()
                .targetGroupArn(<span class="string">"arn:aws:elasticloadbalancing:region:account:targetgroup/prod-tg/xxx"</span>)
                .build()
        );

        List<TargetHealthDescription> targets = response.targetHealthDescriptions();

        <span class="comment">// Verify all targets are healthy</span>
        <span class="keyword">long</span> healthyTargets = targets.stream()
            .filter(t -> t.targetHealth().state() == TargetHealthStateEnum.HEALTHY)
            .count();

        assertEquals(targets.size(), healthyTargets,
            <span class="string">"All targets should be healthy"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify application endpoint is accessible"</span>)
    <span class="keyword">void</span> <span class="function">testApplicationEndpoint</span>() {
        HttpClient client = HttpClient.newHttpClient();

        HttpRequest request = HttpRequest.newBuilder()
            .uri(URI.create(<span class="string">"https://api.production.example.com/health"</span>))
            .timeout(Duration.ofSeconds(10))
            .GET()
            .build();

        HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());

        assertEquals(200, response.statusCode(), <span class="string">"Health endpoint should return 200"</span>);

        <span class="comment">// Parse and verify health response</span>
        JsonObject health = JsonParser.parseString(response.body()).getAsJsonObject();
        assertEquals(<span class="string">"UP"</span>, health.get(<span class="string">"status"</span>).getAsString());
        assertTrue(health.has(<span class="string">"components"</span>), <span class="string">"Should have component health details"</span>);
    }
}
</pre>
            </div>

            <h4>3.3.2 Azure Deployment Validation</h4>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// AZURE DEPLOYMENT VALIDATION TESTS
// ============================================</span>

<span class="keyword">package</span> com.sdet.tests.cloud.azure;

<span class="keyword">import</span> com.azure.resourcemanager.AzureResourceManager;
<span class="keyword">import</span> com.azure.resourcemanager.appservice.models.*;
<span class="keyword">import</span> com.azure.resourcemanager.sql.models.*;
<span class="keyword">import</span> org.junit.jupiter.api.*;
<span class="keyword">import static</span> org.junit.jupiter.api.Assertions.*;

<span class="keyword">public class</span> <span class="function">AzureDeploymentValidationTest</span> {

    <span class="keyword">private</span> AzureResourceManager azure;
    <span class="keyword">private static final</span> String RESOURCE_GROUP = <span class="string">"production-rg"</span>;
    <span class="keyword">private static final</span> String APP_SERVICE_NAME = <span class="string">"order-service-prod"</span>;

    @BeforeEach
    <span class="keyword">void</span> <span class="function">setUp</span>() {
        azure = AzureResourceManager.authenticate(
            <span class="keyword">new</span> DefaultAzureCredentialBuilder().build(),
            <span class="keyword">new</span> AzureProfile(AzureEnvironment.AZURE)
        ).withDefaultSubscription();
    }

    @Test
    @DisplayName(<span class="string">"Verify App Service is running"</span>)
    <span class="keyword">void</span> <span class="function">testAppServiceHealth</span>() {
        WebApp webApp = azure.webApps()
            .getByResourceGroup(RESOURCE_GROUP, APP_SERVICE_NAME);

        assertNotNull(webApp, <span class="string">"App Service should exist"</span>);
        assertEquals(WebAppState.RUNNING, webApp.state(),
            <span class="string">"App Service should be running"</span>);

        <span class="comment">// Verify deployment slots</span>
        DeploymentSlot stagingSlot = webApp.deploymentSlots()
            .getByName(<span class="string">"staging"</span>);
        assertNotNull(stagingSlot, <span class="string">"Staging slot should exist"</span>);

        <span class="comment">// Verify auto-scaling is configured</span>
        assertTrue(webApp.autoScaleSettings() != <span class="keyword">null</span>,
            <span class="string">"Auto-scaling should be configured"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify Azure SQL Database is accessible"</span>)
    <span class="keyword">void</span> <span class="function">testAzureSqlDatabase</span>() {
        SqlServer sqlServer = azure.sqlServers()
            .getByResourceGroup(RESOURCE_GROUP, <span class="string">"prod-sql-server"</span>);

        assertNotNull(sqlServer, <span class="string">"SQL Server should exist"</span>);

        SqlDatabase database = sqlServer.databases().get(<span class="string">"production-db"</span>);
        assertNotNull(database, <span class="string">"Database should exist"</span>);

        <span class="comment">// Verify database is online</span>
        assertEquals(<span class="string">"Online"</span>, database.status(),
            <span class="string">"Database should be online"</span>);

        <span class="comment">// Verify geo-replication for disaster recovery</span>
        assertTrue(database.listReplicationLinks().size() > 0,
            <span class="string">"Geo-replication should be configured"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify Application Insights is collecting data"</span>)
    <span class="keyword">void</span> <span class="function">testApplicationInsights</span>() {
        <span class="comment">// Query Application Insights for recent telemetry</span>
        QueryResults results = azure.applicationInsights()
            .getByResourceGroup(RESOURCE_GROUP, <span class="string">"prod-app-insights"</span>)
            .query(<span class="string">"requests | where timestamp > ago(5m) | count"</span>);

        <span class="keyword">long</span> requestCount = results.getTables().get(0)
            .getRows().get(0).get(0).getAsLong();

        assertTrue(requestCount > 0,
            <span class="string">"Application should be receiving requests"</span>);
    }
}
</pre>
            </div>
        </section>

        <!-- SECTION 4: SQL & Database Testing -->
        <section id="section4">
            <h2>4. SQL & Database Testing (Interview Level)</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Database Testing Focus</h3>
                <p>Senior SDETs must demonstrate strong SQL skills for data validation, integrity checking, and performance verification. This section covers common interview questions and practical scenarios.</p>
            </div>

            <h3>4.1 SQL Concepts Expected for Senior SDET Roles</h3>

            <table>
                <tr>
                    <th>Category</th>
                    <th>Concepts</th>
                    <th>Interview Focus</th>
                </tr>
                <tr>
                    <td>Basic Queries</td>
                    <td>SELECT, WHERE, ORDER BY, GROUP BY, HAVING</td>
                    <td>Data validation basics</td>
                </tr>
                <tr>
                    <td>Joins</td>
                    <td>INNER, LEFT, RIGHT, FULL, CROSS, Self-joins</td>
                    <td>Multi-table validation</td>
                </tr>
                <tr>
                    <td>Aggregations</td>
                    <td>COUNT, SUM, AVG, MIN, MAX, DISTINCT</td>
                    <td>Report validation</td>
                </tr>
                <tr>
                    <td>Subqueries</td>
                    <td>Scalar, Correlated, EXISTS, IN</td>
                    <td>Complex validations</td>
                </tr>
                <tr>
                    <td>Window Functions</td>
                    <td>ROW_NUMBER, RANK, LAG, LEAD, PARTITION BY</td>
                    <td>Analytics testing</td>
                </tr>
                <tr>
                    <td>Data Manipulation</td>
                    <td>INSERT, UPDATE, DELETE, MERGE</td>
                    <td>Test data management</td>
                </tr>
                <tr>
                    <td>Transactions</td>
                    <td>COMMIT, ROLLBACK, SAVEPOINT, Isolation levels</td>
                    <td>Data integrity testing</td>
                </tr>
                <tr>
                    <td>Performance</td>
                    <td>Indexes, Execution plans, Query optimization</td>
                    <td>Performance testing</td>
                </tr>
            </table>

            <h3>4.2 Common SQL Interview Questions with Solutions</h3>

            <h4>4.2.1 Data Validation Queries</h4>

            <div class="interview-qa">
                <div class="question">Q1: How would you validate that an API response matches database data?</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Verify user data returned by API matches database</span>
<span class="keyword">SELECT</span>
    u.id,
    u.first_name,
    u.last_name,
    u.email,
    u.status,
    u.created_at,
    COUNT(o.id) <span class="keyword">AS</span> order_count,
    COALESCE(SUM(o.total_amount), 0) <span class="keyword">AS</span> total_spent
<span class="keyword">FROM</span> users u
<span class="keyword">LEFT JOIN</span> orders o <span class="keyword">ON</span> u.id = o.user_id
    <span class="keyword">AND</span> o.status = <span class="string">'COMPLETED'</span>
<span class="keyword">WHERE</span> u.id = <span class="string">'USER-123'</span>
<span class="keyword">GROUP BY</span> u.id, u.first_name, u.last_name, u.email, u.status, u.created_at;

<span class="comment">-- Compare API response fields with query results
-- In test code:</span>
</pre>
                    </div>
                    <div class="code-block">
<pre>
<span class="keyword">public void</span> <span class="function">validateUserApiResponse</span>(String userId) {
    <span class="comment">// Get API response</span>
    UserResponse apiUser = userApi.getUserById(userId);

    <span class="comment">// Get database record</span>
    String query = <span class="string">"""
        SELECT id, first_name, last_name, email, status,
               (SELECT COUNT(*) FROM orders WHERE user_id = u.id AND status = 'COMPLETED') as order_count
        FROM users u WHERE id = ?
        """</span>;

    Map<String, Object> dbUser = jdbcTemplate.queryForMap(query, userId);

    <span class="comment">// Assert all fields match</span>
    assertAll(<span class="string">"User data validation"</span>,
        () -> assertEquals(dbUser.get(<span class="string">"first_name"</span>), apiUser.getFirstName()),
        () -> assertEquals(dbUser.get(<span class="string">"last_name"</span>), apiUser.getLastName()),
        () -> assertEquals(dbUser.get(<span class="string">"email"</span>), apiUser.getEmail()),
        () -> assertEquals(dbUser.get(<span class="string">"status"</span>), apiUser.getStatus()),
        () -> assertEquals(dbUser.get(<span class="string">"order_count"</span>), apiUser.getOrderCount())
    );
}
</pre>
                    </div>
                </div>
            </div>

            <div class="interview-qa">
                <div class="question">Q2: Write a query to find duplicate records in a table</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Find duplicate emails in users table</span>
<span class="keyword">SELECT</span>
    email,
    COUNT(*) <span class="keyword">AS</span> occurrence_count,
    STRING_AGG(id::text, <span class="string">', '</span>) <span class="keyword">AS</span> duplicate_ids
<span class="keyword">FROM</span> users
<span class="keyword">GROUP BY</span> email
<span class="keyword">HAVING</span> COUNT(*) > 1
<span class="keyword">ORDER BY</span> occurrence_count <span class="keyword">DESC</span>;

<span class="comment">-- Find duplicates based on multiple columns</span>
<span class="keyword">SELECT</span>
    first_name,
    last_name,
    phone_number,
    COUNT(*) <span class="keyword">AS</span> duplicate_count
<span class="keyword">FROM</span> customers
<span class="keyword">GROUP BY</span> first_name, last_name, phone_number
<span class="keyword">HAVING</span> COUNT(*) > 1;

<span class="comment">-- Using window function to identify duplicates with all columns</span>
<span class="keyword">WITH</span> duplicates <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> *,
        ROW_NUMBER() <span class="keyword">OVER</span> (
            <span class="keyword">PARTITION BY</span> email
            <span class="keyword">ORDER BY</span> created_at
        ) <span class="keyword">AS</span> row_num
    <span class="keyword">FROM</span> users
)
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> duplicates <span class="keyword">WHERE</span> row_num > 1;
</pre>
                    </div>
                </div>
            </div>

            <div class="interview-qa">
                <div class="question">Q3: How do you verify data integrity across related tables?</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Check for orphaned records (orders without users)</span>
<span class="keyword">SELECT</span> o.*
<span class="keyword">FROM</span> orders o
<span class="keyword">LEFT JOIN</span> users u <span class="keyword">ON</span> o.user_id = u.id
<span class="keyword">WHERE</span> u.id <span class="keyword">IS NULL</span>;

<span class="comment">-- Verify referential integrity - order items must have valid products</span>
<span class="keyword">SELECT</span>
    oi.id <span class="keyword">AS</span> order_item_id,
    oi.product_id,
    oi.order_id
<span class="keyword">FROM</span> order_items oi
<span class="keyword">LEFT JOIN</span> products p <span class="keyword">ON</span> oi.product_id = p.id
<span class="keyword">WHERE</span> p.id <span class="keyword">IS NULL</span>;

<span class="comment">-- Verify order totals match sum of order items</span>
<span class="keyword">SELECT</span>
    o.id <span class="keyword">AS</span> order_id,
    o.total_amount <span class="keyword">AS</span> stored_total,
    SUM(oi.quantity * oi.unit_price) <span class="keyword">AS</span> calculated_total,
    o.total_amount - SUM(oi.quantity * oi.unit_price) <span class="keyword">AS</span> discrepancy
<span class="keyword">FROM</span> orders o
<span class="keyword">JOIN</span> order_items oi <span class="keyword">ON</span> o.id = oi.order_id
<span class="keyword">GROUP BY</span> o.id, o.total_amount
<span class="keyword">HAVING</span> ABS(o.total_amount - SUM(oi.quantity * oi.unit_price)) > 0.01;

<span class="comment">-- Verify inventory consistency</span>
<span class="keyword">SELECT</span>
    p.id,
    p.name,
    p.stock_quantity <span class="keyword">AS</span> current_stock,
    COALESCE(received.total_received, 0) - COALESCE(sold.total_sold, 0) <span class="keyword">AS</span> calculated_stock,
    p.stock_quantity - (COALESCE(received.total_received, 0) - COALESCE(sold.total_sold, 0)) <span class="keyword">AS</span> discrepancy
<span class="keyword">FROM</span> products p
<span class="keyword">LEFT JOIN</span> (
    <span class="keyword">SELECT</span> product_id, SUM(quantity) <span class="keyword">AS</span> total_received
    <span class="keyword">FROM</span> inventory_receipts
    <span class="keyword">GROUP BY</span> product_id
) received <span class="keyword">ON</span> p.id = received.product_id
<span class="keyword">LEFT JOIN</span> (
    <span class="keyword">SELECT</span> product_id, SUM(quantity) <span class="keyword">AS</span> total_sold
    <span class="keyword">FROM</span> order_items oi
    <span class="keyword">JOIN</span> orders o <span class="keyword">ON</span> oi.order_id = o.id
    <span class="keyword">WHERE</span> o.status = <span class="string">'COMPLETED'</span>
    <span class="keyword">GROUP BY</span> product_id
) sold <span class="keyword">ON</span> p.id = sold.product_id
<span class="keyword">HAVING</span> discrepancy != 0;
</pre>
                    </div>
                </div>
            </div>

            <div class="interview-qa">
                <div class="question">Q4: Write queries for testing pagination in APIs</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Get total count for pagination metadata</span>
<span class="keyword">SELECT</span> COUNT(*) <span class="keyword">AS</span> total_elements
<span class="keyword">FROM</span> products
<span class="keyword">WHERE</span> status = <span class="string">'ACTIVE'</span>;

<span class="comment">-- Get paginated results (page 2, 10 items per page)</span>
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> products
<span class="keyword">WHERE</span> status = <span class="string">'ACTIVE'</span>
<span class="keyword">ORDER BY</span> created_at <span class="keyword">DESC</span>
<span class="keyword">LIMIT</span> 10 <span class="keyword">OFFSET</span> 10;

<span class="comment">-- Verify no gaps in pagination (all items covered)</span>
<span class="keyword">WITH</span> all_ids <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> id, ROW_NUMBER() <span class="keyword">OVER</span> (<span class="keyword">ORDER BY</span> created_at <span class="keyword">DESC</span>) <span class="keyword">AS</span> row_num
    <span class="keyword">FROM</span> products
    <span class="keyword">WHERE</span> status = <span class="string">'ACTIVE'</span>
)
<span class="keyword">SELECT</span>
    COUNT(*) <span class="keyword">AS</span> total,
    MIN(row_num) <span class="keyword">AS</span> min_row,
    MAX(row_num) <span class="keyword">AS</span> max_row,
    <span class="keyword">CASE WHEN</span> MAX(row_num) = COUNT(*) <span class="keyword">THEN</span> <span class="string">'NO GAPS'</span> <span class="keyword">ELSE</span> <span class="string">'HAS GAPS'</span> <span class="keyword">END AS</span> gap_check
<span class="keyword">FROM</span> all_ids;

<span class="comment">-- Cursor-based pagination validation</span>
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> products
<span class="keyword">WHERE</span> created_at < <span class="string">'2024-01-15T10:30:00Z'</span>  <span class="comment">-- cursor</span>
<span class="keyword">ORDER BY</span> created_at <span class="keyword">DESC</span>
<span class="keyword">LIMIT</span> 10;
</pre>
                    </div>
                </div>
            </div>

            <h4>4.2.2 Transaction Testing Queries</h4>

            <div class="interview-qa">
                <div class="question">Q5: How do you test transaction isolation and rollback scenarios?</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Test transaction rollback - simulate payment failure</span>
<span class="keyword">BEGIN TRANSACTION</span>;

<span class="comment">-- Create order</span>
<span class="keyword">INSERT INTO</span> orders (id, user_id, total_amount, status)
<span class="keyword">VALUES</span> (<span class="string">'ORD-TEST-001'</span>, <span class="string">'USER-123'</span>, 99.99, <span class="string">'PENDING'</span>);

<span class="comment">-- Reserve inventory</span>
<span class="keyword">UPDATE</span> products
<span class="keyword">SET</span> reserved_quantity = reserved_quantity + 1
<span class="keyword">WHERE</span> id = <span class="string">'PROD-001'</span>;

<span class="comment">-- Simulate payment failure</span>
<span class="comment">-- ROLLBACK should undo both operations</span>
<span class="keyword">ROLLBACK</span>;

<span class="comment">-- Verify order was not created</span>
<span class="keyword">SELECT</span> COUNT(*) <span class="keyword">FROM</span> orders <span class="keyword">WHERE</span> id = <span class="string">'ORD-TEST-001'</span>;
<span class="comment">-- Expected: 0</span>

<span class="comment">-- Verify inventory was not reserved</span>
<span class="keyword">SELECT</span> reserved_quantity <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> id = <span class="string">'PROD-001'</span>;
<span class="comment">-- Expected: original value</span>
</pre>
                    </div>
                    <div class="code-block">
<pre>
<span class="comment">// Java test for transaction isolation</span>
@Test
<span class="keyword">void</span> <span class="function">testTransactionIsolation</span>() <span class="keyword">throws</span> Exception {
    <span class="keyword">final</span> String productId = <span class="string">"PROD-001"</span>;
    <span class="keyword">int</span> initialStock = getStockLevel(productId);

    <span class="comment">// Start transaction 1 - read stock</span>
    Connection conn1 = dataSource.getConnection();
    conn1.setAutoCommit(<span class="keyword">false</span>);
    conn1.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);

    <span class="keyword">int</span> stockInTx1 = getStockInTransaction(conn1, productId);
    assertEquals(initialStock, stockInTx1);

    <span class="comment">// Start transaction 2 - modify stock</span>
    Connection conn2 = dataSource.getConnection();
    conn2.setAutoCommit(<span class="keyword">false</span>);
    updateStockInTransaction(conn2, productId, initialStock - 5);
    conn2.commit();
    conn2.close();

    <span class="comment">// Transaction 1 should still see original value (read committed)</span>
    <span class="keyword">int</span> stockAfterTx2 = getStockInTransaction(conn1, productId);

    <span class="comment">// With READ_COMMITTED, reading again should see the new value</span>
    assertEquals(initialStock - 5, stockAfterTx2);

    conn1.rollback();
    conn1.close();
}
</pre>
                    </div>
                </div>
            </div>

            <h4>4.2.3 Window Functions for Analytics Testing</h4>

            <div class="interview-qa">
                <div class="question">Q6: Write queries using window functions to validate analytics dashboards</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Running total of sales by month</span>
<span class="keyword">SELECT</span>
    DATE_TRUNC(<span class="string">'month'</span>, order_date) <span class="keyword">AS</span> month,
    SUM(total_amount) <span class="keyword">AS</span> monthly_sales,
    SUM(SUM(total_amount)) <span class="keyword">OVER</span> (
        <span class="keyword">ORDER BY</span> DATE_TRUNC(<span class="string">'month'</span>, order_date)
    ) <span class="keyword">AS</span> running_total
<span class="keyword">FROM</span> orders
<span class="keyword">WHERE</span> status = <span class="string">'COMPLETED'</span>
<span class="keyword">GROUP BY</span> DATE_TRUNC(<span class="string">'month'</span>, order_date)
<span class="keyword">ORDER BY</span> month;

<span class="comment">-- Rank products by sales within each category</span>
<span class="keyword">SELECT</span>
    p.category,
    p.name,
    SUM(oi.quantity * oi.unit_price) <span class="keyword">AS</span> total_sales,
    RANK() <span class="keyword">OVER</span> (
        <span class="keyword">PARTITION BY</span> p.category
        <span class="keyword">ORDER BY</span> SUM(oi.quantity * oi.unit_price) <span class="keyword">DESC</span>
    ) <span class="keyword">AS</span> sales_rank
<span class="keyword">FROM</span> products p
<span class="keyword">JOIN</span> order_items oi <span class="keyword">ON</span> p.id = oi.product_id
<span class="keyword">JOIN</span> orders o <span class="keyword">ON</span> oi.order_id = o.id
<span class="keyword">WHERE</span> o.status = <span class="string">'COMPLETED'</span>
<span class="keyword">GROUP BY</span> p.category, p.name;

<span class="comment">-- Month-over-month growth rate</span>
<span class="keyword">WITH</span> monthly_sales <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span>
        DATE_TRUNC(<span class="string">'month'</span>, order_date) <span class="keyword">AS</span> month,
        SUM(total_amount) <span class="keyword">AS</span> sales
    <span class="keyword">FROM</span> orders
    <span class="keyword">WHERE</span> status = <span class="string">'COMPLETED'</span>
    <span class="keyword">GROUP BY</span> DATE_TRUNC(<span class="string">'month'</span>, order_date)
)
<span class="keyword">SELECT</span>
    month,
    sales,
    LAG(sales) <span class="keyword">OVER</span> (<span class="keyword">ORDER BY</span> month) <span class="keyword">AS</span> previous_month_sales,
    ROUND(
        ((sales - LAG(sales) <span class="keyword">OVER</span> (<span class="keyword">ORDER BY</span> month)) /
         LAG(sales) <span class="keyword">OVER</span> (<span class="keyword">ORDER BY</span> month)) * 100, 2
    ) <span class="keyword">AS</span> growth_percentage
<span class="keyword">FROM</span> monthly_sales
<span class="keyword">ORDER BY</span> month;

<span class="comment">-- Moving average for trend analysis</span>
<span class="keyword">SELECT</span>
    order_date,
    total_amount,
    AVG(total_amount) <span class="keyword">OVER</span> (
        <span class="keyword">ORDER BY</span> order_date
        <span class="keyword">ROWS BETWEEN</span> 6 <span class="keyword">PRECEDING AND CURRENT ROW</span>
    ) <span class="keyword">AS</span> seven_day_moving_avg
<span class="keyword">FROM</span> orders
<span class="keyword">WHERE</span> status = <span class="string">'COMPLETED'</span>
<span class="keyword">ORDER BY</span> order_date;
</pre>
                    </div>
                </div>
            </div>

            <h3>4.3 Database Testing Framework Implementation</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// DATABASE TESTING UTILITIES
// ============================================</span>

<span class="keyword">package</span> com.sdet.framework.database;

<span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;
<span class="keyword">import</span> java.util.*;

<span class="keyword">public class</span> <span class="function">DatabaseValidator</span> {
    <span class="keyword">private final</span> JdbcTemplate jdbcTemplate;

    <span class="keyword">public</span> <span class="function">DatabaseValidator</span>(JdbcTemplate jdbcTemplate) {
        <span class="keyword">this</span>.jdbcTemplate = jdbcTemplate;
    }

    <span class="comment">// Verify record exists</span>
    <span class="keyword">public boolean</span> <span class="function">recordExists</span>(String table, String whereClause, Object... params) {
        String sql = String.format(<span class="string">"SELECT COUNT(*) FROM %s WHERE %s"</span>, table, whereClause);
        Integer count = jdbcTemplate.queryForObject(sql, Integer.class, params);
        <span class="keyword">return</span> count != <span class="keyword">null</span> && count > 0;
    }

    <span class="comment">// Get single column value</span>
    <span class="keyword">public</span> <T> T <span class="function">getValue</span>(String table, String column, String whereClause,
                             Class<T> type, Object... params) {
        String sql = String.format(<span class="string">"SELECT %s FROM %s WHERE %s"</span>, column, table, whereClause);
        <span class="keyword">return</span> jdbcTemplate.queryForObject(sql, type, params);
    }

    <span class="comment">// Compare API response with database</span>
    <span class="keyword">public</span> ValidationResult <span class="function">validateAgainstApi</span>(
            Map<String, Object> apiResponse,
            String table,
            String whereClause,
            Map<String, String> fieldMappings,
            Object... params) {

        String columns = String.join(<span class="string">", "</span>, fieldMappings.values());
        String sql = String.format(<span class="string">"SELECT %s FROM %s WHERE %s"</span>, columns, table, whereClause);

        Map<String, Object> dbRecord = jdbcTemplate.queryForMap(sql, params);

        List<String> mismatches = <span class="keyword">new</span> ArrayList<>();

        <span class="keyword">for</span> (Map.Entry<String, String> mapping : fieldMappings.entrySet()) {
            String apiField = mapping.getKey();
            String dbColumn = mapping.getValue();

            Object apiValue = apiResponse.get(apiField);
            Object dbValue = dbRecord.get(dbColumn);

            <span class="keyword">if</span> (!Objects.equals(apiValue, dbValue)) {
                mismatches.add(String.format(
                    <span class="string">"Field '%s': API='%s', DB='%s'"</span>, apiField, apiValue, dbValue));
            }
        }

        <span class="keyword">return new</span> ValidationResult(mismatches.isEmpty(), mismatches);
    }

    <span class="comment">// Verify data integrity across tables</span>
    <span class="keyword">public</span> List<String> <span class="function">findOrphanedRecords</span>(
            String childTable,
            String childColumn,
            String parentTable,
            String parentColumn) {

        String sql = String.format(<span class="string">"""
            SELECT c.%s
            FROM %s c
            LEFT JOIN %s p ON c.%s = p.%s
            WHERE p.%s IS NULL
            """</span>, childColumn, childTable, parentTable, childColumn, parentColumn, parentColumn);

        <span class="keyword">return</span> jdbcTemplate.queryForList(sql, String.class);
    }

    <span class="comment">// Verify row count</span>
    <span class="keyword">public int</span> <span class="function">getRowCount</span>(String table, String whereClause, Object... params) {
        String sql = String.format(<span class="string">"SELECT COUNT(*) FROM %s WHERE %s"</span>, table, whereClause);
        Integer count = jdbcTemplate.queryForObject(sql, Integer.class, params);
        <span class="keyword">return</span> count != <span class="keyword">null</span> ? count : 0;
    }

    <span class="comment">// Execute custom validation query</span>
    <span class="keyword">public</span> List<Map<String, Object>> <span class="function">executeQuery</span>(String sql, Object... params) {
        <span class="keyword">return</span> jdbcTemplate.queryForList(sql, params);
    }

    <span class="comment">// Verify no duplicates on unique columns</span>
    <span class="keyword">public</span> List<Map<String, Object>> <span class="function">findDuplicates</span>(String table, String... columns) {
        String columnList = String.join(<span class="string">", "</span>, columns);
        String sql = String.format(<span class="string">"""
            SELECT %s, COUNT(*) as duplicate_count
            FROM %s
            GROUP BY %s
            HAVING COUNT(*) > 1
            """</span>, columnList, table, columnList);

        <span class="keyword">return</span> jdbcTemplate.queryForList(sql);
    }

    <span class="comment">// Verify timestamp ordering</span>
    <span class="keyword">public boolean</span> <span class="function">verifyTimestampOrder</span>(String table, String timestampColumn,
                                          String orderColumn, <span class="keyword">boolean</span> ascending) {
        String direction = ascending ? <span class="string">"ASC"</span> : <span class="string">"DESC"</span>;
        String sql = String.format(<span class="string">"""
            SELECT COUNT(*) FROM (
                SELECT %s,
                       LAG(%s) OVER (ORDER BY %s %s) as prev_ts
                FROM %s
            ) t
            WHERE %s < prev_ts
            """</span>, timestampColumn, timestampColumn, orderColumn, direction,
                table, timestampColumn);

        Integer violations = jdbcTemplate.queryForObject(sql, Integer.class);
        <span class="keyword">return</span> violations == <span class="keyword">null</span> || violations == 0;
    }
}

<span class="comment">// Usage in tests:</span>
@Test
<span class="keyword">void</span> <span class="function">testOrderCreationInDatabase</span>() {
    <span class="comment">// Create order via API</span>
    OrderResponse apiResponse = orderApi.createOrder(orderRequest);

    <span class="comment">// Verify in database</span>
    DatabaseValidator db = <span class="keyword">new</span> DatabaseValidator(jdbcTemplate);

    assertTrue(db.recordExists(<span class="string">"orders"</span>, <span class="string">"id = ?"</span>, apiResponse.getOrderId()));

    Map<String, String> fieldMappings = Map.of(
        <span class="string">"orderId"</span>, <span class="string">"id"</span>,
        <span class="string">"status"</span>, <span class="string">"status"</span>,
        <span class="string">"totalAmount"</span>, <span class="string">"total_amount"</span>
    );

    ValidationResult result = db.validateAgainstApi(
        objectMapper.convertValue(apiResponse, Map.class),
        <span class="string">"orders"</span>,
        <span class="string">"id = ?"</span>,
        fieldMappings,
        apiResponse.getOrderId()
    );

    assertTrue(result.isValid(), <span class="string">"Mismatches: "</span> + result.getMismatches());
}
</pre>
            </div>

            <h3>4.4 Real-World Database Validation Scenarios</h3>

            <div class="interview-qa">
                <div class="question">Scenario: Validate E-commerce Order Processing</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Complete order validation query suite</span>

<span class="comment">-- 1. Verify order was created correctly</span>
<span class="keyword">SELECT</span>
    o.id,
    o.user_id,
    o.status,
    o.total_amount,
    o.shipping_address,
    o.created_at
<span class="keyword">FROM</span> orders o
<span class="keyword">WHERE</span> o.id = <span class="string">'ORD-123'</span>;

<span class="comment">-- 2. Verify order items match cart</span>
<span class="keyword">SELECT</span>
    oi.product_id,
    oi.quantity,
    oi.unit_price,
    p.name <span class="keyword">AS</span> product_name,
    (oi.quantity * oi.unit_price) <span class="keyword">AS</span> line_total
<span class="keyword">FROM</span> order_items oi
<span class="keyword">JOIN</span> products p <span class="keyword">ON</span> oi.product_id = p.id
<span class="keyword">WHERE</span> oi.order_id = <span class="string">'ORD-123'</span>;

<span class="comment">-- 3. Verify inventory was decremented</span>
<span class="keyword">SELECT</span>
    p.id,
    p.name,
    p.stock_quantity <span class="keyword">AS</span> current_stock,
    ih.previous_quantity,
    ih.change_quantity,
    ih.operation_type
<span class="keyword">FROM</span> products p
<span class="keyword">JOIN</span> inventory_history ih <span class="keyword">ON</span> p.id = ih.product_id
<span class="keyword">WHERE</span> ih.reference_id = <span class="string">'ORD-123'</span>
<span class="keyword">AND</span> ih.operation_type = <span class="string">'ORDER_PLACED'</span>;

<span class="comment">-- 4. Verify payment record</span>
<span class="keyword">SELECT</span>
    pt.id <span class="keyword">AS</span> transaction_id,
    pt.order_id,
    pt.amount,
    pt.status,
    pt.payment_method,
    pt.processor_reference,
    pt.created_at
<span class="keyword">FROM</span> payment_transactions pt
<span class="keyword">WHERE</span> pt.order_id = <span class="string">'ORD-123'</span>;

<span class="comment">-- 5. Verify audit trail</span>
<span class="keyword">SELECT</span>
    al.entity_type,
    al.entity_id,
    al.action,
    al.old_value,
    al.new_value,
    al.performed_by,
    al.performed_at
<span class="keyword">FROM</span> audit_log al
<span class="keyword">WHERE</span> al.entity_id = <span class="string">'ORD-123'</span>
<span class="keyword">ORDER BY</span> al.performed_at;

<span class="comment">-- 6. Cross-validate totals</span>
<span class="keyword">SELECT</span>
    o.id,
    o.total_amount <span class="keyword">AS</span> order_total,
    o.tax_amount,
    o.shipping_amount,
    SUM(oi.quantity * oi.unit_price) <span class="keyword">AS</span> items_subtotal,
    (SUM(oi.quantity * oi.unit_price) + o.tax_amount + o.shipping_amount) <span class="keyword">AS</span> calculated_total,
    <span class="keyword">CASE</span>
        <span class="keyword">WHEN</span> o.total_amount = (SUM(oi.quantity * oi.unit_price) + o.tax_amount + o.shipping_amount)
        <span class="keyword">THEN</span> <span class="string">'VALID'</span>
        <span class="keyword">ELSE</span> <span class="string">'MISMATCH'</span>
    <span class="keyword">END AS</span> validation_result
<span class="keyword">FROM</span> orders o
<span class="keyword">JOIN</span> order_items oi <span class="keyword">ON</span> o.id = oi.order_id
<span class="keyword">WHERE</span> o.id = <span class="string">'ORD-123'</span>
<span class="keyword">GROUP BY</span> o.id, o.total_amount, o.tax_amount, o.shipping_amount;
</pre>
                    </div>
                </div>
            </div>
        </section>
        <!-- SECTION 5: Cloud Testing (AWS & Azure) -->
        <section id="section5">
            <h2>5. Cloud Testing (AWS & Azure)</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Cloud Testing Focus</h3>
                <p>Modern SDETs must understand cloud infrastructure testing beyond just application testing. This section covers testing strategies for AWS and Azure deployments.</p>
            </div>

            <h3>5.1 How SDETs Test Cloud-Deployed Applications</h3>

            <h4>5.1.1 Testing Layers in Cloud Environments</h4>

            <div class="framework-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLOUD TESTING LAYERS                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  INFRASTRUCTURE TESTING                                   â”‚   â”‚
â”‚  â”‚  â€¢ Resource provisioning validation                       â”‚   â”‚
â”‚  â”‚  â€¢ Security group and firewall rules                      â”‚   â”‚
â”‚  â”‚  â€¢ Network connectivity and DNS resolution                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PLATFORM TESTING                                         â”‚   â”‚
â”‚  â”‚  â€¢ Container orchestration (ECS/AKS)                      â”‚   â”‚
â”‚  â”‚  â€¢ Managed services (RDS, CosmosDB)                       â”‚   â”‚
â”‚  â”‚  â€¢ Auto-scaling and load balancing                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  APPLICATION TESTING                                      â”‚   â”‚
â”‚  â”‚  â€¢ Functional testing in cloud environment                â”‚   â”‚
â”‚  â”‚  â€¢ Integration with cloud services                        â”‚   â”‚
â”‚  â”‚  â€¢ Performance under cloud conditions                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  OBSERVABILITY TESTING                                    â”‚   â”‚
â”‚  â”‚  â€¢ Logging and monitoring verification                    â”‚   â”‚
â”‚  â”‚  â€¢ Alerting and notification testing                      â”‚   â”‚
â”‚  â”‚  â€¢ Distributed tracing validation                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
            </div>

            <h4>5.1.2 AWS Testing Strategy</h4>

            <div class="interview-qa">
                <div class="question">Interview Question: "How would you test an application deployed on AWS?"</div>
                <div class="answer">
                    <p><strong>Comprehensive Response:</strong></p>
                    <p>"My AWS testing strategy covers multiple layers:"</p>

                    <p><strong>1. Infrastructure Validation:</strong></p>
                    <ul>
                        <li>Verify CloudFormation/Terraform deployment success</li>
                        <li>Validate security groups allow correct traffic</li>
                        <li>Confirm IAM roles and policies are correctly configured</li>
                        <li>Check VPC subnets and routing tables</li>
                    </ul>

                    <p><strong>2. Service Health Checks:</strong></p>
                    <ul>
                        <li>ECS/EKS task health and scaling</li>
                        <li>RDS availability and replication</li>
                        <li>S3 bucket permissions and encryption</li>
                        <li>Lambda function invocations</li>
                    </ul>

                    <p><strong>3. Application Testing:</strong></p>
                    <ul>
                        <li>API Gateway endpoint testing</li>
                        <li>Load balancer health checks</li>
                        <li>End-to-end user flows</li>
                        <li>Cross-region failover testing</li>
                    </ul>

                    <p><strong>4. Observability Validation:</strong></p>
                    <ul>
                        <li>CloudWatch metrics and alarms</li>
                        <li>X-Ray tracing for distributed applications</li>
                        <li>Log aggregation and searchability</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// AWS INFRASTRUCTURE TESTING
// ============================================</span>

<span class="keyword">package</span> com.sdet.tests.cloud.aws;

<span class="keyword">import</span> software.amazon.awssdk.services.ecs.*;
<span class="keyword">import</span> software.amazon.awssdk.services.elasticloadbalancingv2.*;
<span class="keyword">import</span> software.amazon.awssdk.services.cloudwatch.*;
<span class="keyword">import</span> org.junit.jupiter.api.*;

<span class="keyword">public class</span> <span class="function">AwsInfrastructureTest</span> {

    <span class="keyword">private</span> EcsClient ecsClient;
    <span class="keyword">private</span> ElasticLoadBalancingV2Client elbClient;
    <span class="keyword">private</span> CloudWatchClient cloudWatchClient;

    <span class="keyword">private static final</span> String CLUSTER_NAME = <span class="string">"production-cluster"</span>;

    @BeforeEach
    <span class="keyword">void</span> <span class="function">setUp</span>() {
        ecsClient = EcsClient.create();
        elbClient = ElasticLoadBalancingV2Client.create();
        cloudWatchClient = CloudWatchClient.create();
    }

    @Test
    @DisplayName(<span class="string">"Verify ECS Service Auto-Scaling"</span>)
    <span class="keyword">void</span> <span class="function">testAutoScaling</span>() {
        <span class="comment">// Get current task count</span>
        DescribeServicesResponse response = ecsClient.describeServices(
            DescribeServicesRequest.builder()
                .cluster(CLUSTER_NAME)
                .services(<span class="string">"order-service"</span>)
                .build()
        );

        Service service = response.services().get(0);
        <span class="keyword">int</span> currentTasks = service.runningCount();

        <span class="comment">// Verify minimum tasks are running</span>
        assertTrue(currentTasks >= 2, <span class="string">"Minimum 2 tasks should be running"</span>);

        <span class="comment">// Verify scaling policy exists</span>
        DescribeScalableTargetsResponse scalingResponse =
            applicationAutoScalingClient.describeScalableTargets(
                DescribeScalableTargetsRequest.builder()
                    .serviceNamespace(ServiceNamespace.ECS)
                    .resourceIds(<span class="string">"service/"</span> + CLUSTER_NAME + <span class="string">"/order-service"</span>)
                    .build()
            );

        assertFalse(scalingResponse.scalableTargets().isEmpty(),
            <span class="string">"Auto-scaling should be configured"</span>);

        ScalableTarget target = scalingResponse.scalableTargets().get(0);
        assertTrue(target.maxCapacity() >= 10,
            <span class="string">"Max capacity should allow scaling to 10+ tasks"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify Load Balancer Configuration"</span>)
    <span class="keyword">void</span> <span class="function">testLoadBalancerConfiguration</span>() {
        <span class="comment">// Get load balancer details</span>
        DescribeLoadBalancersResponse lbResponse = elbClient.describeLoadBalancers(
            DescribeLoadBalancersRequest.builder()
                .names(<span class="string">"production-alb"</span>)
                .build()
        );

        LoadBalancer lb = lbResponse.loadBalancers().get(0);

        <span class="comment">// Verify load balancer is active</span>
        assertEquals(LoadBalancerStateEnum.ACTIVE, lb.state().code(),
            <span class="string">"Load balancer should be active"</span>);

        <span class="comment">// Verify it's internet-facing for public apps</span>
        assertEquals(LoadBalancerSchemeEnum.INTERNET_FACING, lb.scheme(),
            <span class="string">"Load balancer should be internet-facing"</span>);

        <span class="comment">// Verify HTTPS listener exists</span>
        DescribeListenersResponse listenerResponse = elbClient.describeListeners(
            DescribeListenersRequest.builder()
                .loadBalancerArn(lb.loadBalancerArn())
                .build()
        );

        <span class="keyword">boolean</span> hasHttpsListener = listenerResponse.listeners().stream()
            .anyMatch(l -> l.protocol() == ProtocolEnum.HTTPS);

        assertTrue(hasHttpsListener, <span class="string">"HTTPS listener should be configured"</span>);

        <span class="comment">// Verify SSL certificate</span>
        Listener httpsListener = listenerResponse.listeners().stream()
            .filter(l -> l.protocol() == ProtocolEnum.HTTPS)
            .findFirst()
            .orElseThrow();

        assertFalse(httpsListener.certificates().isEmpty(),
            <span class="string">"SSL certificate should be attached"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify CloudWatch Monitoring"</span>)
    <span class="keyword">void</span> <span class="function">testCloudWatchMonitoring</span>() {
        <span class="comment">// Verify critical metrics are being collected</span>
        GetMetricStatisticsResponse cpuMetrics = cloudWatchClient.getMetricStatistics(
            GetMetricStatisticsRequest.builder()
                .namespace(<span class="string">"AWS/ECS"</span>)
                .metricName(<span class="string">"CPUUtilization"</span>)
                .dimensions(
                    Dimension.builder()
                        .name(<span class="string">"ClusterName"</span>)
                        .value(CLUSTER_NAME)
                        .build()
                )
                .startTime(Instant.now().minus(Duration.ofHours(1)))
                .endTime(Instant.now())
                .period(300)
                .statistics(Statistic.AVERAGE)
                .build()
        );

        assertFalse(cpuMetrics.datapoints().isEmpty(),
            <span class="string">"CPU metrics should be available"</span>);

        <span class="comment">// Verify alarms are configured</span>
        DescribeAlarmsResponse alarms = cloudWatchClient.describeAlarms(
            DescribeAlarmsRequest.builder()
                .alarmNamePrefix(<span class="string">"production-"</span>)
                .build()
        );

        assertTrue(alarms.metricAlarms().size() >= 3,
            <span class="string">"Should have at least 3 alarms configured"</span>);

        <span class="comment">// Verify no alarms are in ALARM state</span>
        <span class="keyword">long</span> alarmsInAlarmState = alarms.metricAlarms().stream()
            .filter(a -> a.stateValue() == StateValue.ALARM)
            .count();

        assertEquals(0, alarmsInAlarmState,
            <span class="string">"No alarms should be in ALARM state"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify Security Group Configuration"</span>)
    <span class="keyword">void</span> <span class="function">testSecurityGroups</span>() {
        Ec2Client ec2Client = Ec2Client.create();

        DescribeSecurityGroupsResponse sgResponse = ec2Client.describeSecurityGroups(
            DescribeSecurityGroupsRequest.builder()
                .groupNames(<span class="string">"production-app-sg"</span>)
                .build()
        );

        SecurityGroup sg = sgResponse.securityGroups().get(0);

        <span class="comment">// Verify only necessary ports are open</span>
        Set<Integer> allowedPorts = Set.of(443, 80);

        <span class="keyword">for</span> (IpPermission permission : sg.ipPermissions()) {
            <span class="keyword">if</span> (permission.ipRanges().stream()
                    .anyMatch(r -> r.cidrIp().equals(<span class="string">"0.0.0.0/0"</span>))) {
                assertTrue(allowedPorts.contains(permission.fromPort()),
                    <span class="string">"Only ports 80 and 443 should be publicly accessible"</span>);
            }
        }

        <span class="comment">// Verify no SSH access from anywhere</span>
        <span class="keyword">boolean</span> sshFromAnywhere = sg.ipPermissions().stream()
            .filter(p -> p.fromPort() != <span class="keyword">null</span> && p.fromPort() == 22)
            .flatMap(p -> p.ipRanges().stream())
            .anyMatch(r -> r.cidrIp().equals(<span class="string">"0.0.0.0/0"</span>));

        assertFalse(sshFromAnywhere, <span class="string">"SSH should not be open to the world"</span>);
    }
}
</pre>
            </div>

            <h3>5.2 Azure Testing Strategy</h3>

            <div class="interview-qa">
                <div class="question">Interview Question: "Describe your approach to testing applications on Azure"</div>
                <div class="answer">
                    <p><strong>Comprehensive Response:</strong></p>

                    <p><strong>1. Resource Validation:</strong></p>
                    <ul>
                        <li>Verify ARM template deployments</li>
                        <li>Validate App Service configurations</li>
                        <li>Check Azure AD integration</li>
                        <li>Confirm storage account settings</li>
                    </ul>

                    <p><strong>2. Azure-Specific Testing:</strong></p>
                    <ul>
                        <li>App Service deployment slots testing</li>
                        <li>Azure Functions trigger validation</li>
                        <li>Cosmos DB consistency and partitioning</li>
                        <li>Azure Service Bus message handling</li>
                    </ul>

                    <p><strong>3. Monitoring Verification:</strong></p>
                    <ul>
                        <li>Application Insights telemetry</li>
                        <li>Azure Monitor alerts</li>
                        <li>Log Analytics queries</li>
                        <li>Distributed tracing validation</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// AZURE APP SERVICE DEPLOYMENT TESTING
// ============================================</span>

<span class="keyword">package</span> com.sdet.tests.cloud.azure;

<span class="keyword">import</span> com.azure.resourcemanager.AzureResourceManager;
<span class="keyword">import</span> com.azure.resourcemanager.appservice.models.*;
<span class="keyword">import</span> org.junit.jupiter.api.*;

<span class="keyword">public class</span> <span class="function">AzureAppServiceTest</span> {

    <span class="keyword">private</span> AzureResourceManager azure;
    <span class="keyword">private static final</span> String RESOURCE_GROUP = <span class="string">"production-rg"</span>;
    <span class="keyword">private static final</span> String APP_NAME = <span class="string">"order-service-prod"</span>;

    @Test
    @DisplayName(<span class="string">"Verify Deployment Slot Configuration"</span>)
    <span class="keyword">void</span> <span class="function">testDeploymentSlots</span>() {
        WebApp webApp = azure.webApps()
            .getByResourceGroup(RESOURCE_GROUP, APP_NAME);

        <span class="comment">// Verify staging slot exists</span>
        DeploymentSlot stagingSlot = webApp.deploymentSlots().getByName(<span class="string">"staging"</span>);
        assertNotNull(stagingSlot, <span class="string">"Staging slot should exist"</span>);

        <span class="comment">// Verify slot swap settings</span>
        SlotSwapStatus swapStatus = stagingSlot.slotSwapStatus();
        assertNotNull(swapStatus, <span class="string">"Slot swap should be configured"</span>);

        <span class="comment">// Verify auto-swap is not enabled for production (manual approval required)</span>
        assertFalse(stagingSlot.autoSwapSlotName() != <span class="keyword">null</span>,
            <span class="string">"Auto-swap should not be enabled for safety"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Verify App Service Configuration"</span>)
    <span class="keyword">void</span> <span class="function">testAppServiceConfiguration</span>() {
        WebApp webApp = azure.webApps()
            .getByResourceGroup(RESOURCE_GROUP, APP_NAME);

        <span class="comment">// Verify HTTPS only</span>
        assertTrue(webApp.httpsOnly(), <span class="string">"HTTPS only should be enabled"</span>);

        <span class="comment">// Verify minimum TLS version</span>
        assertEquals(SupportedTlsVersions.ONE_2, webApp.minTlsVersion(),
            <span class="string">"Minimum TLS 1.2 should be required"</span>);

        <span class="comment">// Verify always-on is enabled for production</span>
        assertTrue(webApp.alwaysOn(), <span class="string">"Always On should be enabled"</span>);

        <span class="comment">// Verify managed identity is configured</span>
        assertNotNull(webApp.systemAssignedManagedServiceIdentityPrincipalId(),
            <span class="string">"Managed identity should be enabled"</span>);
    }

    @Test
    @DisplayName(<span class="string">"Test Blue-Green Deployment"</span>)
    <span class="keyword">void</span> <span class="function">testBlueGreenDeployment</span>() {
        WebApp webApp = azure.webApps()
            .getByResourceGroup(RESOURCE_GROUP, APP_NAME);

        DeploymentSlot stagingSlot = webApp.deploymentSlots().getByName(<span class="string">"staging"</span>);

        <span class="comment">// Deploy to staging and verify</span>
        String stagingUrl = <span class="string">"https://"</span> + stagingSlot.defaultHostname();

        HttpResponse stagingHealth = httpClient.send(
            HttpRequest.newBuilder()
                .uri(URI.create(stagingUrl + <span class="string">"/health"</span>))
                .GET()
                .build(),
            HttpResponse.BodyHandlers.ofString()
        );

        assertEquals(200, stagingHealth.statusCode(),
            <span class="string">"Staging should be healthy before swap"</span>);

        <span class="comment">// Perform slot swap</span>
        webApp.swap(<span class="string">"staging"</span>);

        <span class="comment">// Verify production is healthy after swap</span>
        String productionUrl = <span class="string">"https://"</span> + webApp.defaultHostname();

        HttpResponse productionHealth = httpClient.send(
            HttpRequest.newBuilder()
                .uri(URI.create(productionUrl + <span class="string">"/health"</span>))
                .GET()
                .build(),
            HttpResponse.BodyHandlers.ofString()
        );

        assertEquals(200, productionHealth.statusCode(),
            <span class="string">"Production should be healthy after swap"</span>);
    }
}
</pre>
            </div>

            <h3>5.3 Environment Validation Checklist</h3>

            <table>
                <tr>
                    <th>Category</th>
                    <th>AWS Service</th>
                    <th>Azure Service</th>
                    <th>Validation Points</th>
                </tr>
                <tr>
                    <td>Compute</td>
                    <td>ECS/EKS/Lambda</td>
                    <td>App Service/AKS/Functions</td>
                    <td>Health, scaling, resource limits</td>
                </tr>
                <tr>
                    <td>Database</td>
                    <td>RDS/DynamoDB</td>
                    <td>SQL DB/Cosmos DB</td>
                    <td>Availability, replication, backups</td>
                </tr>
                <tr>
                    <td>Storage</td>
                    <td>S3</td>
                    <td>Blob Storage</td>
                    <td>Permissions, encryption, versioning</td>
                </tr>
                <tr>
                    <td>Networking</td>
                    <td>ALB/CloudFront</td>
                    <td>App Gateway/Front Door</td>
                    <td>SSL, routing rules, WAF</td>
                </tr>
                <tr>
                    <td>Messaging</td>
                    <td>SQS/SNS/EventBridge</td>
                    <td>Service Bus/Event Grid</td>
                    <td>Queue depth, dead letters, subscriptions</td>
                </tr>
                <tr>
                    <td>Secrets</td>
                    <td>Secrets Manager/SSM</td>
                    <td>Key Vault</td>
                    <td>Access policies, rotation</td>
                </tr>
                <tr>
                    <td>Monitoring</td>
                    <td>CloudWatch/X-Ray</td>
                    <td>App Insights/Monitor</td>
                    <td>Metrics, logs, traces, alerts</td>
                </tr>
            </table>
        </section>

        <!-- SECTION 6: CI/CD & DevOps for SDETs -->
        <section id="section6">
            <h2>6. CI/CD & DevOps for SDETs</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ SDET CI/CD Responsibilities</h3>
                <p>Modern SDETs own test automation in CI/CD pipelines. This section covers pipeline integration, test execution strategies, and quality gates.</p>
            </div>

            <h3>6.1 Role of an SDET in Azure DevOps Pipelines</h3>

            <div class="interview-qa">
                <div class="question">Interview Question: "What is your role in the CI/CD pipeline as an SDET?"</div>
                <div class="answer">
                    <p><strong>Key Responsibilities:</strong></p>
                    <ul>
                        <li><strong>Pipeline Design:</strong> Define test stages, gates, and quality thresholds</li>
                        <li><strong>Test Integration:</strong> Integrate automation suites into build/deploy pipelines</li>
                        <li><strong>Environment Management:</strong> Configure test environments for different stages</li>
                        <li><strong>Reporting:</strong> Set up test reporting and failure analysis</li>
                        <li><strong>Quality Gates:</strong> Define and enforce pass/fail criteria</li>
                        <li><strong>Optimization:</strong> Improve test execution time and reliability</li>
                    </ul>
                </div>
            </div>

            <h4>6.1.1 Azure DevOps Pipeline Configuration</h4>

            <div class="code-block">
<pre>
<span class="comment"># azure-pipelines.yml - Complete CI/CD Pipeline with Testing</span>

trigger:
  branches:
    include:
      - main
      - develop
      - feature/*

pr:
  branches:
    include:
      - main
      - develop

variables:
  - group: production-secrets
  - name: buildConfiguration
    value: 'Release'
  - name: testResultsDirectory
    value: '$(Build.ArtifactStagingDirectory)/TestResults'

stages:
  <span class="comment"># Stage 1: Build and Unit Tests</span>
  - stage: Build
    displayName: 'Build and Unit Tests'
    jobs:
      - job: BuildJob
        pool:
          vmImage: 'ubuntu-latest'
        steps:
          - task: UseDotNet@2
            inputs:
              packageType: 'sdk'
              version: '8.0.x'

          - script: dotnet restore
            displayName: 'Restore dependencies'

          - script: dotnet build --configuration $(buildConfiguration)
            displayName: 'Build application'

          - script: dotnet test --configuration $(buildConfiguration) \
                    --logger trx \
                    --results-directory $(testResultsDirectory) \
                    --collect:"XPlat Code Coverage"
            displayName: 'Run Unit Tests'

          - task: PublishTestResults@2
            inputs:
              testResultsFormat: 'VSTest'
              testResultsFiles: '$(testResultsDirectory)/**/*.trx'
              failTaskOnFailedTests: true
            displayName: 'Publish Unit Test Results'

          - task: PublishCodeCoverageResults@1
            inputs:
              codeCoverageTool: 'Cobertura'
              summaryFileLocation: '$(testResultsDirectory)/**/coverage.cobertura.xml'
            displayName: 'Publish Code Coverage'

          <span class="comment"># Quality Gate: Code coverage threshold</span>
          - script: |
              coverage=$(cat $(testResultsDirectory)/**/coverage.cobertura.xml | grep -oP 'line-rate="\K[^"]+')
              if (( $(echo "$coverage < 0.80" | bc -l) )); then
                echo "Code coverage $coverage is below 80% threshold"
                exit 1
              fi
            displayName: 'Enforce Coverage Threshold'

  <span class="comment"># Stage 2: API Integration Tests</span>
  - stage: APITests
    displayName: 'API Integration Tests'
    dependsOn: Build
    condition: succeeded()
    jobs:
      - job: APITestJob
        pool:
          vmImage: 'ubuntu-latest'
        steps:
          - task: Docker@2
            inputs:
              command: 'compose'
              dockerComposeFile: 'docker-compose.test.yml'
              action: 'up'
              arguments: '-d'
            displayName: 'Start Test Environment'

          - script: |
              sleep 30  <span class="comment"># Wait for services to start</span>
              mvn test -Dtest=**/api/** \
                       -Denv=docker \
                       -Dmaven.test.failure.ignore=false
            displayName: 'Run API Tests'

          - task: PublishTestResults@2
            inputs:
              testResultsFormat: 'JUnit'
              testResultsFiles: '**/target/surefire-reports/*.xml'
              failTaskOnFailedTests: true
            displayName: 'Publish API Test Results'

          - task: Docker@2
            inputs:
              command: 'compose'
              dockerComposeFile: 'docker-compose.test.yml'
              action: 'down'
            displayName: 'Cleanup Test Environment'
            condition: always()

  <span class="comment"># Stage 3: Deploy to Staging</span>
  - stage: DeployStaging
    displayName: 'Deploy to Staging'
    dependsOn: APITests
    condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/main'))
    jobs:
      - deployment: DeployToStaging
        environment: 'staging'
        strategy:
          runOnce:
            deploy:
              steps:
                - task: AzureWebApp@1
                  inputs:
                    azureSubscription: 'Azure-Production'
                    appType: 'webApp'
                    appName: 'order-service-staging'
                    package: '$(Pipeline.Workspace)/**/*.zip'
                    deploymentMethod: 'auto'

  <span class="comment"># Stage 4: E2E Tests on Staging</span>
  - stage: E2ETests
    displayName: 'E2E Tests on Staging'
    dependsOn: DeployStaging
    jobs:
      - job: E2ETestJob
        pool:
          vmImage: 'ubuntu-latest'
        steps:
          - script: |
              npx playwright install --with-deps
            displayName: 'Install Playwright'

          - script: |
              npx playwright test \
                --config=playwright.staging.config.ts \
                --reporter=html,junit
            displayName: 'Run E2E Tests'
            env:
              BASE_URL: 'https://staging.example.com'
              TEST_USER: $(TEST_USER)
              TEST_PASSWORD: $(TEST_PASSWORD)

          - task: PublishTestResults@2
            inputs:
              testResultsFormat: 'JUnit'
              testResultsFiles: '**/results.xml'
              failTaskOnFailedTests: true
            displayName: 'Publish E2E Test Results'

          - publish: playwright-report
            artifact: playwright-report
            condition: always()
            displayName: 'Publish Playwright Report'

  <span class="comment"># Stage 5: Performance Tests</span>
  - stage: PerformanceTests
    displayName: 'Performance Tests'
    dependsOn: E2ETests
    jobs:
      - job: LoadTestJob
        pool:
          vmImage: 'ubuntu-latest'
        steps:
          - script: |
              jmeter -n -t load-test.jmx \
                     -l results.jtl \
                     -Jthreads=100 \
                     -Jrampup=60 \
                     -Jduration=300 \
                     -Jtarget_host=staging.example.com
            displayName: 'Run JMeter Load Test'

          - script: |
              <span class="comment"># Parse results and check thresholds</span>
              python scripts/analyze_performance.py results.jtl \
                     --max-response-time 2000 \
                     --max-error-rate 1 \
                     --min-throughput 100
            displayName: 'Analyze Performance Results'

  <span class="comment"># Stage 6: Deploy to Production</span>
  - stage: DeployProduction
    displayName: 'Deploy to Production'
    dependsOn: PerformanceTests
    condition: succeeded()
    jobs:
      - deployment: DeployToProduction
        environment: 'production'
        strategy:
          runOnce:
            deploy:
              steps:
                - task: AzureWebApp@1
                  inputs:
                    azureSubscription: 'Azure-Production'
                    appType: 'webApp'
                    appName: 'order-service-prod'
                    deployToSlotOrASE: true
                    slotName: 'staging'
                    package: '$(Pipeline.Workspace)/**/*.zip'

                <span class="comment"># Swap slots for zero-downtime deployment</span>
                - task: AzureAppServiceManage@0
                  inputs:
                    azureSubscription: 'Azure-Production'
                    action: 'Swap Slots'
                    webAppName: 'order-service-prod'
                    sourceSlot: 'staging'
                    targetSlot: 'production'

  <span class="comment"># Stage 7: Smoke Tests on Production</span>
  - stage: SmokeTests
    displayName: 'Production Smoke Tests'
    dependsOn: DeployProduction
    jobs:
      - job: SmokeTestJob
        pool:
          vmImage: 'ubuntu-latest'
        steps:
          - script: |
              npx playwright test \
                --config=playwright.prod.config.ts \
                --grep "@smoke" \
                --reporter=junit
            displayName: 'Run Smoke Tests'
            env:
              BASE_URL: 'https://www.example.com'

          - task: PublishTestResults@2
            inputs:
              testResultsFormat: 'JUnit'
              testResultsFiles: '**/results.xml'
            displayName: 'Publish Smoke Test Results'

          <span class="comment"># Rollback if smoke tests fail</span>
          - script: |
              echo "Smoke tests failed! Initiating rollback..."
              az webapp deployment slot swap \
                --resource-group production-rg \
                --name order-service-prod \
                --slot staging \
                --target-slot production
            displayName: 'Rollback on Failure'
            condition: failed()
</pre>
            </div>

            <h3>6.2 Test Execution Strategies</h3>

            <h4>6.2.1 Parallel Test Execution</h4>

            <div class="code-block">
<pre>
<span class="comment">// TestNG parallel execution configuration</span>
<span class="comment">// testng.xml</span>

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd"&gt;
&lt;suite name="Regression Suite" parallel="classes" thread-count="10"&gt;

    &lt;parameter name="browser" value="chrome"/&gt;
    &lt;parameter name="environment" value="staging"/&gt;

    &lt;test name="API Tests"&gt;
        &lt;classes&gt;
            &lt;class name="com.sdet.tests.api.UserApiTest"/&gt;
            &lt;class name="com.sdet.tests.api.OrderApiTest"/&gt;
            &lt;class name="com.sdet.tests.api.ProductApiTest"/&gt;
        &lt;/classes&gt;
    &lt;/test&gt;

    &lt;test name="UI Tests" parallel="methods" thread-count="5"&gt;
        &lt;classes&gt;
            &lt;class name="com.sdet.tests.ui.LoginTest"/&gt;
            &lt;class name="com.sdet.tests.ui.CheckoutTest"/&gt;
            &lt;class name="com.sdet.tests.ui.SearchTest"/&gt;
        &lt;/classes&gt;
    &lt;/test&gt;

&lt;/suite&gt;
</pre>
            </div>

            <h4>6.2.2 Test Sharding for Large Test Suites</h4>

            <div class="code-block">
<pre>
<span class="comment"># GitHub Actions matrix strategy for test sharding</span>

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        shard: [1, 2, 3, 4]
      fail-fast: false

    steps:
      - uses: actions/checkout@v3

      - name: Run Tests (Shard ${{ matrix.shard }})
        run: |
          npx playwright test \
            --shard=${{ matrix.shard }}/4 \
            --reporter=blob

      - name: Upload Test Results
        uses: actions/upload-artifact@v3
        with:
          name: test-results-${{ matrix.shard }}
          path: blob-report/

  merge-reports:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - name: Download All Results
        uses: actions/download-artifact@v3
        with:
          pattern: test-results-*
          path: all-reports/

      - name: Merge Reports
        run: npx playwright merge-reports all-reports --reporter=html

      - name: Upload Final Report
        uses: actions/upload-artifact@v3
        with:
          name: final-report
          path: playwright-report/
</pre>
            </div>

            <h3>6.3 Quality Gates and Reporting</h3>

            <div class="interview-qa">
                <div class="question">Interview Question: "How do you define quality gates in your CI/CD pipeline?"</div>
                <div class="answer">
                    <p><strong>Quality Gate Definition:</strong></p>

                    <table>
                        <tr>
                            <th>Gate</th>
                            <th>Metric</th>
                            <th>Threshold</th>
                            <th>Action on Failure</th>
                        </tr>
                        <tr>
                            <td>Unit Tests</td>
                            <td>Pass Rate</td>
                            <td>100%</td>
                            <td>Block build</td>
                        </tr>
                        <tr>
                            <td>Code Coverage</td>
                            <td>Line Coverage</td>
                            <td>â‰¥ 80%</td>
                            <td>Block build</td>
                        </tr>
                        <tr>
                            <td>API Tests</td>
                            <td>Pass Rate</td>
                            <td>100%</td>
                            <td>Block deployment</td>
                        </tr>
                        <tr>
                            <td>E2E Tests</td>
                            <td>Pass Rate</td>
                            <td>â‰¥ 95%</td>
                            <td>Block deployment</td>
                        </tr>
                        <tr>
                            <td>Performance</td>
                            <td>P95 Response Time</td>
                            <td>&lt; 2 seconds</td>
                            <td>Warning/Block</td>
                        </tr>
                        <tr>
                            <td>Performance</td>
                            <td>Error Rate</td>
                            <td>&lt; 1%</td>
                            <td>Block deployment</td>
                        </tr>
                        <tr>
                            <td>Security</td>
                            <td>Critical Vulnerabilities</td>
                            <td>0</td>
                            <td>Block deployment</td>
                        </tr>
                    </table>
                </div>
            </div>

            <h3>6.4 Handling Flaky Tests</h3>

            <div class="interview-qa">
                <div class="question">Interview Question: "How do you handle flaky tests in CI/CD?"</div>
                <div class="answer">
                    <p><strong>Strategies for Flaky Test Management:</strong></p>

                    <p><strong>1. Identification:</strong></p>
                    <ul>
                        <li>Track test pass/fail history over time</li>
                        <li>Flag tests that pass on retry</li>
                        <li>Monitor tests that fail inconsistently</li>
                    </ul>

                    <p><strong>2. Immediate Mitigation:</strong></p>
                    <ul>
                        <li>Implement automatic retry with exponential backoff</li>
                        <li>Quarantine flaky tests temporarily</li>
                        <li>Run flaky tests in isolation</li>
                    </ul>

                    <p><strong>3. Root Cause Analysis:</strong></p>
                    <ul>
                        <li>Timing issues â†’ Add proper waits</li>
                        <li>Test data conflicts â†’ Use unique test data</li>
                        <li>Environment issues â†’ Improve isolation</li>
                        <li>Order dependency â†’ Make tests independent</li>
                    </ul>

                    <p><strong>4. Long-term Prevention:</strong></p>
                    <ul>
                        <li>Use explicit waits instead of sleep</li>
                        <li>Create unique test data per test</li>
                        <li>Clean up test data after each test</li>
                        <li>Run tests in isolated browser contexts</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// Flaky Test Retry Configuration - Playwright</span>

<span class="comment">// playwright.config.ts</span>
<span class="keyword">import</span> { defineConfig } <span class="keyword">from</span> <span class="string">'@playwright/test'</span>;

<span class="keyword">export default</span> defineConfig({
    retries: process.env.CI ? 2 : 0,  <span class="comment">// Retry failed tests in CI</span>

    reporter: [
        [<span class="string">'html'</span>, { outputFolder: <span class="string">'playwright-report'</span> }],
        [<span class="string">'junit'</span>, { outputFile: <span class="string">'results.xml'</span> }],
        [<span class="string">'./flaky-reporter.ts'</span>]  <span class="comment">// Custom reporter for flaky detection</span>
    ],

    use: {
        trace: <span class="string">'on-first-retry'</span>,  <span class="comment">// Capture trace on retry</span>
        screenshot: <span class="string">'only-on-failure'</span>,
        video: <span class="string">'on-first-retry'</span>,
    },
});

<span class="comment">// flaky-reporter.ts - Custom flaky test reporter</span>
<span class="keyword">import</span> { Reporter, TestCase, TestResult } <span class="keyword">from</span> <span class="string">'@playwright/test/reporter'</span>;

<span class="keyword">class</span> <span class="function">FlakyReporter</span> <span class="keyword">implements</span> Reporter {
    <span class="keyword">private</span> flakyTests: Map<string, <span class="keyword">number</span>> = <span class="keyword">new</span> Map();

    onTestEnd(test: TestCase, result: TestResult) {
        <span class="keyword">if</span> (result.retry > 0 && result.status === <span class="string">'passed'</span>) {
            <span class="comment">// Test passed on retry = flaky</span>
            <span class="keyword">const</span> testId = `${test.parent.title}:${test.title}`;
            <span class="keyword">this</span>.flakyTests.set(testId, result.retry);
            console.warn(`âš ï¸ FLAKY TEST: ${testId} passed on retry ${result.retry}`);
        }
    }

    onEnd() {
        <span class="keyword">if</span> (<span class="keyword">this</span>.flakyTests.size > 0) {
            console.log(<span class="string">'\nğŸ“Š Flaky Test Report:'</span>);
            <span class="keyword">for</span> (<span class="keyword">const</span> [test, retries] <span class="keyword">of</span> <span class="keyword">this</span>.flakyTests) {
                console.log(`  - ${test} (required ${retries} retries)`);
            }

            <span class="comment">// Report to tracking system</span>
            <span class="keyword">this</span>.reportFlakyTests();
        }
    }

    <span class="keyword">private</span> <span class="function">reportFlakyTests</span>() {
        <span class="comment">// Send to test analytics dashboard</span>
        fetch(<span class="string">'https://analytics.example.com/flaky-tests'</span>, {
            method: <span class="string">'POST'</span>,
            body: JSON.stringify({
                build: process.env.BUILD_ID,
                flakyTests: Array.from(<span class="keyword">this</span>.flakyTests.entries())
            })
        });
    }
}

<span class="keyword">export default</span> FlakyReporter;
</pre>
            </div>
        </section>

        <!-- SECTION 7: Behavioral Interview Preparation -->
        <section id="section7">
            <h2>7. Behavioral Interview Preparation (STAR Format)</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Behavioral Interview Focus</h3>
                <p>SDET behavioral questions assess your problem-solving, collaboration, and quality mindset. Use the STAR format (Situation, Task, Action, Result) to structure your responses.</p>
            </div>

            <h3>7.1 Common SDET Behavioral Questions</h3>

            <h4>7.1.1 Handling Production Defects</h4>

            <div class="interview-qa">
                <div class="question">Question: "Tell me about a time when a critical bug escaped to production. How did you handle it?"</div>
                <div class="answer">
                    <div class="star-format">
                        <h5>Situation</h5>
                        <p>"At my previous company, we had a payment processing feature that worked perfectly in staging but failed for a specific edge case in production. Customers with multi-currency accounts couldn't complete transactions after a currency conversion update."</p>

                        <h5>Task</h5>
                        <p>"As the SDET responsible for the payments module, I needed to quickly identify the root cause, help fix the issue, and ensure it wouldn't happen again."</p>

                        <h5>Action</h5>
                        <ul>
                            <li>Immediately pulled production logs and identified the error pattern</li>
                            <li>Created a reproducible test case that exposed the bug</li>
                            <li>Worked with developers to identify the fix (currency precision issue)</li>
                            <li>Added the failing test case to our regression suite before the fix was deployed</li>
                            <li>Conducted a post-mortem to identify why our testing missed this</li>
                            <li>Discovered our test data didn't include multi-currency scenarios</li>
                            <li>Created a comprehensive test data strategy including edge cases</li>
                        </ul>

                        <h5>Result</h5>
                        <ul>
                            <li>Bug was fixed and deployed within 4 hours</li>
                            <li>Added 15 new multi-currency test cases to our suite</li>
                            <li>Implemented production data sampling for test scenarios</li>
                            <li>No similar issues occurred in the following year</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h4>7.1.2 Collaboration with Developers</h4>

            <div class="interview-qa">
                <div class="question">Question: "Describe a situation where you had to push back on a developer's approach due to quality concerns."</div>
                <div class="answer">
                    <div class="star-format">
                        <h5>Situation</h5>
                        <p>"A senior developer proposed skipping integration tests for a 'simple' API change to meet a deadline. The change modified our authentication flow, and they argued unit tests were sufficient."</p>

                        <h5>Task</h5>
                        <p>"I needed to advocate for proper testing while respecting the deadline pressure and maintaining a collaborative relationship with the developer."</p>

                        <h5>Action</h5>
                        <ul>
                            <li>Asked questions to understand the full scope of changes</li>
                            <li>Identified that the change touched multiple services</li>
                            <li>Proposed a compromise: run a focused subset of integration tests</li>
                            <li>Created a quick risk analysis document showing previous auth-related bugs</li>
                            <li>Offered to pair on selecting the most critical test cases</li>
                            <li>Automated the test execution to minimize time impact</li>
                        </ul>

                        <h5>Result</h5>
                        <ul>
                            <li>Ran 50 critical integration tests (instead of full 500)</li>
                            <li>Found 2 integration issues that unit tests missed</li>
                            <li>Met the deadline with high confidence</li>
                            <li>Developer later thanked me for catching issues early</li>
                            <li>Established a "critical path" test suite for time-sensitive releases</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h4>7.1.3 Improving Test Coverage</h4>

            <div class="interview-qa">
                <div class="question">Question: "How did you improve test coverage in your previous role?"</div>
                <div class="answer">
                    <div class="star-format">
                        <h5>Situation</h5>
                        <p>"When I joined the team, the automation suite had only 40% code coverage and was taking 3 hours to run. The team had lost confidence in the tests and often skipped them."</p>

                        <h5>Task</h5>
                        <p>"My goal was to increase meaningful test coverage to 80% and reduce execution time to under 30 minutes, while ensuring tests were reliable and valuable."</p>

                        <h5>Action</h5>
                        <ul>
                            <li>Analyzed existing tests to identify gaps and redundancies</li>
                            <li>Removed 30% of tests that were duplicates or testing implementation details</li>
                            <li>Created a testing pyramid strategy: 70% unit, 20% integration, 10% E2E</li>
                            <li>Implemented parallel test execution</li>
                            <li>Added coverage requirements to PR checklist</li>
                            <li>Created a "coverage gap" report for each sprint</li>
                            <li>Worked with developers to add tests for critical business logic</li>
                        </ul>

                        <h5>Result</h5>
                        <ul>
                            <li>Achieved 82% code coverage in 6 months</li>
                            <li>Reduced test execution time from 3 hours to 25 minutes</li>
                            <li>Test reliability improved from 85% to 99%</li>
                            <li>Production bug rate decreased by 45%</li>
                            <li>Team confidence in tests increased significantly</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h4>7.1.4 Dealing with Flaky Tests</h4>

            <div class="interview-qa">
                <div class="question">Question: "Tell me about a time you dealt with flaky tests that were blocking releases."</div>
                <div class="answer">
                    <div class="star-format">
                        <h5>Situation</h5>
                        <p>"Our nightly regression suite had a 70% success rate due to flaky tests. The team was ignoring failures, assuming they were all false positives, which masked real bugs."</p>

                        <h5>Task</h5>
                        <p>"I needed to restore confidence in our test suite by addressing flakiness while ensuring we didn't miss real issues."</p>

                        <h5>Action</h5>
                        <ul>
                            <li>Created a flaky test tracking dashboard</li>
                            <li>Implemented automatic retry with detailed logging</li>
                            <li>Quarantined consistently flaky tests (ran separately)</li>
                            <li>Analyzed root causes: 60% timing, 25% data, 15% environment</li>
                            <li>Fixed timing issues with explicit waits</li>
                            <li>Implemented test data factories for unique data</li>
                            <li>Added cleanup hooks to prevent data pollution</li>
                            <li>Created guidelines for writing stable tests</li>
                        </ul>

                        <h5>Result</h5>
                        <ul>
                            <li>Suite reliability improved from 70% to 98%</li>
                            <li>Quarantine reduced from 50 tests to 3</li>
                            <li>Team now investigates every failure</li>
                            <li>Caught 3 real bugs that were previously dismissed as flaky</li>
                            <li>Reduced release delays by 40%</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h4>7.1.5 Working Under Tight Deadlines</h4>

            <div class="interview-qa">
                <div class="question">Question: "Describe a time when you had to test a feature with minimal time."</div>
                <div class="answer">
                    <div class="star-format">
                        <h5>Situation</h5>
                        <p>"We had a critical security patch that needed to be released within 24 hours. The patch touched authentication and session management, affecting multiple features."</p>

                        <h5>Task</h5>
                        <p>"I had to create a comprehensive test plan and execute it within hours while ensuring we didn't introduce regressions."</p>

                        <h5>Action</h5>
                        <ul>
                            <li>Immediately identified the highest-risk areas</li>
                            <li>Created a prioritized test list based on impact analysis</li>
                            <li>Wrote 5 new test cases for the specific security fix</li>
                            <li>Selected 30 existing regression tests for affected areas</li>
                            <li>Ran tests in parallel across multiple environments</li>
                            <li>Documented manual testing for areas without automation</li>
                            <li>Coordinated with support team for immediate monitoring post-release</li>
                        </ul>

                        <h5>Result</h5>
                        <ul>
                            <li>Completed testing in 8 hours</li>
                            <li>Found and fixed 1 regression before release</li>
                            <li>Patch released successfully with no customer impact</li>
                            <li>Created a "rapid response" testing template for future emergencies</li>
                            <li>Documented lessons learned for the team</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>7.2 SDET-Specific Behavioral Themes</h3>

            <table>
                <tr>
                    <th>Theme</th>
                    <th>Sample Questions</th>
                    <th>What They're Looking For</th>
                </tr>
                <tr>
                    <td>Quality Mindset</td>
                    <td>How do you ensure quality in tight deadlines?</td>
                    <td>Risk-based testing, prioritization</td>
                </tr>
                <tr>
                    <td>Technical Leadership</td>
                    <td>How did you drive automation adoption?</td>
                    <td>Influence, change management</td>
                </tr>
                <tr>
                    <td>Problem Solving</td>
                    <td>Most challenging bug you've found?</td>
                    <td>Analytical thinking, persistence</td>
                </tr>
                <tr>
                    <td>Collaboration</td>
                    <td>How do you work with developers?</td>
                    <td>Communication, relationship building</td>
                </tr>
                <tr>
                    <td>Continuous Improvement</td>
                    <td>How did you improve test processes?</td>
                    <td>Innovation, metrics-driven approach</td>
                </tr>
                <tr>
                    <td>Ownership</td>
                    <td>Production issue you investigated?</td>
                    <td>Accountability, end-to-end thinking</td>
                </tr>
            </table>

            <h3>7.3 Questions to Ask Interviewers</h3>

            <div class="tip-box">
                <h4>ğŸ’¡ Smart Questions for SDET Interviews</h4>
                <ul>
                    <li>"What is the current test automation strategy, and what are the main challenges?"</li>
                    <li>"How does the QA/SDET team collaborate with developers during sprints?"</li>
                    <li>"What is the ratio of manual to automated testing?"</li>
                    <li>"What CI/CD tools are you using, and how are tests integrated?"</li>
                    <li>"How do you handle flaky tests and test maintenance?"</li>
                    <li>"What's the biggest quality challenge the team is facing?"</li>
                    <li>"How are test environments managed and provisioned?"</li>
                    <li>"What does the career growth path look like for SDETs here?"</li>
                </ul>
            </div>
        </section>

        <!-- SECTION 8: Gap Analysis & Improvement Plan -->
        <section id="section8">
            <h2>8. Gap Analysis & Improvement Plan</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Strategic Preparation</h3>
                <p>Identify your weak areas and create a focused preparation plan to address them before interviews.</p>
            </div>

            <h3>8.1 Common Skill Gaps for SDET Candidates</h3>

            <table>
                <tr>
                    <th>Skill Area</th>
                    <th>Common Gaps</th>
                    <th>Priority</th>
                    <th>Time to Learn</th>
                </tr>
                <tr>
                    <td>UI Automation</td>
                    <td>Page Object patterns, async handling</td>
                    <td><span class="match-strong">HIGH</span></td>
                    <td>1-2 weeks</td>
                </tr>
                <tr>
                    <td>API Testing</td>
                    <td>REST/GraphQL testing, schema validation</td>
                    <td><span class="match-strong">HIGH</span></td>
                    <td>1 week</td>
                </tr>
                <tr>
                    <td>CI/CD</td>
                    <td>Pipeline configuration, quality gates</td>
                    <td><span class="match-strong">HIGH</span></td>
                    <td>1 week</td>
                </tr>
                <tr>
                    <td>SQL</td>
                    <td>Window functions, complex queries</td>
                    <td><span class="match-partial">MEDIUM</span></td>
                    <td>1-2 weeks</td>
                </tr>
                <tr>
                    <td>Performance Testing</td>
                    <td>JMeter, Gatling, results analysis</td>
                    <td><span class="match-partial">MEDIUM</span></td>
                    <td>1-2 weeks</td>
                </tr>
                <tr>
                    <td>Cloud Testing</td>
                    <td>AWS/Azure service testing</td>
                    <td><span class="match-partial">MEDIUM</span></td>
                    <td>2-3 weeks</td>
                </tr>
                <tr>
                    <td>Mobile Testing</td>
                    <td>Appium, mobile-specific strategies</td>
                    <td><span class="match-gap">VARIES</span></td>
                    <td>2-3 weeks</td>
                </tr>
            </table>

            <h3>8.2 30-60 Day Preparation Plan</h3>

            <h4>Week 1-2: Foundation</h4>
            <div class="timeline">
                <div class="timeline-item">
                    <h5>Days 1-3: Review Testing Fundamentals</h5>
                    <ul>
                        <li>Testing pyramid concepts</li>
                        <li>Test design techniques (BVA, EP, Decision tables)</li>
                        <li>Test automation principles</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <h5>Days 4-7: Strengthen UI Automation</h5>
                    <ul>
                        <li>Build a complete Playwright/Selenium framework</li>
                        <li>Implement Page Object Model</li>
                        <li>Practice parallel execution</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <h5>Days 8-14: API Testing Deep Dive</h5>
                    <ul>
                        <li>Master RestAssured or equivalent</li>
                        <li>Contract testing with Pact</li>
                        <li>GraphQL testing</li>
                    </ul>
                </div>
            </div>

            <h4>Week 3-4: Advanced Skills</h4>
            <div class="timeline">
                <div class="timeline-item">
                    <h5>Days 15-21: CI/CD and DevOps</h5>
                    <ul>
                        <li>Set up GitHub Actions/Azure DevOps pipeline</li>
                        <li>Integrate test suites</li>
                        <li>Configure quality gates</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <h5>Days 22-28: SQL and Database Testing</h5>
                    <ul>
                        <li>Practice complex queries daily</li>
                        <li>Window functions and CTEs</li>
                        <li>Data validation strategies</li>
                    </ul>
                </div>
            </div>

            <h4>Week 5-6: Specialization and Practice</h4>
            <div class="timeline">
                <div class="timeline-item">
                    <h5>Days 29-35: Cloud and Performance</h5>
                    <ul>
                        <li>AWS/Azure testing basics</li>
                        <li>JMeter or Gatling fundamentals</li>
                        <li>Performance analysis</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <h5>Days 36-45: Mock Interviews</h5>
                    <ul>
                        <li>Practice behavioral questions (STAR format)</li>
                        <li>Technical whiteboard sessions</li>
                        <li>Live coding exercises</li>
                    </ul>
                </div>
            </div>

            <h4>Week 7-8: Final Preparation</h4>
            <div class="timeline">
                <div class="timeline-item">
                    <h5>Days 46-52: Company-Specific Prep</h5>
                    <ul>
                        <li>Research target companies</li>
                        <li>Understand their tech stack</li>
                        <li>Prepare relevant examples</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <h5>Days 53-60: Final Review</h5>
                    <ul>
                        <li>Review all key concepts</li>
                        <li>Practice explaining your projects</li>
                        <li>Prepare questions to ask</li>
                    </ul>
                </div>
            </div>

            <h3>8.3 Daily Practice Routine</h3>

            <div class="tip-box">
                <h4>ğŸ’¡ Recommended Daily Schedule (2-3 hours)</h4>
                <ul>
                    <li><strong>30 mins:</strong> SQL practice (HackerRank, LeetCode)</li>
                    <li><strong>30 mins:</strong> Coding/automation practice</li>
                    <li><strong>30 mins:</strong> Read/watch SDET content</li>
                    <li><strong>30 mins:</strong> Practice explaining concepts out loud</li>
                    <li><strong>30 mins:</strong> Review behavioral questions</li>
                </ul>
            </div>
        </section>

        <!-- SECTION 9: Deep Dive Framework Design -->
        <section id="section9">
            <h2>9. Deep Dive: Framework Design</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Framework Architecture Mastery</h3>
                <p>Senior SDETs are expected to design and architect test frameworks. This section provides in-depth coverage of framework design patterns and best practices.</p>
            </div>

            <h3>9.1 Framework Design Principles</h3>

            <h4>9.1.1 Core Architecture Components</h4>

            <div class="framework-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ENTERPRISE TEST AUTOMATION FRAMEWORK                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         TEST LAYER                                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Unit Tests  â”‚  â”‚  API Tests   â”‚  â”‚  UI Tests    â”‚  â”‚ Perf Tests â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     BUSINESS LOGIC LAYER                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Page Objects /   â”‚  â”‚  API Service      â”‚  â”‚  Business Flow      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Screen Objects   â”‚  â”‚  Classes          â”‚  â”‚  Helpers            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        CORE FRAMEWORK LAYER                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Base       â”‚ â”‚  Waits &    â”‚ â”‚  Logging &  â”‚ â”‚  Configuration   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Classes    â”‚ â”‚  Retries    â”‚ â”‚  Reporting  â”‚ â”‚  Management      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                       DATA MANAGEMENT LAYER                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Test Data  â”‚ â”‚  Builders/  â”‚ â”‚  Database   â”‚ â”‚  External Data   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Factories  â”‚ â”‚  Fixtures   â”‚ â”‚  Utilities  â”‚ â”‚  Sources         â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        DRIVER/CLIENT LAYER                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Browser      â”‚ â”‚  HTTP         â”‚ â”‚  Database     â”‚ â”‚  Message    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Drivers      â”‚ â”‚  Clients      â”‚ â”‚  Connectors   â”‚ â”‚  Clients    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
            </div>

            <h4>9.1.2 Design Patterns for Test Automation</h4>

            <div class="interview-qa">
                <div class="question">Interview Question: "What design patterns do you use in test automation?"</div>
                <div class="answer">
                    <p><strong>Key Design Patterns:</strong></p>

                    <p><strong>1. Page Object Model (POM)</strong></p>
                    <ul>
                        <li>Separates page structure from test logic</li>
                        <li>Improves maintainability</li>
                        <li>Enables code reuse</li>
                    </ul>

                    <p><strong>2. Factory Pattern</strong></p>
                    <ul>
                        <li>Creates test data dynamically</li>
                        <li>Supports multiple data variations</li>
                        <li>Enables data-driven testing</li>
                    </ul>

                    <p><strong>3. Builder Pattern</strong></p>
                    <ul>
                        <li>Constructs complex test objects</li>
                        <li>Provides fluent interface</li>
                        <li>Improves readability</li>
                    </ul>

                    <p><strong>4. Singleton Pattern</strong></p>
                    <ul>
                        <li>Single browser instance management</li>
                        <li>Configuration handling</li>
                        <li>Database connection pooling</li>
                    </ul>

                    <p><strong>5. Strategy Pattern</strong></p>
                    <ul>
                        <li>Different test execution strategies</li>
                        <li>Multiple browser support</li>
                        <li>Environment-specific configurations</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// COMPLETE FRAMEWORK IMPLEMENTATION
// ============================================</span>

<span class="comment">// 1. Configuration Factory Pattern</span>
<span class="keyword">package</span> com.sdet.framework.config;

<span class="keyword">public interface</span> <span class="function">Environment</span> {
    String getBaseUrl();
    String getApiUrl();
    String getDbConnectionString();
    Map&lt;String, String&gt; getCredentials();
}

<span class="keyword">public class</span> <span class="function">EnvironmentFactory</span> {
    <span class="keyword">public static</span> Environment <span class="function">create</span>(String envName) {
        <span class="keyword">return switch</span> (envName.toLowerCase()) {
            <span class="keyword">case</span> <span class="string">"dev"</span> -&gt; <span class="keyword">new</span> DevEnvironment();
            <span class="keyword">case</span> <span class="string">"staging"</span> -&gt; <span class="keyword">new</span> StagingEnvironment();
            <span class="keyword">case</span> <span class="string">"production"</span> -&gt; <span class="keyword">new</span> ProductionEnvironment();
            <span class="keyword">default</span> -&gt; <span class="keyword">throw new</span> IllegalArgumentException(<span class="string">"Unknown environment: "</span> + envName);
        };
    }
}

<span class="keyword">public class</span> <span class="function">StagingEnvironment</span> <span class="keyword">implements</span> Environment {
    @Override
    <span class="keyword">public</span> String <span class="function">getBaseUrl</span>() {
        <span class="keyword">return</span> <span class="string">"https://staging.example.com"</span>;
    }

    @Override
    <span class="keyword">public</span> String <span class="function">getApiUrl</span>() {
        <span class="keyword">return</span> <span class="string">"https://api.staging.example.com"</span>;
    }

    @Override
    <span class="keyword">public</span> String <span class="function">getDbConnectionString</span>() {
        <span class="keyword">return</span> <span class="string">"jdbc:postgresql://staging-db:5432/app"</span>;
    }

    @Override
    <span class="keyword">public</span> Map&lt;String, String&gt; <span class="function">getCredentials</span>() {
        <span class="keyword">return</span> Map.of(
            <span class="string">"admin"</span>, System.getenv(<span class="string">"STAGING_ADMIN_PASSWORD"</span>),
            <span class="string">"user"</span>, System.getenv(<span class="string">"STAGING_USER_PASSWORD"</span>)
        );
    }
}

<span class="comment">// 2. Advanced Page Object with Composition</span>
<span class="keyword">public class</span> <span class="function">DashboardPage</span> <span class="keyword">extends</span> BasePage {
    <span class="comment">// Composed components</span>
    <span class="keyword">private final</span> NavigationComponent navigation;
    <span class="keyword">private final</span> SidebarComponent sidebar;
    <span class="keyword">private final</span> NotificationComponent notifications;

    <span class="comment">// Page-specific selectors</span>
    <span class="keyword">private static final</span> String WELCOME_MESSAGE = <span class="string">"[data-testid='welcome-message']"</span>;
    <span class="keyword">private static final</span> String STATS_CARDS = <span class="string">"[data-testid='stat-card']"</span>;
    <span class="keyword">private static final</span> String QUICK_ACTIONS = <span class="string">"[data-testid='quick-action']"</span>;

    <span class="keyword">public</span> <span class="function">DashboardPage</span>(Page page) {
        <span class="keyword">super</span>(page);
        <span class="keyword">this</span>.navigation = <span class="keyword">new</span> NavigationComponent(page);
        <span class="keyword">this</span>.sidebar = <span class="keyword">new</span> SidebarComponent(page);
        <span class="keyword">this</span>.notifications = <span class="keyword">new</span> NotificationComponent(page);
    }

    <span class="comment">// Fluent interface for actions</span>
    <span class="keyword">public</span> DashboardPage <span class="function">waitForLoad</span>() {
        waitUtils.waitForVisible(WELCOME_MESSAGE);
        waitUtils.waitForNetworkIdle();
        <span class="keyword">return this</span>;
    }

    <span class="keyword">public</span> String <span class="function">getWelcomeMessage</span>() {
        <span class="keyword">return</span> getText(WELCOME_MESSAGE);
    }

    <span class="keyword">public</span> List&lt;StatCard&gt; <span class="function">getStatCards</span>() {
        <span class="keyword">return</span> page.locator(STATS_CARDS).all().stream()
            .map(locator -&gt; <span class="keyword">new</span> StatCard(
                locator.locator(<span class="string">"[data-testid='stat-title']"</span>).textContent(),
                locator.locator(<span class="string">"[data-testid='stat-value']"</span>).textContent()
            ))
            .collect(Collectors.toList());
    }

    <span class="comment">// Navigation methods returning new page objects</span>
    <span class="keyword">public</span> OrdersPage <span class="function">navigateToOrders</span>() {
        sidebar.clickMenuItem(<span class="string">"Orders"</span>);
        <span class="keyword">return new</span> OrdersPage(page);
    }

    <span class="keyword">public</span> ProductsPage <span class="function">navigateToProducts</span>() {
        sidebar.clickMenuItem(<span class="string">"Products"</span>);
        <span class="keyword">return new</span> ProductsPage(page);
    }

    <span class="comment">// Component delegation</span>
    <span class="keyword">public</span> NavigationComponent <span class="function">navigation</span>() {
        <span class="keyword">return</span> navigation;
    }

    <span class="keyword">public</span> NotificationComponent <span class="function">notifications</span>() {
        <span class="keyword">return</span> notifications;
    }

    @Override
    <span class="keyword">public boolean</span> <span class="function">isLoaded</span>() {
        <span class="keyword">return</span> isVisible(WELCOME_MESSAGE) &amp;&amp;
               page.locator(STATS_CARDS).count() &gt; 0;
    }

    @Override
    <span class="keyword">public</span> String <span class="function">getPageTitle</span>() {
        <span class="keyword">return</span> <span class="string">"Dashboard"</span>;
    }
}

<span class="comment">// 3. Reusable Component Pattern</span>
<span class="keyword">public class</span> <span class="function">DataTableComponent</span> {
    <span class="keyword">private final</span> Page page;
    <span class="keyword">private final</span> String tableSelector;

    <span class="keyword">public</span> <span class="function">DataTableComponent</span>(Page page, String tableSelector) {
        <span class="keyword">this</span>.page = page;
        <span class="keyword">this</span>.tableSelector = tableSelector;
    }

    <span class="keyword">public int</span> <span class="function">getRowCount</span>() {
        <span class="keyword">return</span> page.locator(tableSelector + <span class="string">" tbody tr"</span>).count();
    }

    <span class="keyword">public</span> List&lt;String&gt; <span class="function">getColumnValues</span>(String columnName) {
        <span class="keyword">int</span> columnIndex = getColumnIndex(columnName);
        <span class="keyword">return</span> page.locator(tableSelector + <span class="string">" tbody tr td:nth-child("</span> + columnIndex + <span class="string">")"</span>)
            .allTextContents();
    }

    <span class="keyword">public void</span> <span class="function">sortByColumn</span>(String columnName) {
        page.click(tableSelector + <span class="string">" th:has-text('"</span> + columnName + <span class="string">"')"</span>);
    }

    <span class="keyword">public void</span> <span class="function">filterByValue</span>(String columnName, String value) {
        <span class="keyword">int</span> columnIndex = getColumnIndex(columnName);
        page.fill(tableSelector + <span class="string">" thead tr.filter-row td:nth-child("</span> + columnIndex + <span class="string">") input"</span>, value);
        page.keyboard().press(<span class="string">"Enter"</span>);
    }

    <span class="keyword">public</span> Map&lt;String, String&gt; <span class="function">getRowData</span>(<span class="keyword">int</span> rowIndex) {
        List&lt;String&gt; headers = getHeaders();
        Locator row = page.locator(tableSelector + <span class="string">" tbody tr"</span>).nth(rowIndex);
        List&lt;String&gt; values = row.locator(<span class="string">"td"</span>).allTextContents();

        Map&lt;String, String&gt; rowData = <span class="keyword">new</span> HashMap&lt;&gt;();
        <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; headers.size() &amp;&amp; i &lt; values.size(); i++) {
            rowData.put(headers.get(i), values.get(i));
        }
        <span class="keyword">return</span> rowData;
    }

    <span class="keyword">public void</span> <span class="function">clickRowAction</span>(<span class="keyword">int</span> rowIndex, String actionName) {
        Locator row = page.locator(tableSelector + <span class="string">" tbody tr"</span>).nth(rowIndex);
        row.locator(<span class="string">"[data-action='"</span> + actionName + <span class="string">"']"</span>).click();
    }

    <span class="keyword">private</span> List&lt;String&gt; <span class="function">getHeaders</span>() {
        <span class="keyword">return</span> page.locator(tableSelector + <span class="string">" thead th"</span>).allTextContents();
    }

    <span class="keyword">private int</span> <span class="function">getColumnIndex</span>(String columnName) {
        List&lt;String&gt; headers = getHeaders();
        <span class="keyword">int</span> index = headers.indexOf(columnName);
        <span class="keyword">if</span> (index == -1) {
            <span class="keyword">throw new</span> IllegalArgumentException(<span class="string">"Column not found: "</span> + columnName);
        }
        <span class="keyword">return</span> index + 1; <span class="comment">// CSS nth-child is 1-based</span>
    }
}

<span class="comment">// 4. Test Data Factory with Builder</span>
<span class="keyword">public class</span> <span class="function">OrderTestDataFactory</span> {
    <span class="keyword">private static final</span> Faker faker = <span class="keyword">new</span> Faker();

    <span class="keyword">public static</span> OrderBuilder <span class="function">anOrder</span>() {
        <span class="keyword">return new</span> OrderBuilder();
    }

    <span class="keyword">public static class</span> <span class="function">OrderBuilder</span> {
        <span class="keyword">private</span> Order order = <span class="keyword">new</span> Order();

        <span class="keyword">public</span> <span class="function">OrderBuilder</span>() {
            <span class="comment">// Set defaults</span>
            order.setId(<span class="string">"ORD-"</span> + UUID.randomUUID().toString().substring(0, 8));
            order.setStatus(<span class="string">"PENDING"</span>);
            order.setCreatedAt(Instant.now());
        }

        <span class="keyword">public</span> OrderBuilder <span class="function">withCustomer</span>(Customer customer) {
            order.setCustomer(customer);
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> OrderBuilder <span class="function">withRandomCustomer</span>() {
            Customer customer = <span class="keyword">new</span> Customer();
            customer.setId(<span class="string">"CUST-"</span> + faker.number().digits(6));
            customer.setName(faker.name().fullName());
            customer.setEmail(faker.internet().emailAddress());
            order.setCustomer(customer);
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> OrderBuilder <span class="function">withItem</span>(String productId, <span class="keyword">int</span> quantity, <span class="keyword">double</span> price) {
            <span class="keyword">if</span> (order.getItems() == <span class="keyword">null</span>) {
                order.setItems(<span class="keyword">new</span> ArrayList&lt;&gt;());
            }
            OrderItem item = <span class="keyword">new</span> OrderItem(productId, quantity, price);
            order.getItems().add(item);
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> OrderBuilder <span class="function">withRandomItems</span>(<span class="keyword">int</span> count) {
            <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; count; i++) {
                withItem(
                    <span class="string">"PROD-"</span> + faker.number().digits(4),
                    faker.number().numberBetween(1, 5),
                    faker.number().randomDouble(2, 10, 500)
                );
            }
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> OrderBuilder <span class="function">withStatus</span>(String status) {
            order.setStatus(status);
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> OrderBuilder <span class="function">withShippingAddress</span>(Address address) {
            order.setShippingAddress(address);
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> OrderBuilder <span class="function">withRandomShippingAddress</span>() {
            Address address = <span class="keyword">new</span> Address();
            address.setStreet(faker.address().streetAddress());
            address.setCity(faker.address().city());
            address.setState(faker.address().stateAbbr());
            address.setZipCode(faker.address().zipCode());
            address.setCountry(<span class="string">"USA"</span>);
            order.setShippingAddress(address);
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> Order <span class="function">build</span>() {
            <span class="comment">// Calculate total</span>
            <span class="keyword">if</span> (order.getItems() != <span class="keyword">null</span>) {
                <span class="keyword">double</span> total = order.getItems().stream()
                    .mapToDouble(i -&gt; i.getQuantity() * i.getPrice())
                    .sum();
                order.setTotalAmount(total);
            }
            <span class="keyword">return</span> order;
        }

        <span class="keyword">public</span> Order <span class="function">buildAndPersist</span>(OrderRepository repository) {
            Order builtOrder = build();
            <span class="keyword">return</span> repository.save(builtOrder);
        }
    }

    <span class="comment">// Predefined test scenarios</span>
    <span class="keyword">public static</span> Order <span class="function">createValidOrder</span>() {
        <span class="keyword">return</span> anOrder()
            .withRandomCustomer()
            .withRandomItems(3)
            .withRandomShippingAddress()
            .build();
    }

    <span class="keyword">public static</span> Order <span class="function">createHighValueOrder</span>() {
        <span class="keyword">return</span> anOrder()
            .withRandomCustomer()
            .withItem(<span class="string">"PROD-PREMIUM-001"</span>, 1, 5000.00)
            .withItem(<span class="string">"PROD-PREMIUM-002"</span>, 2, 2500.00)
            .withRandomShippingAddress()
            .build();
    }

    <span class="keyword">public static</span> Order <span class="function">createPendingOrder</span>() {
        <span class="keyword">return</span> anOrder()
            .withRandomCustomer()
            .withRandomItems(1)
            .withStatus(<span class="string">"PENDING"</span>)
            .build();
    }
}
</pre>
            </div>

            <h3>9.2 Advanced Retry and Recovery Patterns</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// RETRY MECHANISM WITH EXPONENTIAL BACKOFF
// ============================================</span>

<span class="keyword">public class</span> <span class="function">RetryExecutor</span> {
    <span class="keyword">private final int</span> maxAttempts;
    <span class="keyword">private final long</span> initialDelayMs;
    <span class="keyword">private final double</span> multiplier;
    <span class="keyword">private final</span> Set&lt;Class&lt;? <span class="keyword">extends</span> Exception&gt;&gt; retryableExceptions;
    <span class="keyword">private final</span> Logger logger = LoggerFactory.getLogger(RetryExecutor.class);

    <span class="keyword">private</span> <span class="function">RetryExecutor</span>(Builder builder) {
        <span class="keyword">this</span>.maxAttempts = builder.maxAttempts;
        <span class="keyword">this</span>.initialDelayMs = builder.initialDelayMs;
        <span class="keyword">this</span>.multiplier = builder.multiplier;
        <span class="keyword">this</span>.retryableExceptions = builder.retryableExceptions;
    }

    <span class="keyword">public</span> &lt;T&gt; T <span class="function">execute</span>(Supplier&lt;T&gt; action, String actionDescription) {
        Exception lastException = <span class="keyword">null</span>;

        <span class="keyword">for</span> (<span class="keyword">int</span> attempt = 1; attempt &lt;= maxAttempts; attempt++) {
            <span class="keyword">try</span> {
                logger.debug(<span class="string">"Attempt {} of {}: {}"</span>, attempt, maxAttempts, actionDescription);
                <span class="keyword">return</span> action.get();
            } <span class="keyword">catch</span> (Exception e) {
                lastException = e;

                <span class="keyword">if</span> (!isRetryable(e)) {
                    logger.error(<span class="string">"Non-retryable exception: {}"</span>, e.getMessage());
                    <span class="keyword">throw new</span> RuntimeException(e);
                }

                <span class="keyword">if</span> (attempt &lt; maxAttempts) {
                    <span class="keyword">long</span> delay = calculateDelay(attempt);
                    logger.warn(<span class="string">"Attempt {} failed, retrying in {}ms: {}"</span>,
                        attempt, delay, e.getMessage());
                    sleep(delay);
                }
            }
        }

        logger.error(<span class="string">"All {} attempts failed for: {}"</span>, maxAttempts, actionDescription);
        <span class="keyword">throw new</span> RetryExhaustedException(
            <span class="string">"Failed after "</span> + maxAttempts + <span class="string">" attempts: "</span> + actionDescription,
            lastException
        );
    }

    <span class="keyword">public void</span> <span class="function">executeVoid</span>(Runnable action, String actionDescription) {
        execute(() -&gt; {
            action.run();
            <span class="keyword">return null</span>;
        }, actionDescription);
    }

    <span class="keyword">private boolean</span> <span class="function">isRetryable</span>(Exception e) {
        <span class="keyword">return</span> retryableExceptions.stream()
            .anyMatch(clazz -&gt; clazz.isInstance(e) ||
                      (e.getCause() != <span class="keyword">null</span> &amp;&amp; clazz.isInstance(e.getCause())));
    }

    <span class="keyword">private long</span> <span class="function">calculateDelay</span>(<span class="keyword">int</span> attempt) {
        <span class="keyword">return</span> (<span class="keyword">long</span>) (initialDelayMs * Math.pow(multiplier, attempt - 1));
    }

    <span class="keyword">private void</span> <span class="function">sleep</span>(<span class="keyword">long</span> ms) {
        <span class="keyword">try</span> {
            Thread.sleep(ms);
        } <span class="keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }

    <span class="comment">// Builder pattern for configuration</span>
    <span class="keyword">public static class</span> <span class="function">Builder</span> {
        <span class="keyword">private int</span> maxAttempts = 3;
        <span class="keyword">private long</span> initialDelayMs = 1000;
        <span class="keyword">private double</span> multiplier = 2.0;
        <span class="keyword">private</span> Set&lt;Class&lt;? <span class="keyword">extends</span> Exception&gt;&gt; retryableExceptions = <span class="keyword">new</span> HashSet&lt;&gt;();

        <span class="keyword">public</span> Builder <span class="function">maxAttempts</span>(<span class="keyword">int</span> maxAttempts) {
            <span class="keyword">this</span>.maxAttempts = maxAttempts;
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> Builder <span class="function">initialDelay</span>(<span class="keyword">long</span> delayMs) {
            <span class="keyword">this</span>.initialDelayMs = delayMs;
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> Builder <span class="function">multiplier</span>(<span class="keyword">double</span> multiplier) {
            <span class="keyword">this</span>.multiplier = multiplier;
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> Builder <span class="function">retryOn</span>(Class&lt;? <span class="keyword">extends</span> Exception&gt;... exceptions) {
            <span class="keyword">this</span>.retryableExceptions.addAll(Arrays.asList(exceptions));
            <span class="keyword">return this</span>;
        }

        <span class="keyword">public</span> RetryExecutor <span class="function">build</span>() {
            <span class="keyword">if</span> (retryableExceptions.isEmpty()) {
                <span class="comment">// Default retryable exceptions</span>
                retryableExceptions.add(TimeoutException.class);
                retryableExceptions.add(StaleElementReferenceException.class);
                retryableExceptions.add(ConnectException.class);
            }
            <span class="keyword">return new</span> RetryExecutor(<span class="keyword">this</span>);
        }
    }
}

<span class="comment">// Usage</span>
RetryExecutor retry = <span class="keyword">new</span> RetryExecutor.Builder()
    .maxAttempts(3)
    .initialDelay(1000)
    .multiplier(2.0)
    .retryOn(TimeoutException.class, StaleElementReferenceException.class)
    .build();

String result = retry.execute(
    () -&gt; page.locator(<span class="string">"#dynamic-element"</span>).textContent(),
    <span class="string">"Get dynamic element text"</span>
);
</pre>
            </div>

            <h3>9.3 Logging and Reporting Framework</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// COMPREHENSIVE LOGGING FRAMEWORK
// ============================================</span>

<span class="keyword">public class</span> <span class="function">TestReporter</span> {
    <span class="keyword">private static final</span> Logger logger = LoggerFactory.getLogger(TestReporter.class);
    <span class="keyword">private final</span> List&lt;TestStep&gt; steps = <span class="keyword">new</span> ArrayList&lt;&gt;();
    <span class="keyword">private final</span> String testName;
    <span class="keyword">private</span> Instant startTime;

    <span class="keyword">public</span> <span class="function">TestReporter</span>(String testName) {
        <span class="keyword">this</span>.testName = testName;
        <span class="keyword">this</span>.startTime = Instant.now();
    }

    <span class="keyword">public void</span> <span class="function">step</span>(String description) {
        TestStep step = <span class="keyword">new</span> TestStep(description, StepStatus.STARTED);
        steps.add(step);
        logger.info(<span class="string">"[STEP {}] {}"</span>, steps.size(), description);
    }

    <span class="keyword">public void</span> <span class="function">info</span>(String message, Object... args) {
        logger.info(message, args);
    }

    <span class="keyword">public void</span> <span class="function">warn</span>(String message, Object... args) {
        logger.warn(message, args);
    }

    <span class="keyword">public void</span> <span class="function">error</span>(String message, Throwable throwable) {
        logger.error(message, throwable);
        <span class="keyword">if</span> (!steps.isEmpty()) {
            steps.get(steps.size() - 1).setStatus(StepStatus.FAILED);
            steps.get(steps.size() - 1).setError(throwable.getMessage());
        }
    }

    <span class="keyword">public void</span> <span class="function">attachScreenshot</span>(Page page, String name) {
        <span class="keyword">try</span> {
            <span class="keyword">byte</span>[] screenshot = page.screenshot();
            Path path = Paths.get(<span class="string">"target/screenshots"</span>, name + <span class="string">".png"</span>);
            Files.createDirectories(path.getParent());
            Files.write(path, screenshot);
            logger.info(<span class="string">"Screenshot saved: {}"</span>, path);
        } <span class="keyword">catch</span> (IOException e) {
            logger.error(<span class="string">"Failed to save screenshot"</span>, e);
        }
    }

    <span class="keyword">public void</span> <span class="function">attachApiRequest</span>(String method, String url, String body) {
        logger.info(<span class="string">"API Request: {} {}"</span>, method, url);
        <span class="keyword">if</span> (body != <span class="keyword">null</span> &amp;&amp; !body.isEmpty()) {
            logger.debug(<span class="string">"Request Body: {}"</span>, body);
        }
    }

    <span class="keyword">public void</span> <span class="function">attachApiResponse</span>(<span class="keyword">int</span> statusCode, String body) {
        logger.info(<span class="string">"API Response: Status {}"</span>, statusCode);
        logger.debug(<span class="string">"Response Body: {}"</span>, body);
    }

    <span class="keyword">public</span> TestReport <span class="function">generateReport</span>() {
        Duration duration = Duration.between(startTime, Instant.now());
        <span class="keyword">boolean</span> passed = steps.stream().noneMatch(s -&gt; s.getStatus() == StepStatus.FAILED);

        <span class="keyword">return</span> TestReport.builder()
            .testName(testName)
            .duration(duration)
            .passed(passed)
            .steps(steps)
            .build();
    }
}

<span class="comment">// Integration with Allure reporting</span>
<span class="keyword">public class</span> <span class="function">AllureReportListener</span> <span class="keyword">implements</span> ITestListener {
    @Override
    <span class="keyword">public void</span> <span class="function">onTestStart</span>(ITestResult result) {
        Allure.getLifecycle().updateTestCase(testResult -&gt;
            testResult.setDescription(getTestDescription(result))
        );
    }

    @Override
    <span class="keyword">public void</span> <span class="function">onTestFailure</span>(ITestResult result) {
        <span class="comment">// Attach screenshot on failure</span>
        Object testClass = result.getInstance();
        <span class="keyword">if</span> (testClass <span class="keyword">instanceof</span> BaseTest) {
            Page page = ((BaseTest) testClass).getPage();
            Allure.addAttachment(<span class="string">"Failure Screenshot"</span>,
                <span class="string">"image/png"</span>,
                <span class="keyword">new</span> ByteArrayInputStream(page.screenshot()),
                <span class="string">".png"</span>);
        }

        <span class="comment">// Attach page source</span>
        Allure.addAttachment(<span class="string">"Page Source"</span>, <span class="string">"text/html"</span>,
            page.content(), <span class="string">".html"</span>);
    }

    <span class="keyword">private</span> String <span class="function">getTestDescription</span>(ITestResult result) {
        Description desc = result.getMethod().getConstructorOrMethod()
            .getMethod().getAnnotation(Description.class);
        <span class="keyword">return</span> desc != <span class="keyword">null</span> ? desc.value() : result.getMethod().getMethodName();
    }
}
</pre>
            </div>

            <h3>9.4 Parallel Execution Strategy</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// PARALLEL EXECUTION CONFIGURATION
// ============================================</span>

<span class="comment">// TestNG parallel configuration (testng.xml)</span>
&lt;!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd"&gt;
&lt;suite name="Parallel Suite" parallel="classes" thread-count="5"&gt;
    &lt;test name="Regression Tests"&gt;
        &lt;packages&gt;
            &lt;package name="com.sdet.tests.regression"/&gt;
        &lt;/packages&gt;
    &lt;/test&gt;
&lt;/suite&gt;

<span class="comment">// Thread-safe browser factory</span>
<span class="keyword">public class</span> <span class="function">BrowserFactory</span> {
    <span class="keyword">private static final</span> ThreadLocal&lt;Playwright&gt; playwrightThread = <span class="keyword">new</span> ThreadLocal&lt;&gt;();
    <span class="keyword">private static final</span> ThreadLocal&lt;Browser&gt; browserThread = <span class="keyword">new</span> ThreadLocal&lt;&gt;();
    <span class="keyword">private static final</span> ThreadLocal&lt;BrowserContext&gt; contextThread = <span class="keyword">new</span> ThreadLocal&lt;&gt;();
    <span class="keyword">private static final</span> ThreadLocal&lt;Page&gt; pageThread = <span class="keyword">new</span> ThreadLocal&lt;&gt;();

    <span class="keyword">public static</span> Page <span class="function">getPage</span>() {
        <span class="keyword">if</span> (pageThread.get() == <span class="keyword">null</span>) {
            initializeBrowser();
        }
        <span class="keyword">return</span> pageThread.get();
    }

    <span class="keyword">private static synchronized void</span> <span class="function">initializeBrowser</span>() {
        Playwright playwright = Playwright.create();
        playwrightThread.set(playwright);

        Browser browser = createBrowser(playwright);
        browserThread.set(browser);

        BrowserContext context = browser.newContext(<span class="keyword">new</span> Browser.NewContextOptions()
            .setViewportSize(1920, 1080)
            .setRecordVideoDir(Paths.get(<span class="string">"target/videos"</span>)));
        contextThread.set(context);

        Page page = context.newPage();
        pageThread.set(page);
    }

    <span class="keyword">private static</span> Browser <span class="function">createBrowser</span>(Playwright playwright) {
        String browserType = System.getProperty(<span class="string">"browser"</span>, <span class="string">"chromium"</span>);
        <span class="keyword">boolean</span> headless = Boolean.parseBoolean(System.getProperty(<span class="string">"headless"</span>, <span class="string">"true"</span>));

        BrowserType.LaunchOptions options = <span class="keyword">new</span> BrowserType.LaunchOptions()
            .setHeadless(headless);

        <span class="keyword">return switch</span> (browserType.toLowerCase()) {
            <span class="keyword">case</span> <span class="string">"firefox"</span> -&gt; playwright.firefox().launch(options);
            <span class="keyword">case</span> <span class="string">"webkit"</span> -&gt; playwright.webkit().launch(options);
            <span class="keyword">default</span> -&gt; playwright.chromium().launch(options);
        };
    }

    <span class="keyword">public static void</span> <span class="function">cleanup</span>() {
        <span class="keyword">if</span> (pageThread.get() != <span class="keyword">null</span>) {
            pageThread.get().close();
            pageThread.remove();
        }
        <span class="keyword">if</span> (contextThread.get() != <span class="keyword">null</span>) {
            contextThread.get().close();
            contextThread.remove();
        }
        <span class="keyword">if</span> (browserThread.get() != <span class="keyword">null</span>) {
            browserThread.get().close();
            browserThread.remove();
        }
        <span class="keyword">if</span> (playwrightThread.get() != <span class="keyword">null</span>) {
            playwrightThread.get().close();
            playwrightThread.remove();
        }
    }
}
</pre>
            </div>
        </section>

        <!-- SECTION 10: Advanced Interview Questions -->
        <section id="section10">
            <h2>10. Advanced Interview Questions</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Technical Deep Dive Questions</h3>
                <p>These questions assess your depth of knowledge in test automation, system design, and problem-solving.</p>
            </div>

            <h3>10.1 Framework Design Questions</h3>

            <div class="interview-qa">
                <div class="question">Q: How would you design a test automation framework for a microservices-based e-commerce platform?</div>
                <div class="answer">
                    <p><strong>Key Considerations:</strong></p>
                    <ul>
                        <li><strong>Service Isolation:</strong> Each microservice should have its own test module</li>
                        <li><strong>Contract Testing:</strong> Use Pact for consumer-driven contracts</li>
                        <li><strong>Service Virtualization:</strong> Mock dependent services with WireMock</li>
                        <li><strong>Test Data Management:</strong> Centralized test data factory with service-specific builders</li>
                        <li><strong>Distributed Tracing:</strong> Correlate test requests across services</li>
                        <li><strong>Parallel Execution:</strong> Test services independently in parallel</li>
                    </ul>

                    <p><strong>Architecture:</strong></p>
                    <ul>
                        <li>Shared core framework library (utilities, base classes)</li>
                        <li>Service-specific test modules depending on core</li>
                        <li>Integration test module for cross-service scenarios</li>
                        <li>E2E test module for critical user journeys</li>
                    </ul>
                </div>
            </div>

            <div class="interview-qa">
                <div class="question">Q: How do you handle authentication in your test automation framework?</div>
                <div class="answer">
                    <p><strong>Multi-Strategy Approach:</strong></p>

                    <p><strong>1. API-Based Authentication (Preferred):</strong></p>
                    <div class="code-block">
<pre>
<span class="keyword">public class</span> <span class="function">AuthService</span> {
    <span class="keyword">private final</span> ApiClient apiClient;
    <span class="keyword">private final</span> Map&lt;String, AuthToken&gt; tokenCache = <span class="keyword">new</span> ConcurrentHashMap&lt;&gt;();

    <span class="keyword">public</span> AuthToken <span class="function">getToken</span>(String username, String password) {
        String cacheKey = username;

        <span class="keyword">return</span> tokenCache.computeIfAbsent(cacheKey, k -&gt; {
            Response response = apiClient.post(<span class="string">"/auth/login"</span>,
                Map.of(<span class="string">"username"</span>, username, <span class="string">"password"</span>, password));

            <span class="keyword">return</span> response.as(AuthToken.class);
        });
    }

    <span class="keyword">public void</span> <span class="function">injectToken</span>(Page page, AuthToken token) {
        <span class="comment">// Inject token via localStorage or cookies</span>
        page.evaluate(<span class="string">"token =&gt; localStorage.setItem('authToken', token)"</span>,
            token.getAccessToken());
    }
}
</pre>
                    </div>

                    <p><strong>2. Storage State Reuse (Playwright):</strong></p>
                    <div class="code-block">
<pre>
<span class="comment">// Save auth state</span>
context.storageState(<span class="keyword">new</span> BrowserContext.StorageStateOptions()
    .setPath(Paths.get(<span class="string">"auth/admin-state.json"</span>)));

<span class="comment">// Reuse in new context</span>
BrowserContext context = browser.newContext(<span class="keyword">new</span> Browser.NewContextOptions()
    .setStorageStatePath(Paths.get(<span class="string">"auth/admin-state.json"</span>)));
</pre>
                    </div>

                    <p><strong>3. Role-Based Authentication:</strong></p>
                    <div class="code-block">
<pre>
<span class="keyword">public enum</span> <span class="function">UserRole</span> {
    ADMIN(<span class="string">"admin@test.com"</span>, <span class="string">"AdminPass123!"</span>),
    USER(<span class="string">"user@test.com"</span>, <span class="string">"UserPass123!"</span>),
    READONLY(<span class="string">"readonly@test.com"</span>, <span class="string">"ReadPass123!"</span>);

    <span class="keyword">private final</span> String email;
    <span class="keyword">private final</span> String password;

    <span class="comment">// getter methods</span>
}

<span class="keyword">public</span> DashboardPage <span class="function">loginAs</span>(UserRole role) {
    <span class="keyword">return new</span> LoginPage(page)
        .loginAs(role.getEmail(), role.getPassword());
}
</pre>
                    </div>
                </div>
            </div>

            <h3>10.2 Performance and Scalability Questions</h3>

            <div class="interview-qa">
                <div class="question">Q: How would you optimize a test suite that takes 4 hours to run?</div>
                <div class="answer">
                    <p><strong>Optimization Strategies:</strong></p>

                    <table>
                        <tr>
                            <th>Strategy</th>
                            <th>Potential Reduction</th>
                            <th>Implementation</th>
                        </tr>
                        <tr>
                            <td>Parallel Execution</td>
                            <td>60-80%</td>
                            <td>Run tests in parallel threads/processes</td>
                        </tr>
                        <tr>
                            <td>Test Sharding</td>
                            <td>Proportional to shards</td>
                            <td>Distribute across multiple machines</td>
                        </tr>
                        <tr>
                            <td>Headless Mode</td>
                            <td>20-30%</td>
                            <td>Run browsers in headless mode</td>
                        </tr>
                        <tr>
                            <td>API Setup Instead of UI</td>
                            <td>40-60%</td>
                            <td>Use API for test data setup</td>
                        </tr>
                        <tr>
                            <td>Smart Test Selection</td>
                            <td>Variable</td>
                            <td>Run only affected tests</td>
                        </tr>
                        <tr>
                            <td>Remove Redundant Tests</td>
                            <td>10-30%</td>
                            <td>Eliminate duplicate coverage</td>
                        </tr>
                    </table>

                    <p><strong>Implementation Example:</strong></p>
                    <div class="code-block">
<pre>
<span class="comment">// Parallel execution with TestNG</span>
&lt;suite name="Regression" parallel="methods" thread-count="10"&gt;

<span class="comment">// API-based setup instead of UI</span>
@BeforeMethod
<span class="keyword">public void</span> <span class="function">setupTestData</span>() {
    <span class="comment">// Instead of navigating through UI to create data</span>
    testUser = userApi.createUser(UserBuilder.aUser().withDefaults().build());
    testOrder = orderApi.createOrder(OrderBuilder.anOrder().forUser(testUser).build());
}

<span class="comment">// Smart test selection based on changed files</span>
<span class="keyword">public</span> List&lt;String&gt; <span class="function">getAffectedTests</span>(List&lt;String&gt; changedFiles) {
    Map&lt;String, List&lt;String&gt;&gt; testMapping = loadTestMappings();

    <span class="keyword">return</span> changedFiles.stream()
        .filter(testMapping::containsKey)
        .flatMap(file -&gt; testMapping.get(file).stream())
        .distinct()
        .collect(Collectors.toList());
}
</pre>
                    </div>
                </div>
            </div>

            <h3>10.3 Troubleshooting Questions</h3>

            <div class="interview-qa">
                <div class="question">Q: A test passes locally but fails in CI. How would you debug this?</div>
                <div class="answer">
                    <p><strong>Systematic Debugging Approach:</strong></p>

                    <p><strong>1. Environmental Differences:</strong></p>
                    <ul>
                        <li>Browser version mismatch</li>
                        <li>Screen resolution differences</li>
                        <li>Network latency</li>
                        <li>Resource constraints (CPU/memory)</li>
                    </ul>

                    <p><strong>2. Timing Issues:</strong></p>
                    <ul>
                        <li>CI machines may be slower</li>
                        <li>Network calls take longer</li>
                        <li>Add explicit waits</li>
                    </ul>

                    <p><strong>3. Data/State Issues:</strong></p>
                    <ul>
                        <li>Test data not cleaned up</li>
                        <li>Shared state between tests</li>
                        <li>Database not reset properly</li>
                    </ul>

                    <p><strong>4. Debugging Tools:</strong></p>
                    <div class="code-block">
<pre>
<span class="comment">// Enable debug logging</span>
DEBUG=pw:api npx playwright test

<span class="comment">// Capture video and trace</span>
<span class="keyword">export default</span> defineConfig({
    use: {
        video: <span class="string">'on'</span>,
        trace: <span class="string">'on'</span>,
        screenshot: <span class="string">'on'</span>
    }
});

<span class="comment">// Add CI-specific configuration</span>
<span class="keyword">if</span> (process.env.CI) {
    config.use.timeout = 60000; <span class="comment">// Longer timeout in CI</span>
    config.retries = 2;
}
</pre>
                    </div>

                    <p><strong>5. Investigation Steps:</strong></p>
                    <ol>
                        <li>Review CI logs and artifacts</li>
                        <li>Compare screenshots/videos</li>
                        <li>Run with same browser version locally</li>
                        <li>Add detailed logging around failure point</li>
                        <li>Check for race conditions</li>
                        <li>Verify test data setup completed</li>
                    </ol>
                </div>
            </div>

            <h3>10.4 API Testing Deep Dive</h3>

            <div class="interview-qa">
                <div class="question">Q: How do you test API rate limiting?</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="keyword">@Test</span>
<span class="keyword">public void</span> <span class="function">testRateLimiting</span>() {
    <span class="comment">// Configuration: 100 requests per minute</span>
    <span class="keyword">int</span> rateLimit = 100;
    <span class="keyword">int</span> requestsToSend = rateLimit + 10;

    List&lt;Response&gt; responses = <span class="keyword">new</span> ArrayList&lt;&gt;();

    <span class="comment">// Send requests rapidly</span>
    <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; requestsToSend; i++) {
        Response response = given()
            .header(<span class="string">"Authorization"</span>, <span class="string">"Bearer "</span> + token)
            .get(<span class="string">"/api/resource"</span>);
        responses.add(response);
    }

    <span class="comment">// Verify first 100 succeed</span>
    <span class="keyword">long</span> successCount = responses.stream()
        .filter(r -&gt; r.getStatusCode() == 200)
        .count();
    assertThat(successCount).isEqualTo(rateLimit);

    <span class="comment">// Verify excess requests are rate limited</span>
    <span class="keyword">long</span> rateLimitedCount = responses.stream()
        .filter(r -&gt; r.getStatusCode() == 429)
        .count();
    assertThat(rateLimitedCount).isEqualTo(10);

    <span class="comment">// Verify rate limit headers</span>
    Response lastSuccess = responses.get(rateLimit - 1);
    assertThat(lastSuccess.header(<span class="string">"X-RateLimit-Remaining"</span>)).isEqualTo(<span class="string">"0"</span>);

    Response firstLimited = responses.get(rateLimit);
    assertThat(firstLimited.header(<span class="string">"Retry-After"</span>)).isNotNull();
}
</pre>
                    </div>
                </div>
            </div>

            <div class="interview-qa">
                <div class="question">Q: How do you test API pagination?</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="keyword">@Test</span>
<span class="keyword">public void</span> <span class="function">testPaginationCompleteness</span>() {
    <span class="comment">// Create known number of items</span>
    <span class="keyword">int</span> totalItems = 55;
    <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; totalItems; i++) {
        api.createItem(ItemBuilder.anItem().withName(<span class="string">"Item-"</span> + i).build());
    }

    <span class="comment">// Fetch all pages</span>
    List&lt;Item&gt; allItems = <span class="keyword">new</span> ArrayList&lt;&gt;();
    <span class="keyword">int</span> page = 1;
    <span class="keyword">int</span> pageSize = 10;
    <span class="keyword">boolean</span> hasMore = <span class="keyword">true</span>;

    <span class="keyword">while</span> (hasMore) {
        Response response = given()
            .queryParam(<span class="string">"page"</span>, page)
            .queryParam(<span class="string">"size"</span>, pageSize)
            .get(<span class="string">"/api/items"</span>);

        List&lt;Item&gt; pageItems = response.jsonPath().getList(<span class="string">"data"</span>, Item.class);
        allItems.addAll(pageItems);

        hasMore = response.jsonPath().getBoolean(<span class="string">"hasMore"</span>);
        page++;

        <span class="comment">// Verify pagination metadata</span>
        assertThat(response.jsonPath().getInt(<span class="string">"totalItems"</span>)).isEqualTo(totalItems);
        assertThat(response.jsonPath().getInt(<span class="string">"totalPages"</span>)).isEqualTo(6);
    }

    <span class="comment">// Verify all items retrieved</span>
    assertThat(allItems).hasSize(totalItems);

    <span class="comment">// Verify no duplicates</span>
    Set&lt;String&gt; uniqueIds = allItems.stream()
        .map(Item::getId)
        .collect(Collectors.toSet());
    assertThat(uniqueIds).hasSize(totalItems);
}

<span class="keyword">@Test</span>
<span class="keyword">public void</span> <span class="function">testPaginationBoundaries</span>() {
    <span class="comment">// Test page 0 (invalid)</span>
    Response invalidPage = given()
        .queryParam(<span class="string">"page"</span>, 0)
        .get(<span class="string">"/api/items"</span>);
    assertThat(invalidPage.getStatusCode()).isEqualTo(400);

    <span class="comment">// Test negative page</span>
    Response negativePage = given()
        .queryParam(<span class="string">"page"</span>, -1)
        .get(<span class="string">"/api/items"</span>);
    assertThat(negativePage.getStatusCode()).isEqualTo(400);

    <span class="comment">// Test page beyond total</span>
    Response beyondPage = given()
        .queryParam(<span class="string">"page"</span>, 1000)
        .get(<span class="string">"/api/items"</span>);
    assertThat(beyondPage.getStatusCode()).isEqualTo(200);
    assertThat(beyondPage.jsonPath().getList(<span class="string">"data"</span>)).isEmpty();
}
</pre>
                    </div>
                </div>
            </div>

            <h3>10.5 Database Testing Questions</h3>

            <div class="interview-qa">
                <div class="question">Q: Write a query to find duplicate customer records</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Find duplicates based on email</span>
<span class="keyword">SELECT</span>
    email,
    <span class="function">COUNT</span>(*) <span class="keyword">AS</span> duplicate_count,
    <span class="function">STRING_AGG</span>(id::text, ', ') <span class="keyword">AS</span> duplicate_ids,
    <span class="function">MIN</span>(created_at) <span class="keyword">AS</span> first_created,
    <span class="function">MAX</span>(created_at) <span class="keyword">AS</span> last_created
<span class="keyword">FROM</span> customers
<span class="keyword">GROUP BY</span> email
<span class="keyword">HAVING</span> <span class="function">COUNT</span>(*) > 1
<span class="keyword">ORDER BY</span> duplicate_count <span class="keyword">DESC</span>;

<span class="comment">-- Find duplicates with detailed info</span>
<span class="keyword">WITH</span> duplicates <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span>
        email,
        <span class="function">COUNT</span>(*) <span class="keyword">OVER</span> (<span class="keyword">PARTITION BY</span> email) <span class="keyword">AS</span> dup_count,
        <span class="function">ROW_NUMBER</span>() <span class="keyword">OVER</span> (<span class="keyword">PARTITION BY</span> email <span class="keyword">ORDER BY</span> created_at) <span class="keyword">AS</span> rn
    <span class="keyword">FROM</span> customers
)
<span class="keyword">SELECT</span> c.*
<span class="keyword">FROM</span> customers c
<span class="keyword">JOIN</span> duplicates d <span class="keyword">ON</span> c.email = d.email
<span class="keyword">WHERE</span> d.dup_count > 1
<span class="keyword">ORDER BY</span> c.email, c.created_at;

<span class="comment">-- Find potential duplicates using fuzzy matching</span>
<span class="keyword">SELECT</span>
    c1.id <span class="keyword">AS</span> id1,
    c2.id <span class="keyword">AS</span> id2,
    c1.name <span class="keyword">AS</span> name1,
    c2.name <span class="keyword">AS</span> name2,
    c1.email <span class="keyword">AS</span> email1,
    c2.email <span class="keyword">AS</span> email2,
    <span class="function">SIMILARITY</span>(c1.name, c2.name) <span class="keyword">AS</span> name_similarity
<span class="keyword">FROM</span> customers c1
<span class="keyword">JOIN</span> customers c2 <span class="keyword">ON</span> c1.id < c2.id
<span class="keyword">WHERE</span> <span class="function">SIMILARITY</span>(c1.name, c2.name) > 0.8
   <span class="keyword">OR</span> <span class="function">LEVENSHTEIN</span>(c1.email, c2.email) < 3;
</pre>
                    </div>
                </div>
            </div>

            <div class="interview-qa">
                <div class="question">Q: Write a query to find orders with missing or inconsistent data</div>
                <div class="answer">
                    <div class="code-block">
<pre>
<span class="comment">-- Find orders with data integrity issues</span>
<span class="keyword">SELECT</span>
    o.id <span class="keyword">AS</span> order_id,
    o.customer_id,
    o.total_amount,
    o.status,
    <span class="keyword">CASE</span>
        <span class="keyword">WHEN</span> o.customer_id <span class="keyword">IS NULL THEN</span> <span class="string">'Missing customer'</span>
        <span class="keyword">WHEN</span> c.id <span class="keyword">IS NULL THEN</span> <span class="string">'Invalid customer reference'</span>
        <span class="keyword">WHEN</span> o.total_amount <span class="keyword">IS NULL THEN</span> <span class="string">'Missing total'</span>
        <span class="keyword">WHEN</span> o.total_amount <= 0 <span class="keyword">THEN</span> <span class="string">'Invalid total amount'</span>
        <span class="keyword">WHEN</span> item_total.calculated_total != o.total_amount
            <span class="keyword">THEN</span> <span class="string">'Total mismatch: '</span> ||
                 o.total_amount || <span class="string">' vs '</span> || item_total.calculated_total
        <span class="keyword">WHEN</span> item_count.count = 0 <span class="keyword">THEN</span> <span class="string">'Order has no items'</span>
        <span class="keyword">WHEN</span> o.created_at > o.updated_at <span class="keyword">THEN</span> <span class="string">'Created after updated'</span>
        <span class="keyword">WHEN</span> o.status = <span class="string">'SHIPPED'</span> <span class="keyword">AND</span> o.shipped_at <span class="keyword">IS NULL THEN</span> <span class="string">'Shipped but no ship date'</span>
    <span class="keyword">END AS</span> issue
<span class="keyword">FROM</span> orders o
<span class="keyword">LEFT JOIN</span> customers c <span class="keyword">ON</span> o.customer_id = c.id
<span class="keyword">LEFT JOIN</span> (
    <span class="keyword">SELECT</span> order_id, <span class="function">SUM</span>(quantity * unit_price) <span class="keyword">AS</span> calculated_total
    <span class="keyword">FROM</span> order_items
    <span class="keyword">GROUP BY</span> order_id
) item_total <span class="keyword">ON</span> o.id = item_total.order_id
<span class="keyword">LEFT JOIN</span> (
    <span class="keyword">SELECT</span> order_id, <span class="function">COUNT</span>(*) <span class="keyword">AS</span> count
    <span class="keyword">FROM</span> order_items
    <span class="keyword">GROUP BY</span> order_id
) item_count <span class="keyword">ON</span> o.id = item_count.order_id
<span class="keyword">WHERE</span>
    o.customer_id <span class="keyword">IS NULL</span>
    <span class="keyword">OR</span> c.id <span class="keyword">IS NULL</span>
    <span class="keyword">OR</span> o.total_amount <span class="keyword">IS NULL</span>
    <span class="keyword">OR</span> o.total_amount <= 0
    <span class="keyword">OR</span> item_total.calculated_total != o.total_amount
    <span class="keyword">OR</span> <span class="function">COALESCE</span>(item_count.count, 0) = 0
    <span class="keyword">OR</span> o.created_at > o.updated_at
    <span class="keyword">OR</span> (o.status = <span class="string">'SHIPPED'</span> <span class="keyword">AND</span> o.shipped_at <span class="keyword">IS NULL</span>);
</pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 11: Real-World Testing Scenarios -->
        <section id="section11">
            <h2>11. Real-World Testing Scenarios</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Practical Scenarios</h3>
                <p>Step-by-step approaches to common testing challenges you'll encounter in enterprise environments.</p>
            </div>

            <h3>11.1 Testing File Upload Functionality</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// FILE UPLOAD TESTING - Complete Example
// ============================================</span>

@Test
@DisplayName(<span class="string">"Test file upload with various file types"</span>)
<span class="keyword">void</span> <span class="function">testFileUpload</span>() {
    <span class="comment">// Navigate to upload page</span>
    UploadPage uploadPage = <span class="keyword">new</span> LoginPage(page)
        .loginAs(UserRole.USER)
        .navigateToUploads();

    <span class="comment">// Test valid file upload</span>
    Path validFile = Paths.get(<span class="string">"src/test/resources/files/valid-document.pdf"</span>);
    uploadPage.uploadFile(validFile);

    <span class="comment">// Wait for upload to complete</span>
    uploadPage.waitForUploadComplete();

    <span class="comment">// Verify success message</span>
    assertTrue(uploadPage.isUploadSuccessful());
    assertEquals(<span class="string">"valid-document.pdf"</span>, uploadPage.getUploadedFileName());

    <span class="comment">// Verify via API</span>
    FileResponse fileResponse = fileApi.getLatestUpload();
    assertEquals(<span class="string">"valid-document.pdf"</span>, fileResponse.getName());
    assertEquals(<span class="string">"application/pdf"</span>, fileResponse.getContentType());
    assertTrue(fileResponse.getSize() > 0);

    <span class="comment">// Verify in database</span>
    FileRecord dbRecord = fileRepo.findByName(<span class="string">"valid-document.pdf"</span>);
    assertNotNull(dbRecord);
    assertEquals(<span class="string">"UPLOADED"</span>, dbRecord.getStatus());
}

@Test
@DisplayName(<span class="string">"Test file upload with invalid file type"</span>)
<span class="keyword">void</span> <span class="function">testFileUpload_InvalidType</span>() {
    UploadPage uploadPage = <span class="keyword">new</span> LoginPage(page)
        .loginAs(UserRole.USER)
        .navigateToUploads();

    <span class="comment">// Try to upload executable</span>
    Path invalidFile = Paths.get(<span class="string">"src/test/resources/files/malicious.exe"</span>);
    uploadPage.uploadFile(invalidFile);

    <span class="comment">// Verify rejection</span>
    assertTrue(uploadPage.hasError());
    assertThat(uploadPage.getErrorMessage(),
        containsString(<span class="string">"File type not allowed"</span>));

    <span class="comment">// Verify no file was stored</span>
    assertNull(fileRepo.findByName(<span class="string">"malicious.exe"</span>));
}

<span class="comment">// Page Object for Upload</span>
<span class="keyword">public class</span> <span class="function">UploadPage</span> <span class="keyword">extends</span> BasePage {
    <span class="keyword">private static final</span> String FILE_INPUT = <span class="string">"input[type='file']"</span>;
    <span class="keyword">private static final</span> String UPLOAD_BUTTON = <span class="string">"[data-testid='upload-btn']"</span>;
    <span class="keyword">private static final</span> String PROGRESS_BAR = <span class="string">"[data-testid='upload-progress']"</span>;
    <span class="keyword">private static final</span> String SUCCESS_MESSAGE = <span class="string">"[data-testid='upload-success']"</span>;
    <span class="keyword">private static final</span> String ERROR_MESSAGE = <span class="string">"[data-testid='upload-error']"</span>;

    <span class="keyword">public void</span> <span class="function">uploadFile</span>(Path filePath) {
        <span class="comment">// Playwright handles file chooser automatically</span>
        page.setInputFiles(FILE_INPUT, filePath);
        click(UPLOAD_BUTTON);
    }

    <span class="keyword">public void</span> <span class="function">waitForUploadComplete</span>() {
        <span class="comment">// Wait for progress bar to disappear</span>
        waitUtils.waitForHidden(PROGRESS_BAR);
    }

    <span class="keyword">public boolean</span> <span class="function">isUploadSuccessful</span>() {
        <span class="keyword">return</span> isVisible(SUCCESS_MESSAGE);
    }

    <span class="keyword">public</span> String <span class="function">getUploadedFileName</span>() {
        <span class="keyword">return</span> getText(SUCCESS_MESSAGE + <span class="string">" .filename"</span>);
    }

    <span class="keyword">public boolean</span> <span class="function">hasError</span>() {
        <span class="keyword">return</span> isVisible(ERROR_MESSAGE);
    }

    <span class="keyword">public</span> String <span class="function">getErrorMessage</span>() {
        <span class="keyword">return</span> getText(ERROR_MESSAGE);
    }
}
</pre>
            </div>

            <h3>11.2 Testing WebSocket Functionality</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// WEBSOCKET TESTING
// ============================================</span>

@Test
@DisplayName(<span class="string">"Test real-time chat messaging via WebSocket"</span>)
<span class="keyword">void</span> <span class="function">testWebSocketChat</span>() {
    <span class="comment">// Setup WebSocket listener</span>
    List&lt;String&gt; receivedMessages = Collections.synchronizedList(<span class="keyword">new</span> ArrayList&lt;&gt;());

    page.onWebSocket(ws -&gt; {
        ws.onFrameReceived(frame -&gt; {
            receivedMessages.add(frame.text());
        });
    });

    <span class="comment">// Navigate to chat page</span>
    ChatPage chatPage = loginAndNavigateTo(ChatPage.class);
    chatPage.joinRoom(<span class="string">"test-room"</span>);

    <span class="comment">// Wait for WebSocket connection</span>
    await().atMost(5, SECONDS).until(() -&gt;
        chatPage.isConnected());

    <span class="comment">// Send message</span>
    String testMessage = <span class="string">"Hello from test: "</span> + UUID.randomUUID();
    chatPage.sendMessage(testMessage);

    <span class="comment">// Verify message received via WebSocket</span>
    await().atMost(5, SECONDS).until(() -&gt;
        receivedMessages.stream()
            .anyMatch(m -&gt; m.contains(testMessage)));

    <span class="comment">// Verify message displayed in UI</span>
    assertTrue(chatPage.getMessages().stream()
        .anyMatch(m -&gt; m.contains(testMessage)));
}

@Test
@DisplayName(<span class="string">"Test WebSocket reconnection on disconnect"</span>)
<span class="keyword">void</span> <span class="function">testWebSocketReconnection</span>() {
    ChatPage chatPage = loginAndNavigateTo(ChatPage.class);
    chatPage.joinRoom(<span class="string">"test-room"</span>);

    <span class="comment">// Wait for connection</span>
    await().atMost(5, SECONDS).until(chatPage::isConnected);

    <span class="comment">// Simulate network disconnect</span>
    page.context().setOffline(<span class="keyword">true</span>);
    await().atMost(5, SECONDS).until(() -&gt; !chatPage.isConnected());

    <span class="comment">// Verify reconnection indicator shown</span>
    assertTrue(chatPage.showsReconnecting());

    <span class="comment">// Restore network</span>
    page.context().setOffline(<span class="keyword">false</span>);

    <span class="comment">// Verify automatic reconnection</span>
    await().atMost(30, SECONDS).until(chatPage::isConnected);

    <span class="comment">// Verify can send messages after reconnection</span>
    String testMessage = <span class="string">"Message after reconnect"</span>;
    chatPage.sendMessage(testMessage);
    assertTrue(chatPage.isMessageSent(testMessage));
}
</pre>
            </div>

            <h3>11.3 Testing Payment Processing</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// PAYMENT PROCESSING TESTS
// ============================================</span>

@Test
@DisplayName(<span class="string">"Test successful payment flow"</span>)
<span class="keyword">void</span> <span class="function">testSuccessfulPayment</span>() {
    <span class="comment">// Setup - create order via API</span>
    Order order = orderApi.createOrder(OrderBuilder.anOrder()
        .withRandomCustomer()
        .withItem(<span class="string">"PROD-001"</span>, 2, 99.99)
        .build());

    <span class="comment">// Navigate to checkout</span>
    CheckoutPage checkoutPage = loginAndNavigateToCheckout(order.getId());

    <span class="comment">// Enter payment details (test card)</span>
    checkoutPage.enterCardNumber(<span class="string">"4111111111111111"</span>);
    checkoutPage.enterExpiry(<span class="string">"12/25"</span>);
    checkoutPage.enterCVV(<span class="string">"123"</span>);
    checkoutPage.enterCardholderName(<span class="string">"Test User"</span>);

    <span class="comment">// Submit payment</span>
    ConfirmationPage confirmPage = checkoutPage.submitPayment();

    <span class="comment">// Verify success</span>
    assertTrue(confirmPage.isPaymentSuccessful());
    assertNotNull(confirmPage.getTransactionId());

    <span class="comment">// Verify order status updated</span>
    Order updatedOrder = orderApi.getOrder(order.getId());
    assertEquals(<span class="string">"PAID"</span>, updatedOrder.getStatus());

    <span class="comment">// Verify payment record in database</span>
    Payment payment = paymentRepo.findByOrderId(order.getId());
    assertNotNull(payment);
    assertEquals(<span class="string">"COMPLETED"</span>, payment.getStatus());
    assertEquals(order.getTotalAmount(), payment.getAmount());
}

@Test
@DisplayName(<span class="string">"Test declined card handling"</span>)
<span class="keyword">void</span> <span class="function">testDeclinedCard</span>() {
    Order order = orderApi.createOrder(OrderBuilder.anOrder()
        .withRandomCustomer()
        .withItem(<span class="string">"PROD-001"</span>, 1, 50.00)
        .build());

    CheckoutPage checkoutPage = loginAndNavigateToCheckout(order.getId());

    <span class="comment">// Use decline test card</span>
    checkoutPage.enterCardNumber(<span class="string">"4000000000000002"</span>);
    checkoutPage.enterExpiry(<span class="string">"12/25"</span>);
    checkoutPage.enterCVV(<span class="string">"123"</span>);
    checkoutPage.enterCardholderName(<span class="string">"Test User"</span>);

    checkoutPage.submitPaymentExpectingFailure();

    <span class="comment">// Verify error message</span>
    assertTrue(checkoutPage.hasPaymentError());
    assertThat(checkoutPage.getPaymentError(),
        containsString(<span class="string">"Card was declined"</span>));

    <span class="comment">// Verify order status unchanged</span>
    Order unchangedOrder = orderApi.getOrder(order.getId());
    assertEquals(<span class="string">"PENDING"</span>, unchangedOrder.getStatus());
}

@Test
@DisplayName(<span class="string">"Test payment with 3D Secure"</span>)
<span class="keyword">void</span> <span class="function">testPaymentWith3DSecure</span>() {
    Order order = orderApi.createOrder(OrderBuilder.anOrder()
        .withRandomCustomer()
        .withItem(<span class="string">"PROD-001"</span>, 1, 500.00) <span class="comment">// High value triggers 3DS</span>
        .build());

    CheckoutPage checkoutPage = loginAndNavigateToCheckout(order.getId());

    <span class="comment">// Use 3DS test card</span>
    checkoutPage.enterCardNumber(<span class="string">"4000000000003220"</span>);
    checkoutPage.enterExpiry(<span class="string">"12/25"</span>);
    checkoutPage.enterCVV(<span class="string">"123"</span>);
    checkoutPage.enterCardholderName(<span class="string">"Test User"</span>);

    <span class="comment">// Submit and handle 3DS iframe</span>
    checkoutPage.submitPayment();

    <span class="comment">// Wait for 3DS iframe</span>
    page.waitForSelector(<span class="string">"iframe[name='stripe_3ds_frame']"</span>);

    <span class="comment">// Switch to 3DS frame and complete authentication</span>
    Frame frame = page.frameByName(<span class="string">"stripe_3ds_frame"</span>);
    frame.click(<span class="string">"#test-source-authorize-3ds"</span>);

    <span class="comment">// Verify success after 3DS</span>
    ConfirmationPage confirmPage = <span class="keyword">new</span> ConfirmationPage(page);
    assertTrue(confirmPage.isPaymentSuccessful());
}
</pre>
            </div>

            <h3>11.4 Testing Concurrent Operations</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// CONCURRENT BOOKING TEST
// ============================================</span>

@Test
@DisplayName(<span class="string">"Test concurrent booking prevents double-booking"</span>)
<span class="keyword">void</span> <span class="function">testConcurrentBookingPrevention</span>() <span class="keyword">throws</span> Exception {
    <span class="comment">// Setup: One available slot</span>
    String slotId = bookingApi.createSlot(
        Slot.builder()
            .date(LocalDate.now().plusDays(1))
            .time(LocalTime.of(10, 0))
            .capacity(1)
            .build()
    ).getId();

    <span class="comment">// Create 10 concurrent booking requests</span>
    ExecutorService executor = Executors.newFixedThreadPool(10);
    List&lt;Future&lt;BookingResult&gt;&gt; futures = <span class="keyword">new</span> ArrayList&lt;&gt;();

    <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; 10; i++) {
        <span class="keyword">final</span> String customerId = <span class="string">"CUSTOMER-"</span> + i;
        futures.add(executor.submit(() -&gt; {
            <span class="keyword">try</span> {
                Response response = bookingApi.book(slotId, customerId);
                <span class="keyword">return new</span> BookingResult(customerId, response.getStatusCode(),
                    response.jsonPath().getString(<span class="string">"bookingId"</span>));
            } <span class="keyword">catch</span> (Exception e) {
                <span class="keyword">return new</span> BookingResult(customerId, 500, <span class="keyword">null</span>);
            }
        }));
    }

    <span class="comment">// Wait for all requests to complete</span>
    executor.shutdown();
    executor.awaitTermination(30, TimeUnit.SECONDS);

    <span class="comment">// Collect results</span>
    List&lt;BookingResult&gt; results = futures.stream()
        .map(f -&gt; {
            <span class="keyword">try</span> { <span class="keyword">return</span> f.get(); }
            <span class="keyword">catch</span> (Exception e) { <span class="keyword">return null</span>; }
        })
        .filter(Objects::nonNull)
        .collect(Collectors.toList());

    <span class="comment">// Verify exactly one success</span>
    <span class="keyword">long</span> successCount = results.stream()
        .filter(r -&gt; r.getStatusCode() == 201)
        .count();
    assertEquals(1, successCount, <span class="string">"Exactly one booking should succeed"</span>);

    <span class="comment">// Verify others got conflict (409)</span>
    <span class="keyword">long</span> conflictCount = results.stream()
        .filter(r -&gt; r.getStatusCode() == 409)
        .count();
    assertEquals(9, conflictCount, <span class="string">"Others should get conflict error"</span>);

    <span class="comment">// Verify database has exactly one booking</span>
    List&lt;Booking&gt; bookings = bookingRepo.findBySlotId(slotId);
    assertEquals(1, bookings.size());
}
</pre>
            </div>

            <h3>11.5 Testing Email Notifications</h3>

            <div class="code-block">
<pre>
<span class="comment">// ============================================
// EMAIL NOTIFICATION TESTING
// ============================================</span>

@Test
@DisplayName(<span class="string">"Test order confirmation email"</span>)
<span class="keyword">void</span> <span class="function">testOrderConfirmationEmail</span>() {
    <span class="comment">// Create order</span>
    String testEmail = <span class="string">"test-"</span> + UUID.randomUUID() + <span class="string">"@mailinator.com"</span>;

    Order order = orderApi.createOrder(OrderBuilder.anOrder()
        .withCustomer(Customer.builder().email(testEmail).build())
        .withItem(<span class="string">"PROD-001"</span>, 2, 99.99)
        .build());

    <span class="comment">// Complete payment</span>
    paymentApi.processPayment(order.getId(), PaymentRequest.builder()
        .cardNumber(<span class="string">"4111111111111111"</span>)
        .expiry(<span class="string">"12/25"</span>)
        .cvv(<span class="string">"123"</span>)
        .build());

    <span class="comment">// Wait for email (using Mailinator API or similar)</span>
    await().atMost(60, SECONDS).until(() -&gt; {
        List&lt;Email&gt; emails = mailinatorApi.getEmails(testEmail);
        <span class="keyword">return</span> emails.stream()
            .anyMatch(e -&gt; e.getSubject().contains(<span class="string">"Order Confirmation"</span>));
    });

    <span class="comment">// Get the email</span>
    Email confirmationEmail = mailinatorApi.getEmails(testEmail).stream()
        .filter(e -&gt; e.getSubject().contains(<span class="string">"Order Confirmation"</span>))
        .findFirst()
        .orElseThrow();

    <span class="comment">// Verify email content</span>
    String emailBody = confirmationEmail.getBody();
    assertThat(emailBody).contains(order.getId());
    assertThat(emailBody).contains(<span class="string">"$199.98"</span>); <span class="comment">// 2 x 99.99</span>
    assertThat(emailBody).contains(<span class="string">"PROD-001"</span>);

    <span class="comment">// Verify email record in database</span>
    EmailLog emailLog = emailLogRepo.findByOrderId(order.getId());
    assertNotNull(emailLog);
    assertEquals(<span class="string">"SENT"</span>, emailLog.getStatus());
    assertEquals(<span class="string">"ORDER_CONFIRMATION"</span>, emailLog.getType());
}

<span class="comment">// Mock email service for unit tests</span>
<span class="keyword">public class</span> <span class="function">MockEmailService</span> <span class="keyword">implements</span> EmailService {
    <span class="keyword">private final</span> List&lt;SentEmail&gt; sentEmails = <span class="keyword">new</span> ArrayList&lt;&gt;();

    @Override
    <span class="keyword">public void</span> <span class="function">send</span>(EmailMessage message) {
        sentEmails.add(<span class="keyword">new</span> SentEmail(message, Instant.now()));
    }

    <span class="keyword">public</span> List&lt;SentEmail&gt; <span class="function">getEmailsSentTo</span>(String recipient) {
        <span class="keyword">return</span> sentEmails.stream()
            .filter(e -&gt; e.getMessage().getTo().equals(recipient))
            .collect(Collectors.toList());
    }

    <span class="keyword">public void</span> <span class="function">clear</span>() {
        sentEmails.clear();
    }
}
</pre>
            </div>
        </section>

        <!-- SECTION 12: Quick Revision Guide -->
        <section id="section12">
            <h2>12. Quick Revision Guide</h2>

            <div class="highlight-box">
                <h3>ğŸ¯ Last-Minute Revision</h3>
                <p>Key concepts and patterns to review before your interview.</p>
            </div>

            <h3>12.1 Testing Pyramid Cheat Sheet</h3>

            <table>
                <tr>
                    <th>Level</th>
                    <th>Percentage</th>
                    <th>Speed</th>
                    <th>Purpose</th>
                    <th>Tools</th>
                </tr>
                <tr>
                    <td>Unit Tests</td>
                    <td>70%</td>
                    <td>Fastest</td>
                    <td>Business logic validation</td>
                    <td>JUnit, pytest, Jest</td>
                </tr>
                <tr>
                    <td>Integration Tests</td>
                    <td>20%</td>
                    <td>Medium</td>
                    <td>Component interaction</td>
                    <td>RestAssured, Testcontainers</td>
                </tr>
                <tr>
                    <td>E2E Tests</td>
                    <td>10%</td>
                    <td>Slowest</td>
                    <td>Critical user journeys</td>
                    <td>Playwright, Cypress</td>
                </tr>
            </table>

            <h3>12.2 HTTP Status Codes for API Testing</h3>

            <table>
                <tr>
                    <th>Code</th>
                    <th>Meaning</th>
                    <th>When to Test</th>
                </tr>
                <tr>
                    <td>200</td>
                    <td>OK</td>
                    <td>Successful GET, PUT, PATCH</td>
                </tr>
                <tr>
                    <td>201</td>
                    <td>Created</td>
                    <td>Successful POST</td>
                </tr>
                <tr>
                    <td>204</td>
                    <td>No Content</td>
                    <td>Successful DELETE</td>
                </tr>
                <tr>
                    <td>400</td>
                    <td>Bad Request</td>
                    <td>Validation errors</td>
                </tr>
                <tr>
                    <td>401</td>
                    <td>Unauthorized</td>
                    <td>Missing/invalid auth</td>
                </tr>
                <tr>
                    <td>403</td>
                    <td>Forbidden</td>
                    <td>Insufficient permissions</td>
                </tr>
                <tr>
                    <td>404</td>
                    <td>Not Found</td>
                    <td>Resource doesn't exist</td>
                </tr>
                <tr>
                    <td>409</td>
                    <td>Conflict</td>
                    <td>Duplicate resource</td>
                </tr>
                <tr>
                    <td>422</td>
                    <td>Unprocessable Entity</td>
                    <td>Semantic validation errors</td>
                </tr>
                <tr>
                    <td>429</td>
                    <td>Too Many Requests</td>
                    <td>Rate limiting</td>
                </tr>
                <tr>
                    <td>500</td>
                    <td>Internal Server Error</td>
                    <td>Server crashes</td>
                </tr>
                <tr>
                    <td>502</td>
                    <td>Bad Gateway</td>
                    <td>Upstream service failures</td>
                </tr>
                <tr>
                    <td>503</td>
                    <td>Service Unavailable</td>
                    <td>Service downtime</td>
                </tr>
            </table>

            <h3>12.3 Key SQL Functions</h3>

            <div class="code-block">
<pre>
<span class="comment">-- Aggregation Functions</span>
COUNT(*), COUNT(DISTINCT col)
SUM(col), AVG(col), MIN(col), MAX(col)

<span class="comment">-- String Functions</span>
CONCAT(str1, str2), UPPER(str), LOWER(str)
SUBSTRING(str, start, len), TRIM(str)
LEFT(str, n), RIGHT(str, n)
REPLACE(str, from, to)

<span class="comment">-- Date Functions</span>
DATE_TRUNC('month', date)
EXTRACT(YEAR FROM date)
NOW(), CURRENT_DATE, CURRENT_TIMESTAMP
DATE_ADD(date, INTERVAL n DAY)
DATEDIFF(date1, date2)

<span class="comment">-- Window Functions</span>
ROW_NUMBER() OVER (ORDER BY col)
RANK() OVER (PARTITION BY cat ORDER BY val DESC)
DENSE_RANK() OVER (ORDER BY col)
LAG(col, 1) OVER (ORDER BY date)
LEAD(col, 1) OVER (ORDER BY date)
SUM(col) OVER (ORDER BY date ROWS UNBOUNDED PRECEDING)
AVG(col) OVER (PARTITION BY category)

<span class="comment">-- Common Patterns</span>
COALESCE(col, default_value)  <span class="comment">-- Handle nulls</span>
NULLIF(col1, col2)  <span class="comment">-- Returns null if equal</span>
CASE WHEN condition THEN value ELSE other END
CAST(col AS INTEGER)
</pre>
            </div>

            <h3>12.4 Common Playwright/Selenium Patterns</h3>

            <div class="code-block">
<pre>
<span class="comment">// Wait patterns</span>
page.waitForSelector(<span class="string">'#element'</span>);
page.waitForLoadState(<span class="string">'networkidle'</span>);
page.waitForResponse(<span class="string">'/api/data'</span>);
page.waitForURL(<span class="string">'**/dashboard'</span>);

<span class="comment">// Interaction patterns</span>
page.click(<span class="string">'button'</span>);
page.fill(<span class="string">'input'</span>, <span class="string">'value'</span>);
page.selectOption(<span class="string">'select'</span>, <span class="string">'option'</span>);
page.check(<span class="string">'input[type="checkbox"]'</span>);
page.hover(<span class="string">'.menu-item'</span>);

<span class="comment">// Assertion patterns</span>
expect(page.locator(<span class="string">'#msg'</span>)).toHaveText(<span class="string">'Success'</span>);
expect(page.locator(<span class="string">'#btn'</span>)).toBeEnabled();
expect(page.locator(<span class="string">'#form'</span>)).toBeVisible();
expect(page).toHaveURL(<span class="string">'/dashboard'</span>);
expect(page).toHaveTitle(<span class="string">'Dashboard'</span>);

<span class="comment">// Selector strategies (priority)</span>
1. data-testid  <span class="comment">// Most reliable</span>
2. ARIA roles   <span class="comment">// Accessibility</span>
3. ID           <span class="comment">// Unique</span>
4. CSS class    <span class="comment">// Less reliable</span>
5. XPath        <span class="comment">// Last resort</span>
</pre>
            </div>

            <h3>12.5 RestAssured API Testing Patterns</h3>

            <div class="code-block">
<pre>
<span class="comment">// Basic GET request</span>
given()
    .header(<span class="string">"Authorization"</span>, <span class="string">"Bearer "</span> + token)
.when()
    .get(<span class="string">"/api/users/{id}"</span>, userId)
.then()
    .statusCode(200)
    .body(<span class="string">"name"</span>, equalTo(<span class="string">"John"</span>))
    .body(<span class="string">"email"</span>, containsString(<span class="string">"@"</span>));

<span class="comment">// POST with JSON body</span>
given()
    .contentType(ContentType.JSON)
    .body(new User(<span class="string">"John"</span>, <span class="string">"john@test.com"</span>))
.when()
    .post(<span class="string">"/api/users"</span>)
.then()
    .statusCode(201)
    .body(<span class="string">"id"</span>, notNullValue());

<span class="comment">// Query parameters</span>
given()
    .queryParam(<span class="string">"page"</span>, 1)
    .queryParam(<span class="string">"size"</span>, 10)
    .queryParam(<span class="string">"sort"</span>, <span class="string">"name,asc"</span>)
.when()
    .get(<span class="string">"/api/users"</span>);

<span class="comment">// Extract response data</span>
String id = given()
    .body(newUser)
.when()
    .post(<span class="string">"/api/users"</span>)
.then()
    .extract().path(<span class="string">"id"</span>);
</pre>
            </div>

            <h3>12.6 Interview Power Phrases</h3>

            <div class="tip-box">
                <h4>ğŸ’¡ Phrases That Impress Interviewers</h4>
                <ul>
                    <li>"I follow the testing pyramid to optimize test coverage and execution time..."</li>
                    <li>"I use data-driven testing to increase coverage with minimal code..."</li>
                    <li>"I implement the Page Object Model for maintainability..."</li>
                    <li>"I integrate tests into CI/CD with quality gates..."</li>
                    <li>"I track flaky tests and prioritize fixing them..."</li>
                    <li>"I use contract testing for microservices integration..."</li>
                    <li>"I validate at API level before writing UI tests..."</li>
                    <li>"I focus on critical user journeys for E2E tests..."</li>
                    <li>"I use shift-left testing to catch defects early..."</li>
                    <li>"I leverage service virtualization to test in isolation..."</li>
                </ul>
            </div>

            <h3>12.7 Common Behavioral Question Templates</h3>

            <div class="tip-box">
                <h4>ğŸ“ STAR Method Template</h4>
                <p><strong>Situation:</strong> "In my role at [Company], we were facing [problem]..."</p>
                <p><strong>Task:</strong> "I was responsible for [specific responsibility]..."</p>
                <p><strong>Action:</strong> "I took the following steps: First..., Then..., Finally..."</p>
                <p><strong>Result:</strong> "As a result, we achieved [quantifiable outcome]..."</p>
            </div>

            <table>
                <tr>
                    <th>Question Type</th>
                    <th>Example Question</th>
                    <th>Key Points to Cover</th>
                </tr>
                <tr>
                    <td>Conflict Resolution</td>
                    <td>"Tell me about a time you disagreed with a team member"</td>
                    <td>Listen, understand their perspective, find common ground, focus on goal</td>
                </tr>
                <tr>
                    <td>Problem Solving</td>
                    <td>"Describe a complex bug you investigated"</td>
                    <td>Systematic approach, tools used, root cause analysis, prevention</td>
                </tr>
                <tr>
                    <td>Leadership</td>
                    <td>"How did you mentor someone?"</td>
                    <td>Patience, teaching approach, their growth, your learning</td>
                </tr>
                <tr>
                    <td>Failure</td>
                    <td>"Tell me about a time you made a mistake"</td>
                    <td>Own it, what you learned, how you prevented recurrence</td>
                </tr>
                <tr>
                    <td>Achievement</td>
                    <td>"What's your biggest accomplishment?"</td>
                    <td>Impact, challenges overcome, collaboration, metrics</td>
                </tr>
            </table>

            <h3>12.8 Final Checklist Before Interview</h3>

            <div class="checklist">
                <h4>ğŸ“‹ Pre-Interview Checklist</h4>
                <ul>
                    <li>âœ… Review your resume and prepare stories for each experience</li>
                    <li>âœ… Practice explaining your test framework architecture</li>
                    <li>âœ… Be ready to write SQL queries on a whiteboard</li>
                    <li>âœ… Know the differences between testing tools (Selenium vs Playwright vs Cypress)</li>
                    <li>âœ… Prepare 3-5 STAR format behavioral answers</li>
                    <li>âœ… Review common API testing patterns</li>
                    <li>âœ… Understand CI/CD pipeline integration</li>
                    <li>âœ… Know how to debug flaky tests</li>
                    <li>âœ… Prepare thoughtful questions to ask the interviewer</li>
                    <li>âœ… Research the company and their tech stack</li>
                    <li>âœ… Review the job description and map your experience</li>
                    <li>âœ… Get a good night's sleep!</li>
                </ul>
            </div>

            <h3>12.9 Questions to Ask the Interviewer</h3>

            <div class="tip-box">
                <h4>ğŸ¤ Thoughtful Questions</h4>
                <ul>
                    <li>"What does the testing strategy look like currently?"</li>
                    <li>"How does QA integrate with the development process?"</li>
                    <li>"What's the ratio of manual to automated testing?"</li>
                    <li>"What tools and frameworks does the team use?"</li>
                    <li>"How do you handle flaky tests?"</li>
                    <li>"What does the CI/CD pipeline look like?"</li>
                    <li>"What are the biggest testing challenges right now?"</li>
                    <li>"How is success measured for this role?"</li>
                    <li>"What opportunities are there for growth?"</li>
                    <li>"What does a typical day look like for this role?"</li>
                </ul>
            </div>

            <div class="important-box">
                <h4>ğŸ¯ Remember</h4>
                <p>The best SDETs combine technical excellence with strong communication skills. Don't just explain what you did - explain WHY you made those decisions and what the IMPACT was. Show enthusiasm for quality and continuous improvement.</p>
            </div>
        </section>

    </div>

    <footer style="text-align: center; padding: 40px; background: var(--primary-color); color: white; margin-top: 40px;">
        <h3>ğŸ¯ Good Luck with Your SDET Interview!</h3>
        <p>Remember: Preparation + Confidence = Success</p>
        <p style="margin-top: 20px; opacity: 0.8;">Comprehensive SDET Interview Preparation Report - 40,000+ Words</p>
        <p style="opacity: 0.6; font-size: 0.9em;">Covering: Automation Testing, Hands-on Scenarios, SQL & Database Validation, CI/CD, Cloud Testing, Behavioral Preparation</p>
    </footer>

</body>
</html>
